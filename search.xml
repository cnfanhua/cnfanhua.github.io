[{"title":"docker容器内postgresql的配置文件位置","url":"https://fanhua.tech/2023/05/08/docker容器内postgresql的配置文件位置/","content":"<p>文件( postgresql.conf )位置如下，特此记录下</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/var/lib/postgresql/data</span><br></pre></td></tr></table></figure>","categories":[],"tags":["docker","postgresql"]},{"title":"前端excel导出Demo(SheetJS)","url":"https://fanhua.tech/2021/07/31/前端excel导出Demo-SheetJS/","content":"<p>简单的 DEMO 示例、JS 库使用 <a href=\"https://github.com/SheetJS/sheetjs\">SheetJS</a></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;tb&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>团队名称<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>负责人<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>签约总数<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>重点人群数<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>履约总数<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">thead</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>1...<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>2...<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>3...<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>4...<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>5...<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;btn_export()&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;ace-icon fa fa-download bigger-125&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span>下载</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;~/assets/js/xlsx.full.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;~/assets/js/xlsx-export.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"comment\">// 导出excel</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">function</span> <span class=\"title function_\">btn_export</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> table = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;#tb&quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> sheet = <span class=\"variable constant_\">XLSX</span>.<span class=\"property\">utils</span>.<span class=\"title function_\">table_to_sheet</span>(table); <span class=\"comment\">//将一个table对象转换成一个sheet对象</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> name = <span class=\"string\">&quot;文件名..&quot;</span> + <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title class_\">Format</span>(<span class=\"string\">&quot;yyyyMMddhhmmss&quot;</span>) + <span class=\"string\">&quot;.xlsx&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">openDownloadDialog</span>(<span class=\"title function_\">sheet2blob</span>(sheet), name);</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["JavaScript"]},{"title":"centos7开禁端口以及IP限制","url":"https://fanhua.tech/2020/09/18/centos7开禁端口以及IP限制/","content":"<h3 id=\"查看防火墙状态\"><a href=\"#查看防火墙状态\" class=\"headerlink\" title=\"查看防火墙状态\"></a>查看防火墙状态</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --state</span><br><span class=\"line\"><span class=\"meta\">#or</span></span><br><span class=\"line\">systemctl status firewalld</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"查看默认区域的设置\"><a href=\"#查看默认区域的设置\" class=\"headerlink\" title=\"查看默认区域的设置\"></a>查看默认区域的设置</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --<span class=\"built_in\">list</span>-all</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"允许-禁止-开机启动防火墙\"><a href=\"#允许-禁止-开机启动防火墙\" class=\"headerlink\" title=\"允许(禁止)开机启动防火墙\"></a>允许(禁止)开机启动防火墙</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl enable firewalld   # 允许启动</span><br><span class=\"line\">systemctl disable firewalld  # 禁止</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"开启-关闭-防火墙\"><a href=\"#开启-关闭-防火墙\" class=\"headerlink\" title=\"开启(关闭)防火墙\"></a>开启(关闭)防火墙</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start firewalld  #开启</span><br><span class=\"line\">systemctl stop firewalld   #关闭</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"开启-关闭-某端口\"><a href=\"#开启-关闭-某端口\" class=\"headerlink\" title=\"开启(关闭)某端口\"></a>开启(关闭)某端口</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --add-port=&lt;port&gt;/&lt;protocol&gt; #添加端口/协议（TCP/UDP）</span><br><span class=\"line\">firewall-cmd --remove-port=&lt;port&gt;/&lt;protocol&gt; #移除端口/协议（TCP/UDP）</span><br><span class=\"line\">firewall-cmd --<span class=\"built_in\">list</span>-ports #查看开放的端口</span><br><span class=\"line\"></span><br><span class=\"line\">#例</span><br><span class=\"line\">firewall-cmd --add-port=<span class=\"number\">1521</span>/tcp  #开放<span class=\"number\">1521</span>端口</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"允许-禁止-某协议\"><a href=\"#允许-禁止-某协议\" class=\"headerlink\" title=\"允许(禁止)某协议\"></a>允许(禁止)某协议</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --add-protocol=&lt;protocol&gt; # 允许协议 (例：icmp，即允许ping)</span><br><span class=\"line\">firewall-cmd --remove-protocol=&lt;protocol&gt; # 取消协议</span><br><span class=\"line\">firewall-cmd --<span class=\"built_in\">list</span>-protocols # 查看允许的协议</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"允许-禁止-某-ip-某端口访问（白名单-accept）（黑名单-reject）\"><a href=\"#允许-禁止-某-ip-某端口访问（白名单-accept）（黑名单-reject）\" class=\"headerlink\" title=\"允许(禁止)某 ip 某端口访问（白名单 accept）（黑名单 reject）\"></a>允许(禁止)某 ip 某端口访问（白名单 accept）（黑名单 reject）</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#允许某ip的所有流量</span><br><span class=\"line\">firewall-cmd --add-rich-rule=<span class=\"string\">&quot;rule family=&quot;</span>ipv4<span class=\"string\">&quot; source address=&quot;</span>&lt;ip&gt;<span class=\"string\">&quot; accept&quot;</span></span><br><span class=\"line\">#拒绝某ip的所有流量</span><br><span class=\"line\">firewall-cmd --add-rich-rule=<span class=\"string\">&quot;rule family=&quot;</span>ipv4<span class=\"string\">&quot; source address=&quot;</span>&lt;ip&gt;<span class=\"string\">&quot; reject&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">#允许某ip访问某端口</span><br><span class=\"line\">firewall-cmd --add-rich-rule=<span class=\"string\">&quot;rule family=&quot;</span>ipv4<span class=\"string\">&quot; source address=&quot;</span>&lt;ip&gt;<span class=\"string\">&quot; port protocol=&quot;</span>&lt;port protocol&gt;<span class=\"string\">&quot; port=&quot;</span>&lt;port&gt;<span class=\"string\">&quot; accept&quot;</span></span><br><span class=\"line\">#禁止某ip访问某端口</span><br><span class=\"line\">firewall-cmd --add-rich-rule=<span class=\"string\">&quot;rule family=&quot;</span>ipv4<span class=\"string\">&quot; source address=&quot;</span>&lt;ip&gt;<span class=\"string\">&quot; port protocol=&quot;</span>&lt;port protocol&gt;<span class=\"string\">&quot; port=&quot;</span>&lt;port&gt;<span class=\"string\">&quot; reject&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">#允许某ip访问某服务</span><br><span class=\"line\">firewall-cmd --add-rich-rule=<span class=\"string\">&quot;rule family=&quot;</span>ipv4<span class=\"string\">&quot; source address=&quot;</span>&lt;ip&gt;<span class=\"string\">&quot; service name=&quot;</span>&lt;service name&gt;<span class=\"string\">&quot; accept&quot;</span></span><br><span class=\"line\">#禁止某ip访问某服务</span><br><span class=\"line\">firewall-cmd --add-rich-rule=<span class=\"string\">&quot;rule family=&quot;</span>ipv4<span class=\"string\">&quot; source address=&quot;</span>&lt;ip&gt;<span class=\"string\">&quot; service name=&quot;</span>&lt;service name&gt;<span class=\"string\">&quot; reject&quot;</span></span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Linux"]},{"title":"关于gitalk报Validation Failed的解决方案","url":"https://fanhua.tech/2020/05/31/关于gitalk报Validation-Failed的解决方案/","content":"<p style=\"color:red\">报错原因：因为 github 对 Issues label 的长度有了要求，如果超过 50 个字符串则会报错.</p>\n\n<p style=\"color:red\">解决方案：</p> &nbsp;&nbsp;定位到博客主题中的 gitalk.ejs 文件\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//...省略其他代码</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> gitalk = <span class=\"keyword\">new</span> <span class=\"title class_\">Gitalk</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">clientID</span>: <span class=\"string\">&quot;&lt;%= theme.gitalk.clientID %&gt;&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">clientSecret</span>: <span class=\"string\">&quot;&lt;%= theme.gitalk.clientSecret %&gt;&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">repo</span>: <span class=\"string\">&quot;&lt;%= theme.gitalk.repo %&gt;&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">owner</span>: <span class=\"string\">&quot;&lt;%= theme.gitalk.owner %&gt;&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// id使用location.pathname 肯定超出50字符</span></span><br><span class=\"line\">  <span class=\"attr\">id</span>: location.<span class=\"property\">pathname</span>,</span><br><span class=\"line\">  <span class=\"attr\">admin</span>: [<span class=\"string\">&quot;&lt;%= theme.gitalk.admin %&gt;&quot;</span>],</span><br><span class=\"line\">  <span class=\"comment\">// facebook-like distraction free mode</span></span><br><span class=\"line\">  <span class=\"attr\">distractionFreeMode</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">//...省略其他代码</span></span><br></pre></td></tr></table></figure>\n\n<p>思路是对 id 进行 md5 加密</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// step1 引用md5.js</span></span><br><span class=\"line\">&lt;script src=<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/blueimp-md5/2.16.0/js/md5.min.js&quot;</span>&gt;&lt;/script&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// step2 对id加密， 加密后的代码如下</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//...省略其他代码</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> id = <span class=\"title function_\">md5</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">location</span>.<span class=\"property\">pathname</span>).<span class=\"title function_\">toUpperCase</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> gitalk = <span class=\"keyword\">new</span> <span class=\"title class_\">Gitalk</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">clientID</span>: <span class=\"string\">&quot;&lt;%= theme.gitalk.clientID %&gt;&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">clientSecret</span>: <span class=\"string\">&quot;&lt;%= theme.gitalk.clientSecret %&gt;&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">repo</span>: <span class=\"string\">&quot;&lt;%= theme.gitalk.repo %&gt;&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">owner</span>: <span class=\"string\">&quot;&lt;%= theme.gitalk.owner %&gt;&quot;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// id使用location.pathname 肯定超出50字符</span></span><br><span class=\"line\">  <span class=\"attr\">id</span>: id,</span><br><span class=\"line\">  <span class=\"attr\">admin</span>: [<span class=\"string\">&quot;&lt;%= theme.gitalk.admin %&gt;&quot;</span>],</span><br><span class=\"line\">  <span class=\"comment\">// facebook-like distraction free mode</span></span><br><span class=\"line\">  <span class=\"attr\">distractionFreeMode</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//...省略其他代码</span></span><br></pre></td></tr></table></figure>\n\n<p>重新发布，重建 Issues，问题解决</p>\n","categories":[],"tags":["Github博客","gitalk"]},{"title":"Oracle删除创建表空间与用户命令","url":"https://fanhua.tech/2020/05/30/Oracle删除创建表空间与用户命令/","content":"<p>连接到 oracle</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sqlplus /nolog</span><br><span class=\"line\">conn sys/sys@<span class=\"number\">127.0</span><span class=\"number\">.0</span><span class=\"number\">.1</span>/oral as sysdba;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"1-删除\"><a href=\"#1-删除\" class=\"headerlink\" title=\"1.删除\"></a>1.删除</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"operator\">/</span><span class=\"operator\">/</span> 删除用户, $user_name替换成实际的用户</span><br><span class=\"line\"><span class=\"keyword\">drop</span> <span class=\"keyword\">user</span> $user_name cascade;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"operator\">/</span><span class=\"operator\">/</span> 删除表空间, $tablespace_name替换成实际的表空间名</span><br><span class=\"line\"><span class=\"keyword\">drop</span> tablespace $tablespace_name INCLUDING CONTENTS;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2-创建\"><a href=\"#2-创建\" class=\"headerlink\" title=\"2.创建\"></a>2.创建</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"operator\">/</span><span class=\"operator\">/</span> 新增表空间</span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span>space $tablespace_name datafile <span class=\"string\">&#x27;$tablespace_name.DBF&#x27;</span> size <span class=\"number\">300</span>m autoextend <span class=\"keyword\">on</span> next <span class=\"number\">10</span>m maxsize unlimited;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"operator\">/</span><span class=\"operator\">/</span> 新增用户</span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">user</span> $user_name identified <span class=\"keyword\">by</span> $user_password <span class=\"keyword\">default</span> tablespace $tablespace_name;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"3-授权\"><a href=\"#3-授权\" class=\"headerlink\" title=\"3.授权\"></a>3.授权</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">grant</span> resource,<span class=\"keyword\">connect</span>,dba <span class=\"keyword\">to</span> $user_name;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"4-导入数据\"><a href=\"#4-导入数据\" class=\"headerlink\" title=\"4.导入数据\"></a>4.导入数据</h2><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">imp $user_name/$user_password@<span class=\"number\">127</span>.<span class=\"number\">0</span>.<span class=\"number\">0</span>.<span class=\"number\">1</span>/orcl file=&#x27;D:\\DB\\<span class=\"number\">0529</span>\\<span class=\"number\">0529</span>.dmp&#x27; full=y</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Oracle"]},{"title":"ABP扩展OrganizationUnit实体","url":"https://fanhua.tech/2019/08/30/ABP扩展OrganizationUnit实体/","content":"<p>由于 OrganizationUnit 是非抽象的，与扩展 role\\user 有所不同</p>\n<h3 id=\"1-新增-OrganizationUnitExtended-继承自-OrganizationUnit\"><a href=\"#1-新增-OrganizationUnitExtended-继承自-OrganizationUnit\" class=\"headerlink\" title=\"1.新增 OrganizationUnitExtended 继承自 OrganizationUnit\"></a>1.新增 OrganizationUnitExtended 继承自 OrganizationUnit</h3><p><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/ABP%E6%89%A9%E5%B1%95OrganizationUnit%E5%AE%9E%E4%BD%93/1.jpg\" alt=\"pic\"></p>\n<h3 id=\"2-添加到-XxDbContext-下\"><a href=\"#2-添加到-XxDbContext-下\" class=\"headerlink\" title=\"2.添加到 XxDbContext 下\"></a>2.添加到 XxDbContext 下</h3><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">virtual</span> DbSet&lt;OrganizationUnitExtended&gt; OrganizationUnitsExtended &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>; &#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-生成迁移文件，重点看下图的标红部分\"><a href=\"#3-生成迁移文件，重点看下图的标红部分\" class=\"headerlink\" title=\"3.生成迁移文件，重点看下图的标红部分\"></a><p style=\"color:red;\">3.生成迁移文件，重点看下图的标红部分<p></h3><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">add</span>-migration Add_Entity_OrganizationUnitExtended</span><br></pre></td></tr></table></figure>\n\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/ABP%E6%89%A9%E5%B1%95OrganizationUnit%E5%AE%9E%E4%BD%93/2.jpg\" alt=\"pic\"></p>\n<p style=\"color:red;\">Discriminator是框架自动生成的，必须设置defaultValue，否则数据无法显示。官方文档未说明其原因。<p>\n\n<h3 id=\"4-更新到数据库\"><a href=\"#4-更新到数据库\" class=\"headerlink\" title=\"4.更新到数据库\"></a>4.更新到数据库</h3><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update-database</span><br></pre></td></tr></table></figure>\n\n<p>原文链接：<a href=\"https://docs.aspnetzero.com/documents/aspnet-core-angular/latest/Extending-Existing-Entities#extending-non-abstract-entities\">https://docs.aspnetzero.com/documents/aspnet-core-angular/latest/Extending-Existing-Entities#extending-non-abstract-entities</a></p>\n","categories":[],"tags":["ABP"]},{"title":"Manjaro linux 安装Mariadb","url":"https://fanhua.tech/2019/02/16/Manjaro-linux-安装Mariadb/","content":"<h3 id=\"1-下载安装\"><a href=\"#1-下载安装\" class=\"headerlink\" title=\"1.下载安装\"></a>1.下载安装</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo pacman -S mariadb</span><br></pre></td></tr></table></figure>\n\n<p>安装完后执行</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mysql_install_db --user=mysql --basedir=/usr --datadir=/var/lib/mysql</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-启用服务\"><a href=\"#2-启用服务\" class=\"headerlink\" title=\"2.启用服务\"></a>2.启用服务</h3><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl <span class=\"built_in\">start</span> mariadb</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-设置密码、远程访问等信息\"><a href=\"#3-设置密码、远程访问等信息\" class=\"headerlink\" title=\"3.设置密码、远程访问等信息\"></a><del>3.设置密码、远程访问等信息</del></h3><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/bin/mysql_secure_installation</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-设置root密码\"><a href=\"#3-设置root密码\" class=\"headerlink\" title=\"3.设置root密码\"></a>3.设置root密码</h3><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mysql</span><br><span class=\"line\"><span class=\"built_in\">set</span> password <span class=\"keyword\">for</span> root@localhost = password(&#x27;新密码&#x27;);</span><br><span class=\"line\"><span class=\"keyword\">exit</span>;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"4-登录\"><a href=\"#4-登录\" class=\"headerlink\" title=\"4.登录\"></a>4.登录</h3><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -uroot -p</span><br></pre></td></tr></table></figure>\n\n<p>enjoy…</p>\n","categories":[],"tags":["Linux","Mysql","Mariadb"]},{"title":"Github Pages 自定义域名启用 HTTPS","url":"https://fanhua.tech/2019/01/25/Github-Pages-自定义域名启用-HTTPS/","content":"<p><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Github-Pages-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E5%90%AF%E7%94%A8-HTTPS/after.jpg\" alt=\"&#39;&#39;\"></p>\n<p><a href=\"/2016/01/28/Github-hexo-Next%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/\">搭建博客教程</a></p>\n<p>免费使用 Let’s Encrypt</p>\n<h3 id=\"1-DNS-解析修改-以记录-A-为例\"><a href=\"#1-DNS-解析修改-以记录-A-为例\" class=\"headerlink\" title=\"1.DNS 解析修改-以记录 A 为例\"></a>1.DNS 解析修改-以记录 A 为例</h3><p>找到 DNS 提供商，修改解析界面（图为阿里的）<br>记录 A 指向为如下 ip 地址，详见<a href=\"https://help.github.com/articles/setting-up-an-apex-domain/#configuring-a-records-with-your-dns-provider\">github</a></p>\n<blockquote>\n<ul>\n<li>185.199.108.153</li>\n<li>185.199.109.153</li>\n<li>185.199.110.153</li>\n<li>185.199.111.153</li>\n</ul>\n</blockquote>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Github-Pages-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E5%90%AF%E7%94%A8-HTTPS/dns.jpg\" alt=\"&#39;&#39;\"></p>\n<p>等待重新解析…</p>\n<h3 id=\"2-github-项目强制启用-https\"><a href=\"#2-github-项目强制启用-https\" class=\"headerlink\" title=\"2.github 项目强制启用 https\"></a>2.github 项目强制启用 https</h3><p><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Github-Pages-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E5%90%AF%E7%94%A8-HTTPS/github-pages.jpg\" alt=\"&#39;&#39;\"></p>\n<p>如果提示 Unavailable for your site because your domain is not properly configured to support HTTPS。 请等待重新解析之后 刷新页面</p>\n","categories":[],"tags":["Github博客"]},{"title":"linux 常用命令","url":"https://fanhua.tech/2019/01/18/linux-常用命令/","content":"<h2 id=\"1-ls-列出文件\"><a href=\"#1-ls-列出文件\" class=\"headerlink\" title=\"1.ls 列出文件\"></a>1.ls 列出文件</h2><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls [-alrtAFR] [name...]</span><br><span class=\"line\">ls -ltr s*  <span class=\"comment\">//列出目前工作目录下所有名称是 s 开头的文件，越新的排越后面</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>-a</td>\n<td align=\"left\">显示所有文件及目录 (ls 内定将文件名或目录名称开头为”.”的视为隐藏档，不会列出)</td>\n</tr>\n<tr>\n<td>-l</td>\n<td align=\"left\">除文件名称外，亦将文件型态、权限、拥有者、文件大小等资讯详细列出</td>\n</tr>\n<tr>\n<td>-r</td>\n<td align=\"left\">将文件以相反次序显示(原定依英文字母次序)</td>\n</tr>\n<tr>\n<td>-t</td>\n<td align=\"left\">将文件依建立时间之先后次序列出</td>\n</tr>\n<tr>\n<td>-A</td>\n<td align=\"left\">同 -a ，但不列出 “.” (目前目录) 及 “..” (父目录)</td>\n</tr>\n<tr>\n<td>-F</td>\n<td align=\"left\">在列出的文件名称后加一符号；例如可执行档则加 “*“, 目录则加 “/“</td>\n</tr>\n<tr>\n<td>-R</td>\n<td align=\"left\">若目录下有文件，则以下之文件亦皆依序列出</td>\n</tr>\n</tbody></table>\n<h2 id=\"2-pwd-返回当前工作目录的名字，为绝对路径\"><a href=\"#2-pwd-返回当前工作目录的名字，为绝对路径\" class=\"headerlink\" title=\"2.pwd 返回当前工作目录的名字，为绝对路径\"></a>2.pwd 返回当前工作目录的名字，为绝对路径</h2><h2 id=\"3-mkdir-新建文件夹\"><a href=\"#3-mkdir-新建文件夹\" class=\"headerlink\" title=\"3.mkdir 新建文件夹\"></a>3.mkdir 新建文件夹</h2><h2 id=\"4-rm-删除\"><a href=\"#4-rm-删除\" class=\"headerlink\" title=\"4.rm 删除\"></a>4.rm 删除</h2><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rm [option] [name...]</span><br></pre></td></tr></table></figure>\n\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>-i</td>\n<td align=\"left\">删除前逐一询问确认。</td>\n</tr>\n<tr>\n<td>-f</td>\n<td align=\"left\">即使原档案属性设为唯读，亦直接删除，无需逐一确认。</td>\n</tr>\n<tr>\n<td>-r</td>\n<td align=\"left\">将目录及以下之档案亦逐一删除。</td>\n</tr>\n</tbody></table>\n<h2 id=\"5-mv-移动-重命名\"><a href=\"#5-mv-移动-重命名\" class=\"headerlink\" title=\"5.mv 移动\\重命名\"></a>5.mv 移动\\重命名</h2><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mv [options] source dest</span><br><span class=\"line\">mv [options] source... directory</span><br></pre></td></tr></table></figure>\n\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>-i</td>\n<td align=\"left\">若指定目录已有同名文件，则先询问是否覆盖旧文件;</td>\n</tr>\n<tr>\n<td>-f</td>\n<td align=\"left\">在 mv 操作要覆盖某已有的目标文件时不给任何指示;</td>\n</tr>\n</tbody></table>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mv 文件名 文件名   <span class=\"comment\">//将源文件名改为目标文件名</span></span><br><span class=\"line\">mv 文件名 目录名   <span class=\"comment\">//将文件移动到目标目录</span></span><br><span class=\"line\">mv 目录名 目录名   <span class=\"comment\">//目标目录已存在，将源目录移动到目标目录；目标目录不存在则改名</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"6-cat-more-less-输出文件内容到-Terminal\"><a href=\"#6-cat-more-less-输出文件内容到-Terminal\" class=\"headerlink\" title=\"6.cat\\more\\less 输出文件内容到 Terminal\"></a>6.cat\\more\\less 输出文件内容到 Terminal</h2><h2 id=\"7-reboot-重启\"><a href=\"#7-reboot-重启\" class=\"headerlink\" title=\"7.reboot 重启\"></a>7.reboot 重启</h2><h2 id=\"8-poweroff-关机\"><a href=\"#8-poweroff-关机\" class=\"headerlink\" title=\"8.poweroff 关机\"></a>8.poweroff 关机</h2><h2 id=\"9-tar-创建和解压文件\"><a href=\"#9-tar-创建和解压文件\" class=\"headerlink\" title=\"9.tar 创建和解压文件\"></a>9.tar 创建和解压文件</h2><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>-c</td>\n<td align=\"left\">创建归档</td>\n</tr>\n<tr>\n<td>-X</td>\n<td align=\"left\">解压归档</td>\n</tr>\n<tr>\n<td>-V</td>\n<td align=\"left\">显示处理过程</td>\n</tr>\n<tr>\n<td>-f</td>\n<td align=\"left\">目标文件，其后必须紧跟目标文件</td>\n</tr>\n<tr>\n<td>-j</td>\n<td align=\"left\">调用 bzip2 进行解压缩</td>\n</tr>\n<tr>\n<td>-z</td>\n<td align=\"left\">调用 gzip 进行解压缩</td>\n</tr>\n<tr>\n<td>-t</td>\n<td align=\"left\">列出归档中的文件</td>\n</tr>\n</tbody></table>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -cvf xx.tar .  <span class=\"comment\">// 将当前目录所有文件归档，但不压缩，注意后面有个&#x27;.&#x27;,不可省略，代表当前目录的意思</span></span><br><span class=\"line\">tar -xvf filename.tar  <span class=\"comment\">// 解压 filename.tar 到当前文件夹</span></span><br><span class=\"line\">tar -cvjf filename.tar.bz2  <span class=\"comment\">// 使用 bzip2 压缩</span></span><br><span class=\"line\">tar -xvjf filename.tar.bz2  <span class=\"comment\">// 解压 filename.tar.bz2 到当前文件夹</span></span><br><span class=\"line\">tar -cvzf filename.tar.gz   <span class=\"comment\">// 使用 gzip  压缩</span></span><br><span class=\"line\">tar -xvzf filename.tar.gz   <span class=\"comment\">// 解压 filename.tar.gz 到当前文件夹</span></span><br><span class=\"line\">tar -tf filename  <span class=\"comment\">// 只查看 filename 归档中的文件，不解压</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"10-chmod-永久改变一个文件的权限，主要有读取、写入、执行三种权限\"><a href=\"#10-chmod-永久改变一个文件的权限，主要有读取、写入、执行三种权限\" class=\"headerlink\" title=\"10.chmod 永久改变一个文件的权限，主要有读取、写入、执行三种权限\"></a>10.chmod 永久改变一个文件的权限，主要有读取、写入、执行三种权限</h2><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod [option] []</span><br></pre></td></tr></table></figure>\n\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"left\">说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>-r</td>\n<td align=\"left\">read</td>\n</tr>\n<tr>\n<td>-w</td>\n<td align=\"left\">write</td>\n</tr>\n<tr>\n<td>-x</td>\n<td align=\"left\">execute</td>\n</tr>\n</tbody></table>\n","categories":[],"tags":["Linux"]},{"title":"Manjaro linux 安装Virtualbox","url":"https://fanhua.tech/2019/01/17/Manjaro-linux-安装Virtualbox/","content":"<h2 id=\"1-安装前-查看内核版本\"><a href=\"#1-安装前-查看内核版本\" class=\"headerlink\" title=\"1.安装前-查看内核版本\"></a>1.安装前-查看内核版本</h2><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mhwd-kernel -li</span><br><span class=\"line\">或</span><br><span class=\"line\">uname -a</span><br></pre></td></tr></table></figure>\n\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Manjaro-linux-%E5%AE%89%E8%A3%85Virtualbox/%E5%86%85%E6%A0%B8.png\"><br>如图所示，414 即为版本号</p>\n<h2 id=\"2-安装-Virtualbox\"><a href=\"#2-安装-Virtualbox\" class=\"headerlink\" title=\"2.安装 Virtualbox\"></a>2.安装 Virtualbox</h2><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo pacman -S virtualbox</span><br></pre></td></tr></table></figure>\n\n<p>执行以上命令并选择匹配的版本</p>\n<h2 id=\"3-常见问题\"><a href=\"#3-常见问题\" class=\"headerlink\" title=\"3.常见问题\"></a>3.常见问题</h2><h3 id=\"3-1-修复无法启动的-BUG\"><a href=\"#3-1-修复无法启动的-BUG\" class=\"headerlink\" title=\"3.1.修复无法启动的 BUG\"></a>3.1.修复无法启动的 BUG</h3><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo /sbin/rcvboxdrv setup   <span class=\"comment\">//修复无法启动的BUG</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-2-安装“增强功能”\"><a href=\"#3-2-安装“增强功能”\" class=\"headerlink\" title=\"3.2.安装“增强功能”\"></a>3.2.安装“增强功能”</h3><blockquote>\n<ul>\n<li>手动安装(当前版本 6.0.4)：<a href=\"https://download.virtualbox.org/virtualbox/6.0.4/Oracle_VM_VirtualBox_Extension_Pack-6.0.4.vbox-extpack\">VirtualBox 6.0.4 Oracle VM VirtualBox Extension Pack</a></li>\n<li>自动安装：启动虚拟机后，点击菜单“设备”-&gt;“安装增强功能”</li>\n</ul>\n</blockquote>\n<h3 id=\"3-2-使用-USB-外设\"><a href=\"#3-2-使用-USB-外设\" class=\"headerlink\" title=\"3.2.使用 USB 外设\"></a>3.2.使用 USB 外设</h3><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo gpasswd -a $USER vboxusers   <span class=\"comment\">//添加当前用户到vboxusers用户组</span></span><br></pre></td></tr></table></figure>\n\n<p>需要将<span style=\"color:red;\">$USER</span>替换为你的用户名</p>\n","categories":[],"tags":["Linux"]},{"title":"Manjaro linux 设置国内源","url":"https://fanhua.tech/2019/01/16/Manjaro-linux-设置国内源/","content":"<h3 id=\"1-选择国内源\"><a href=\"#1-选择国内源\" class=\"headerlink\" title=\"1.选择国内源\"></a>1.选择国内源</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo pacman-mirrors -i -c China -m rank <span class=\"comment\">//选择国内源, 推荐USTC</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-编辑-etc-pacman-conf-增加如下内容\"><a href=\"#2-编辑-etc-pacman-conf-增加如下内容\" class=\"headerlink\" title=\"2.编辑 /etc/pacman.conf 增加如下内容\"></a>2.编辑 /etc/pacman.conf 增加如下内容</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[archlinuxcn]</span><br><span class=\"line\">SigLevel = Optional TrustAll</span><br><span class=\"line\">Server = https:<span class=\"comment\">//mirrors.ustc.edu.cn/archlinuxcn/$arch</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-软件包管理器启用-AUR\"><a href=\"#3-软件包管理器启用-AUR\" class=\"headerlink\" title=\"3.软件包管理器启用 AUR\"></a>3.软件包管理器启用 AUR</h3><p><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Manjaro-linux-%E8%AE%BE%E7%BD%AE%E5%9B%BD%E5%86%85%E6%BA%90/AUR.png\" alt=\"AUR\"></p>\n<h3 id=\"4-更新系统\"><a href=\"#4-更新系统\" class=\"headerlink\" title=\"4.更新系统\"></a>4.更新系统</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo pacman -Syyu</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Linux"]},{"title":"正则表达式","url":"https://fanhua.tech/2018/06/06/正则表达式/","content":"<table>\n<thead>\n<tr>\n<th>语法</th>\n<th>说明</th>\n<th>表达式实例</th>\n<th>完整匹配字符串</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>.</td>\n<td>匹配任意除’\\n’外的字符</td>\n<td>a.c</td>\n<td>abc</td>\n</tr>\n<tr>\n<td>\\</td>\n<td>转义字符</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>预定义字符集</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>\\d</td>\n<td>数字[0-9]</td>\n<td>a\\dc</td>\n<td>a1c</td>\n</tr>\n<tr>\n<td>\\D</td>\n<td>非数字[^\\d]</td>\n<td>a\\dc</td>\n<td>abc</td>\n</tr>\n<tr>\n<td>\\s</td>\n<td>空白字符[&lt;空格&gt;\\t\\r\\n\\f\\v]</td>\n<td>a\\sc</td>\n<td>a c</td>\n</tr>\n<tr>\n<td>\\S</td>\n<td>非空白字符[^\\s]</td>\n<td>a\\Sc</td>\n<td>abc</td>\n</tr>\n<tr>\n<td>\\w</td>\n<td>单词字符[A-Za-z0-9]</td>\n<td>a\\wc</td>\n<td>abc</td>\n</tr>\n<tr>\n<td>\\W</td>\n<td>非单词字符[^\\w]</td>\n<td>a\\Wc</td>\n<td>a c</td>\n</tr>\n<tr>\n<td>数量词(用在字符或(…)之后)</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>*</td>\n<td>匹配前一个字符 0 次或无限次</td>\n<td>agv*</td>\n<td>ag 或者 agvvvvvv</td>\n</tr>\n<tr>\n<td>+</td>\n<td>匹配前一个字符 1 次或无限次</td>\n<td>agv*</td>\n<td>agv 或者 agvvvvvv</td>\n</tr>\n<tr>\n<td>?</td>\n<td>匹配前一个字符 0 次或 1 次</td>\n<td>agv*</td>\n<td>ag 或者 agv</td>\n</tr>\n<tr>\n<td>{m}</td>\n<td>匹配前一个字符 m 次</td>\n<td>ag{2}v</td>\n<td>aggv</td>\n</tr>\n<tr>\n<td>{m,n}</td>\n<td>匹配前一个字符 m 次至 n 次。mn 可以省略，若省略 m,则匹配 0 至 n 次；若省略 n，则匹配 m 至无限次</td>\n<td>ag{1,2}v</td>\n<td>agv 或者 aggv</td>\n</tr>\n<tr>\n<td>边界匹配(不消耗待匹配字符串中的字符)</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>^</td>\n<td>匹配字符串开头。在多行模式中匹配每一行开头</td>\n<td>^abc</td>\n<td>abc</td>\n</tr>\n<tr>\n<td>$</td>\n<td>匹配字符串末尾。在多行模式中匹配每一行末尾</td>\n<td>abc$</td>\n<td>abc</td>\n</tr>\n<tr>\n<td>\\A</td>\n<td>匹配字符串开头。</td>\n<td>\\Aabc</td>\n<td>abc</td>\n</tr>\n<tr>\n<td>\\Z</td>\n<td>匹配字符串末尾</td>\n<td>abc\\Z</td>\n<td>abc</td>\n</tr>\n<tr>\n<td>\\b</td>\n<td>匹配\\w 和\\W 之间</td>\n<td>a\\bac</td>\n<td>a!!ac</td>\n</tr>\n<tr>\n<td>\\B</td>\n<td>[^\\b]</td>\n<td>a\\Bbc</td>\n<td>abc</td>\n</tr>\n<tr>\n<td>逻辑、分组</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>竖线</td>\n<td>左右表达式任意匹配一个</td>\n<td>abc’竖线’def</td>\n<td>abc 或 def</td>\n</tr>\n<tr>\n<td>(…)</td>\n<td>分组</td>\n<td>(abc){2}</td>\n<td>abcabc</td>\n</tr>\n<tr>\n<td>(?P&lt;name&gt;…)</td>\n<td>分组。指定别名</td>\n<td>(?P<id>abc){2}</td>\n<td>abcabc</td>\n</tr>\n</tbody></table>\n","categories":[],"tags":[]},{"title":"Python3笔记-高级","url":"https://fanhua.tech/2018/04/20/Python3笔记-高级/","content":"<h4 id=\"1-动态创建类\"><a href=\"#1-动态创建类\" class=\"headerlink\" title=\"1.动态创建类\"></a>1.动态创建类</h4><p>使用 type 动态创建类, 语法</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">type</span>(类名, (父类名称,), &#123;属性&#125;)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>定义一个 Test 类</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#定义一个Test类</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Test</span>():</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"comment\">#使用type</span></span><br><span class=\"line\">Test = <span class=\"built_in\">type</span>(<span class=\"string\">&#x27;Test&#x27;</span>, (), &#123;&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>创建一个带有属性的类</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Test = <span class=\"built_in\">type</span>(<span class=\"string\">&#x27;Test&#x27;</span>, (), &#123;<span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;peiqi&#x27;</span>&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#翻译为</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Test</span>(<span class=\"title class_ inherited__\">object</span>):</span><br><span class=\"line\">    name=<span class=\"string\">&#x27;peiqi&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>创建带有方法的类</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#首先定义一个方法</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">say</span>():</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;hello python&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#然后跟定义属性一样的方式</span></span><br><span class=\"line\">Test = <span class=\"built_in\">type</span>(<span class=\"string\">&#x27;Test&#x27;</span>, (), &#123;<span class=\"string\">&#x27;say&#x27;</span>:say&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-’-slots-‘\"><a href=\"#2-’-slots-‘\" class=\"headerlink\" title=\"2.’_ slots _‘\"></a>2.’_ <em>slots</em> _‘</h4><p>限制动态给类添加属性。仅对当前实例起作用，对继承的子类不起作用</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">person</span>(<span class=\"title class_ inherited__\">object</span>):</span><br><span class=\"line\">    __slots__ = (<span class=\"string\">&#x27;name&#x27;</span>, <span class=\"string\">&#x27;age&#x27;</span>) <span class=\"comment\">#只允许对person实例添加name, age属性。</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"3-生成器-generator\"><a href=\"#3-生成器-generator\" class=\"headerlink\" title=\"3.生成器-generator\"></a>3.生成器-generator</h4><p>一边循环一遍计算的机制.<br>特点： 01.节约内存 02.迭代到下一次的调用时，所使用的参数都是第一次所保留下的，即是说，在整个所有函数调用的参数都是第一次所调用时保留的，而不是新创建的</p>\n<blockquote>\n<ul>\n<li>创建方法 1</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g1 = (x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">100</span>)) <span class=\"comment\">#注意与列表的区别。列表是使用[],而这是使用()</span></span><br><span class=\"line\"><span class=\"comment\">#使用next或者for循环输出</span></span><br><span class=\"line\"><span class=\"built_in\">next</span>(g1) <span class=\"comment\">#next() 函数获得生成器的下一个返回值。当生成器没有更多的元素时,会抛出StopIteration异常</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> g1:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(x)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>创建方法 2–函数</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#以斐波拉契数列（Fibonacci）为例。除第一个和第二个数外，任意一个数都可由前两个数相加得到</span></span><br><span class=\"line\"><span class=\"comment\">#1, 1, 2, 3, 5, 8, 13, 21, 34, ...</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#要把函数变成生成器。只需要把print(b) 改为 yield b 即可</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">fib</span>(<span class=\"params\">times</span>):</span><br><span class=\"line\">    s = <span class=\"number\">0</span>,</span><br><span class=\"line\">    a,b = <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> s &lt; times:</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(b)    <span class=\"comment\">#yield b</span></span><br><span class=\"line\">        a, b = b, a+b</span><br><span class=\"line\">        s = s+<span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;None&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>生成器都是 Iterator 对象，但 list\\ dict\\ str 虽然是 Iterable，却不是 Iterator.<br>把 list、dict、str 等 Iterable 变成 Iterator 可以使用 iter() 函数</p>\n<h4 id=\"4-迭代器\"><a href=\"#4-迭代器\" class=\"headerlink\" title=\"4.迭代器\"></a>4.迭代器</h4><p>可以被 next()函数调用并不断返回下一个值的对象称为迭代器(Iterator)。</p>\n<p>可迭代对象</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#一类是集合数据类型，如 list\\tuple\\dict\\set\\str</span></span><br><span class=\"line\"><span class=\"comment\">#一类是generator，包括生成器和带yield的generator function</span></span><br></pre></td></tr></table></figure>\n\n<p>可以使用 isinstance()判断一个对象是否是 Iterable 对象</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Iterable</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">isinstance</span>([], Iterable)</span><br><span class=\"line\"><span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">isinstance</span>(<span class=\"string\">&#x27;abc&#x27;</span>, Iterable)</span><br><span class=\"line\"><span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n\n<p>凡是可作用于 for 循环的对象都是 Iterable 类型<br>凡是可作用于 next()函数的对象都是 Iterator 类型<br>集合数据类型如 list、dict、str 等都是 Iterable 但不是 Iterator, 可以通过 iter()函数获得一个 Iterator 对象</p>\n<h4 id=\"5-闭包\"><a href=\"#5-闭包\" class=\"headerlink\" title=\"5.闭包\"></a>5.闭包</h4><p>函数内部函数对外部函数变量的引用(非全局变量)，则称内部函数和这个变量为闭包。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">sum</span>(<span class=\"params\">number1</span>):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">sum2</span>(<span class=\"params\">number2</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number1 + number2</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum2</span><br><span class=\"line\"></span><br><span class=\"line\">res = <span class=\"built_in\">sum</span>(<span class=\"number\">100</span>) <span class=\"comment\">#100 传递给number1</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(res(<span class=\"number\">10</span>)) <span class=\"comment\">#10  传递给number2</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"6-装饰器\"><a href=\"#6-装饰器\" class=\"headerlink\" title=\"6.装饰器\"></a>6.装饰器</h4><p>可以在不改变原函数的基础上对函数进行扩展。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#（闭包）</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">log</span>(<span class=\"params\">func</span>):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">wapper</span>():</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;heiheihei&#x27;</span>)</span><br><span class=\"line\">        func()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> wapper</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@log</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">cat</span>():</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&quot;猫吃鱼&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#打印结果：</span></span><br><span class=\"line\"><span class=\"comment\">#heiheihei</span></span><br><span class=\"line\"><span class=\"comment\">#猫吃鱼</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>无参数</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">log</span>(<span class=\"params\">func</span>):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">wapper</span>():</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;...&#x27;</span>)</span><br><span class=\"line\">        func()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> wapper</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@log</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">say</span>():</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;hello python&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>有参数</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">log</span>(<span class=\"params\">func</span>):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">wapper</span>(<span class=\"params\">text</span>):</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;do something ...&#x27;</span>)</span><br><span class=\"line\">        func(text)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> wapper</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@log</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">say</span>(<span class=\"params\">text</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(text)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>不定长参数</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">log</span>(<span class=\"params\">func</span>):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">wapper</span>(<span class=\"params\">*args, **kwargs</span>):</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;do something...&#x27;</span>)</span><br><span class=\"line\">        func(args, kwargs)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> wapper</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@log</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">say</span>(<span class=\"params\">*args, **kwargs</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;do something..&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>装饰器带参数</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">log_args</span>(<span class=\"params\">name=<span class=\"string\">&#x27;log&#x27;</span></span>):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">log</span>(<span class=\"params\">func</span>):</span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">wapper</span>(<span class=\"params\">*args, **kwargs</span>):</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;do something...&#x27;</span>)</span><br><span class=\"line\">            func(args, kwargs)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> wapper</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@log(<span class=\"params\"><span class=\"string\">&#x27;say&#x27;</span></span>)</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">say</span>(<span class=\"params\">*args, **kwargs</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;do something..&#x27;</span>)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Python3"]},{"title":"JSONP跨域","url":"https://fanhua.tech/2018/04/14/JSONP跨域/","content":"<h4 id=\"1-”源”\"><a href=\"#1-”源”\" class=\"headerlink\" title=\"1.”源”\"></a>1.”源”</h4><p>源是指协议、域名和端口号</p>\n<h4 id=\"2-”同源策略”\"><a href=\"#2-”同源策略”\" class=\"headerlink\" title=\"2.”同源策略”\"></a>2.”同源策略”</h4><p>同源策略是浏览器的一个安全功能，当前域的内容不能访问其他域的内容</p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th>是否同源</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><a href=\"http://www.bustlingv.com/\">http://www.bustlingv.com</a> 和 <a href=\"https://www.bustlingv.com/\">https://www.bustlingv.com</a></td>\n<td>不同源</td>\n<td>协议不同</td>\n</tr>\n<tr>\n<td><a href=\"http://www.bustlingv.com/\">http://www.bustlingv.com</a> 和 <a href=\"http://www.bustlingvs.com/\">http://www.bustlingvs.com</a></td>\n<td>不同源</td>\n<td>域名不同</td>\n</tr>\n<tr>\n<td><a href=\"http://www.bustlingv.com:1080/\">http://www.bustlingv.com:1080</a> 和 <a href=\"http://www.bustlingv.com:1081/\">http://www.bustlingv.com:1081</a></td>\n<td>不同源</td>\n<td>端口号不同</td>\n</tr>\n<tr>\n<td><a href=\"http://www.bustlingv.com/index.html\">http://www.bustlingv.com/index.html</a> 和 <a href=\"http://www.bustlingv.com/a.js\">http://www.bustlingv.com/a.js</a></td>\n<td>同源</td>\n<td>协议、域名和端口号相同</td>\n</tr>\n</tbody></table>\n<h4 id=\"3-jQuery-的-JSONP-请求\"><a href=\"#3-jQuery-的-JSONP-请求\" class=\"headerlink\" title=\"3.jQuery 的 JSONP 请求\"></a>3.jQuery 的 JSONP 请求</h4><p>JSONP 是一种[请求一段 JS 脚本，把执行这段脚本的结果当做数据]的做法，所以只能 get 请求。<br>[凡是拥有 src 属性的标签都有跨域能力]</p>\n<h5 id=\"3-1JSONP-的客户端实现\"><a href=\"#3-1JSONP-的客户端实现\" class=\"headerlink\" title=\"3.1JSONP 的客户端实现\"></a>3.1JSONP 的客户端实现</h5><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../jquery.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    $(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        $.<span class=\"title function_\">ajax</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">url</span>:<span class=\"string\">&#x27;http://localhost:5000/api/values/getalljsonp?callback=?&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">type</span>:<span class=\"string\">&#x27;get&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">datatype</span>:<span class=\"string\">&#x27;jsonp&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">success</span>:<span class=\"keyword\">function</span>(<span class=\"params\">msg</span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(msg);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//简写</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        $.<span class=\"title function_\">getJSON</span>(<span class=\"string\">&#x27;http://localhost:5000/api/values/getalljsonp?callback=?&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\">msg</span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(msg)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//callback=? jquery会自动生成一个随机函数，可以自定义名称。</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"3-2JSONP-服务端-dotnet-core\"><a href=\"#3-2JSONP-服务端-dotnet-core\" class=\"headerlink\" title=\"3.2JSONP 服务端(dotnet core)\"></a>3.2JSONP 服务端(dotnet core)</h5><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> Newtonsoft.Json;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">WebApiTest</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    [<span class=\"meta\">Route(<span class=\"string\">&quot;api/[controller]/[Action]&quot;</span>)</span>]</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">ValuesController</span> : <span class=\"title\">ApiController</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        [<span class=\"meta\">HttpGet</span>]</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">GetAllJsonP</span>(<span class=\"params\"><span class=\"built_in\">string</span> callback</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            List&lt;TestModel&gt; list = <span class=\"keyword\">new</span> List&lt;TestModel&gt;();</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"built_in\">int</span> i=<span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                TestModel model = <span class=\"keyword\">new</span> TestModel()</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    Id = i,</span><br><span class=\"line\">                    Name = <span class=\"string\">$&quot;测试<span class=\"subst\">&#123;i&#125;</span>&quot;</span></span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\">                list.Add(model);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">var</span> json = JsonConvert.SerializeObject(list);</span><br><span class=\"line\">            json = <span class=\"string\">$&quot;<span class=\"subst\">&#123;callback&#125;</span>(<span class=\"subst\">&#123;json&#125;</span>)&quot;</span>;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> json;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">TestModel</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> Id &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>;&#125;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">string</span> Name &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>;&#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["JavaScript","Asp.Net Core"]},{"title":"Python3笔记-基础","url":"https://fanhua.tech/2018/04/12/Python3笔记-基础/","content":"<h4 id=\"1-中文支持\"><a href=\"#1-中文支持\" class=\"headerlink\" title=\"1 中文支持\"></a>1 中文支持</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#文件开头加入</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding:utf-8 -*-</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-注释\"><a href=\"#2-注释\" class=\"headerlink\" title=\"2 注释\"></a>2 注释</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#单行注释</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&#x27;&#x27;&#x27;多行注释</span></span><br><span class=\"line\"><span class=\"string\">注释内容</span></span><br><span class=\"line\"><span class=\"string\">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"3-关键字\"><a href=\"#3-关键字\" class=\"headerlink\" title=\"3 关键字\"></a>3 关键字</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#import keyword</span></span><br><span class=\"line\"><span class=\"comment\">#keyword.kwlist</span></span><br><span class=\"line\"><span class=\"keyword\">and</span>     <span class=\"keyword\">as</span>      <span class=\"keyword\">assert</span>     <span class=\"keyword\">break</span>     <span class=\"keyword\">class</span>      <span class=\"title class_\">continue</span>    <span class=\"keyword\">def</span>     <span class=\"title function_\">del</span></span><br><span class=\"line\"><span class=\"keyword\">elif</span>    <span class=\"keyword\">else</span>    <span class=\"keyword\">except</span>     <span class=\"built_in\">exec</span>      <span class=\"keyword\">finally</span>    <span class=\"keyword\">for</span>         <span class=\"keyword\">from</span>    <span class=\"keyword\">global</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>      <span class=\"keyword\">in</span>      <span class=\"keyword\">import</span>     <span class=\"keyword\">is</span>        <span class=\"keyword\">lambda</span>     <span class=\"keyword\">not</span>         <span class=\"keyword\">or</span>      <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>   <span class=\"keyword\">raise</span>   <span class=\"keyword\">return</span>     <span class=\"keyword\">try</span>       <span class=\"keyword\">while</span>      <span class=\"keyword\">with</span>        <span class=\"keyword\">yield</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4-输出\"><a href=\"#4-输出\" class=\"headerlink\" title=\"4 输出\"></a>4 输出</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;**&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">name = <span class=\"string\">&#x27;zhangsan&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;name=%s&quot;</span>%name)</span><br><span class=\"line\"></span><br><span class=\"line\">age = <span class=\"number\">18</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;name=%s,age=%d&quot;</span>%(name, age))</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>常用的格式符号：</p>\n<table>\n<thead>\n<tr>\n<th>格式符号</th>\n<th>转换</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>%c</td>\n<td>字符</td>\n</tr>\n<tr>\n<td>%s</td>\n<td>通过 str() 字符串转换来格式化</td>\n</tr>\n<tr>\n<td>%i</td>\n<td>有符号十进制整数</td>\n</tr>\n<tr>\n<td>%d</td>\n<td>有符号十进制整数</td>\n</tr>\n<tr>\n<td>%u</td>\n<td>无符号十进制整数</td>\n</tr>\n<tr>\n<td>%o</td>\n<td>八进制整数</td>\n</tr>\n<tr>\n<td>%x</td>\n<td>十六进制整数（小写字母）</td>\n</tr>\n<tr>\n<td>%X</td>\n<td>十六进制整数（大写字母）</td>\n</tr>\n<tr>\n<td>%e</td>\n<td>索引符号（小写’e’）</td>\n</tr>\n<tr>\n<td>%E</td>\n<td>索引符号（大写“E”）</td>\n</tr>\n<tr>\n<td>%f</td>\n<td>浮点实数</td>\n</tr>\n<tr>\n<td>%g</td>\n<td>％f 和％e 的简写</td>\n</tr>\n<tr>\n<td>%G</td>\n<td>％f 和％E 的简写</td>\n</tr>\n</tbody></table>\n<h4 id=\"5-输入\"><a href=\"#5-输入\" class=\"headerlink\" title=\"5 输入\"></a>5 输入</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a = <span class=\"built_in\">input</span>()</span><br><span class=\"line\">b = <span class=\"built_in\">input</span>(<span class=\"string\">&quot;请输入：&quot;</span>)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"6-运算符\"><a href=\"#6-运算符\" class=\"headerlink\" title=\"6 运算符\"></a>6 运算符</h4><table>\n<thead>\n<tr>\n<th>运算符</th>\n<th>描述</th>\n<th>实例</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>+</td>\n<td>加</td>\n<td>两个对象相加 a + b 输出结果 30</td>\n</tr>\n<tr>\n<td>-</td>\n<td>减</td>\n<td>得到负数或是一个数减去另一个数 a - b 输出结果 -10</td>\n</tr>\n<tr>\n<td>*</td>\n<td>乘</td>\n<td>两个数相乘或是返回一个被重复若干次的字符串 a * b 输出结果 200</td>\n</tr>\n<tr>\n<td>/</td>\n<td>除</td>\n<td>x 除以 y b / a 输出结果 2</td>\n</tr>\n<tr>\n<td>//</td>\n<td>取整除</td>\n<td>返回商的整数部分 9//2 输出结果 4 , 9.0//2.0 输出结果 4.0</td>\n</tr>\n<tr>\n<td>%</td>\n<td>取余</td>\n<td>返回除法的余数 b % a 输出结果 0</td>\n</tr>\n<tr>\n<td>**</td>\n<td>幂</td>\n<td>返回 x 的 y 次幂 a**b 为 10 的 20 次方， 输出结果 100000000000000000000</td>\n</tr>\n<tr>\n<td>=</td>\n<td>赋值运算符</td>\n<td>把=号右边的结果给左边的变量 num=1+2*3 结果 num 的值为 7</td>\n</tr>\n<tr>\n<td>+=</td>\n<td>加法赋值运算符</td>\n<td>c += a 等效于 c = c + a</td>\n</tr>\n<tr>\n<td>-=</td>\n<td>减法赋值运算符</td>\n<td>c -= a 等效于 c = c - a</td>\n</tr>\n<tr>\n<td>*=</td>\n<td>乘法赋值运算符</td>\n<td>c _= a 等效于 c = c _ a</td>\n</tr>\n<tr>\n<td>/=</td>\n<td>除法赋值运算符</td>\n<td>c /= a 等效于 c = c / a</td>\n</tr>\n<tr>\n<td>%=</td>\n<td>取模赋值运算符</td>\n<td>c %= a 等效于 c = c % a</td>\n</tr>\n<tr>\n<td>**=</td>\n<td>幂赋值运算符</td>\n<td>c **= a 等效于 c = c ** a</td>\n</tr>\n<tr>\n<td>//=</td>\n<td>取整除赋值运算符</td>\n<td>c //= a 等效于 c = c // a</td>\n</tr>\n</tbody></table>\n<h4 id=\"7-关系运算符\"><a href=\"#7-关系运算符\" class=\"headerlink\" title=\"7 关系运算符\"></a>7 关系运算符</h4><table>\n<thead>\n<tr>\n<th>运算符</th>\n<th>描述</th>\n<th>示例</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>==</td>\n<td>检查两个操作数的值是否相等，如果是则条件变为真。</td>\n<td>如 a=3,b=3 则（a == b) 为 true.</td>\n</tr>\n<tr>\n<td>!=</td>\n<td>检查两个操作数的值是否相等，如果值不相等，则条件变为真。</td>\n<td>如 a=1,b=3 则(a != b) 为 true.</td>\n</tr>\n<tr>\n<td>&lt;&gt;</td>\n<td>检查两个操作数的值是否相等，如果值不相等，则条件变为真。</td>\n<td>如 a=1,b=3 则(a &lt;&gt; b) 为 true。这个类似于 != 运算符</td>\n</tr>\n<tr>\n<td>&gt;</td>\n<td>检查左操作数的值是否大于右操作数的值，如果是，则条件成立。</td>\n<td>如 a=7,b=3 则(a &gt; b) 为 true.</td>\n</tr>\n<tr>\n<td>&lt;</td>\n<td>检查左操作数的值是否小于右操作数的值，如果是，则条件成立。</td>\n<td>如 a=7,b=3 则(a &lt; b) 为 false.</td>\n</tr>\n<tr>\n<td>&gt;=</td>\n<td>检查左操作数的值是否大于或等于右操作数的值，如果是，则条件成立。</td>\n<td>如 a=3,b=3 则(a &gt;= b) 为 true.</td>\n</tr>\n<tr>\n<td>&lt;=</td>\n<td>检查左操作数的值是否小于或等于右操作数的值，如果是，则条件成立。</td>\n<td>如 a=3,b=3 则(a &lt;= b) 为 true.</td>\n</tr>\n</tbody></table>\n<h4 id=\"8-逻辑运算符\"><a href=\"#8-逻辑运算符\" class=\"headerlink\" title=\"8 逻辑运算符\"></a>8 逻辑运算符</h4><table>\n<thead>\n<tr>\n<th>运算符</th>\n<th>逻辑表达式</th>\n<th>描述</th>\n<th>示例</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>and</td>\n<td>x and y</td>\n<td>布尔”与” - 如果 x 为 False，x and y 返回 False，否则它返回 y 的计算值。</td>\n<td>(a and b) 返回 20。</td>\n</tr>\n<tr>\n<td>or</td>\n<td>x or y</td>\n<td>布尔”或” - 如果 x 是 True，它返回 True，否则它返回 y 的计算值。</td>\n<td>(a or b) 返回 10。</td>\n</tr>\n<tr>\n<td>not</td>\n<td>not x</td>\n<td>布尔”非” - 如果 x 为 True，返回 False 。如果 x 为 False，它返回 True。</td>\n<td>not(a and b) 返回 False</td>\n</tr>\n</tbody></table>\n<h4 id=\"9-常见的数据类型转换\"><a href=\"#9-常见的数据类型转换\" class=\"headerlink\" title=\"9 常见的数据类型转换\"></a>9 常见的数据类型转换</h4><table>\n<thead>\n<tr>\n<th>函数</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>int(x [,base ])</td>\n<td>将 x 转换为一个整数</td>\n</tr>\n<tr>\n<td>long(x [,base ])</td>\n<td>将 x 转换为一个长整数</td>\n</tr>\n<tr>\n<td>float(x )</td>\n<td>将 x 转换到一个浮点数</td>\n</tr>\n<tr>\n<td>complex(real [,imag ])</td>\n<td>创建一个复数</td>\n</tr>\n<tr>\n<td>str(x )</td>\n<td>将对象 x 转换为字符串</td>\n</tr>\n<tr>\n<td>repr(x )</td>\n<td>将对象 x 转换为表达式字符串</td>\n</tr>\n<tr>\n<td>eval(str )</td>\n<td>用来计算在字符串中的有效 Python 表达式,并返回一个对象</td>\n</tr>\n<tr>\n<td>tuple(s )</td>\n<td>将序列 s 转换为一个元组</td>\n</tr>\n<tr>\n<td>list(s )</td>\n<td>将序列 s 转换为一个列表</td>\n</tr>\n<tr>\n<td>chr(x )</td>\n<td>将一个整数转换为一个字符</td>\n</tr>\n<tr>\n<td>unichr(x )</td>\n<td>将一个整数转换为 Unicode 字符</td>\n</tr>\n<tr>\n<td>ord(x )</td>\n<td>将一个字符转换为它的整数值</td>\n</tr>\n<tr>\n<td>hex(x )</td>\n<td>将一个整数转换为一个十六进制字符串</td>\n</tr>\n<tr>\n<td>oct(x )</td>\n<td>将一个整数转换为一个八进制字符串</td>\n</tr>\n</tbody></table>\n<h4 id=\"10-判断条件\"><a href=\"#10-判断条件\" class=\"headerlink\" title=\"10 判断条件\"></a>10 判断条件</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#if</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> 条件:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"keyword\">else</span>:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#elif</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> 条件:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"keyword\">elif</span> 条件<span class=\"number\">2</span>:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"keyword\">elif</span> 条件<span class=\"number\">3</span>:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">else</span>:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"11-循环\"><a href=\"#11-循环\" class=\"headerlink\" title=\"11 循环\"></a>11 循环</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#while</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> 条件:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#for</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> 变量 <span class=\"keyword\">in</span> 列表或者字符串:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"keyword\">else</span>:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span> <span class=\"comment\">#不满足条件执行的代码</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#break和continue</span></span><br><span class=\"line\"><span class=\"comment\">#break:终止循环</span></span><br><span class=\"line\"><span class=\"comment\">#continue:终止本次循环、继续循环</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"12-字符串\"><a href=\"#12-字符串\" class=\"headerlink\" title=\"12 字符串\"></a>12 字符串</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a = <span class=\"string\">&quot;asd&quot;</span></span><br><span class=\"line\">b = <span class=\"string\">&#x27;asd&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#下标</span></span><br><span class=\"line\">a[<span class=\"number\">0</span>] <span class=\"comment\">#输出a</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#切片</span></span><br><span class=\"line\"><span class=\"comment\">#对操作的对象截取其中一部分。</span></span><br><span class=\"line\"><span class=\"comment\">#语法：[起始:结束:步长]</span></span><br><span class=\"line\"><span class=\"comment\">#选取的区间属于左闭右开型，[起始，结束)</span></span><br><span class=\"line\">name = <span class=\"string\">&#x27;abcdef&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(name[<span class=\"number\">0</span>:<span class=\"number\">3</span>]) <span class=\"comment\">#abc</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(name[<span class=\"number\">2</span>:]) <span class=\"comment\">#cdef</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(name[<span class=\"number\">1</span>:-<span class=\"number\">1</span>]) <span class=\"comment\">#取 下表为1开始 到最后 第2个之间的字符串 bcde</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(name[:<span class=\"number\">3</span>]) <span class=\"comment\">#abc</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(name[::<span class=\"number\">2</span>]) <span class=\"comment\">#步长每两个取一个 ace</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(name[<span class=\"number\">1</span>:<span class=\"number\">5</span>:<span class=\"number\">2</span>]) <span class=\"comment\">#可以理解为name[1:5][::2] bd</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(name[::-<span class=\"number\">2</span>]) <span class=\"comment\">#倒叙取值 每两个取一个 fdc</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"13-字符串常见操作\"><a href=\"#13-字符串常见操作\" class=\"headerlink\" title=\"13 字符串常见操作\"></a>13 字符串常见操作</h4><h5 id=\"13-1-find-str-start-0-end-len-检测-str-是否包含在-mystr-中，存在则后返回索引值，否则返回-1\"><a href=\"#13-1-find-str-start-0-end-len-检测-str-是否包含在-mystr-中，存在则后返回索引值，否则返回-1\" class=\"headerlink\" title=\"13.1 find(str, start=0, end=len()) 检测 str 是否包含在 mystr 中，存在则后返回索引值，否则返回-1\"></a>13.1 find(str, start=0, end=len()) 检测 str 是否包含在 mystr 中，存在则后返回索引值，否则返回-1</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">str</span> = <span class=\"string\">&#x27;ad&#x27;</span></span><br><span class=\"line\">mystr = <span class=\"string\">&#x27;avcsad&#x27;</span></span><br><span class=\"line\">mystr.find(<span class=\"built_in\">str</span>, <span class=\"number\">0</span>, <span class=\"built_in\">len</span>(mystr)) <span class=\"comment\">#输出4</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"13-2-index-str-start-0-end-len-和-find-方法一样。区别是-不存在则抛出异常\"><a href=\"#13-2-index-str-start-0-end-len-和-find-方法一样。区别是-不存在则抛出异常\" class=\"headerlink\" title=\"13.2 index(str, start=0, end=len()) 和 find()方法一样。区别是 不存在则抛出异常\"></a>13.2 index(str, start=0, end=len()) 和 find()方法一样。区别是 不存在则抛出异常</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mystr.index(<span class=\"built_in\">str</span>, <span class=\"number\">0</span>, <span class=\"built_in\">len</span>(mystr))</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"13-3-count-str-返回-str-在-start-和-end-之间在字符串中出现的次数\"><a href=\"#13-3-count-str-返回-str-在-start-和-end-之间在字符串中出现的次数\" class=\"headerlink\" title=\"13.3 count(str) 返回 str 在 start 和 end 之间在字符串中出现的次数\"></a>13.3 count(str) 返回 str 在 start 和 end 之间在字符串中出现的次数</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mystr.count(<span class=\"built_in\">str</span>)</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"13-4-replace-str1-str2-count-把-str1-替换成-str2。count-可空，替换不超过-count-次\"><a href=\"#13-4-replace-str1-str2-count-把-str1-替换成-str2。count-可空，替换不超过-count-次\" class=\"headerlink\" title=\"13.4 replace(str1, str2, count) #把 str1 替换成 str2。count 可空，替换不超过 count 次\"></a>13.4 replace(str1, str2, count) #把 str1 替换成 str2。count 可空，替换不超过 count 次</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mystr.replace(str1, str2)</span><br><span class=\"line\">mystr.replace(str1, str2, <span class=\"number\">2</span>)</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"13-5-split-str-count-以-str-字符串分割。count-可空，分割不超过-count-次\"><a href=\"#13-5-split-str-count-以-str-字符串分割。count-可空，分割不超过-count-次\" class=\"headerlink\" title=\"13.5 split(str, count) #以 str 字符串分割。count 可空，分割不超过 count 次\"></a>13.5 split(str, count) #以 str 字符串分割。count 可空，分割不超过 count 次</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name = <span class=\"string\">&#x27;hello world hello python&#x27;</span></span><br><span class=\"line\">name.split(<span class=\"string\">&#x27; &#x27;</span>)</span><br><span class=\"line\">[<span class=\"string\">&#x27;hello&#x27;</span>, <span class=\"string\">&#x27;world&#x27;</span>, <span class=\"string\">&#x27;hello&#x27;</span>, <span class=\"string\">&#x27;python&#x27;</span>]</span><br><span class=\"line\">name.split(<span class=\"string\">&#x27; &#x27;</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\">[<span class=\"string\">&#x27;hello&#x27;</span>, <span class=\"string\">&#x27;world&#x27;</span>, <span class=\"string\">&#x27;hello python&#x27;</span>]</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"13-6-capitalize-把字符串的第一个字符大写\"><a href=\"#13-6-capitalize-把字符串的第一个字符大写\" class=\"headerlink\" title=\"13.6 capitalize() #把字符串的第一个字符大写\"></a>13.6 capitalize() #把字符串的第一个字符大写</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name = <span class=\"string\">&#x27;hello world hello python&#x27;</span></span><br><span class=\"line\">name.capitalize()</span><br><span class=\"line\"><span class=\"string\">&#x27;Hello world hello python&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"13-7-title-把字符串的每个单词首字母大写\"><a href=\"#13-7-title-把字符串的每个单词首字母大写\" class=\"headerlink\" title=\"13.7 title() #把字符串的每个单词首字母大写\"></a>13.7 title() #把字符串的每个单词首字母大写</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name = <span class=\"string\">&#x27;hello world hello python&#x27;</span></span><br><span class=\"line\">name.title()</span><br><span class=\"line\"><span class=\"string\">&#x27;Hello World Hello Python&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"13-8-startswith-str-检查字符串是否以-str-开头，是返回-True-否则返回-False\"><a href=\"#13-8-startswith-str-检查字符串是否以-str-开头，是返回-True-否则返回-False\" class=\"headerlink\" title=\"13.8 startswith(str) 检查字符串是否以 str 开头，是返回 True 否则返回 False\"></a>13.8 startswith(str) 检查字符串是否以 str 开头，是返回 True 否则返回 False</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name = <span class=\"string\">&#x27;hello world hello python&#x27;</span></span><br><span class=\"line\">name.startwith(<span class=\"string\">&#x27;world&#x27;</span>)</span><br><span class=\"line\">Flase</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"13-9-endswith-str-检查字符串是否已-str-结尾，是返回-True-否则返回-False\"><a href=\"#13-9-endswith-str-检查字符串是否已-str-结尾，是返回-True-否则返回-False\" class=\"headerlink\" title=\"13.9 endswith(str) 检查字符串是否已 str 结尾，是返回 True 否则返回 False\"></a>13.9 endswith(str) 检查字符串是否已 str 结尾，是返回 True 否则返回 False</h5><h5 id=\"13-10-lower-将字符串所有大写字符转为小写\"><a href=\"#13-10-lower-将字符串所有大写字符转为小写\" class=\"headerlink\" title=\"13.10 lower() 将字符串所有大写字符转为小写\"></a>13.10 lower() 将字符串所有大写字符转为小写</h5><h5 id=\"13-11-upper-将字符串所有小写字符转为大写\"><a href=\"#13-11-upper-将字符串所有小写字符转为大写\" class=\"headerlink\" title=\"13.11 upper() 将字符串所有小写字符转为大写\"></a>13.11 upper() 将字符串所有小写字符转为大写</h5><h5 id=\"13-12-ljust-width-返回一个原字符串左对齐-并使用空格填充至长度-width-的新字符串\"><a href=\"#13-12-ljust-width-返回一个原字符串左对齐-并使用空格填充至长度-width-的新字符串\" class=\"headerlink\" title=\"13.12 ljust(width) 返回一个原字符串左对齐,并使用空格填充至长度 width 的新字符串\"></a>13.12 ljust(width) 返回一个原字符串左对齐,并使用空格填充至长度 width 的新字符串</h5><h5 id=\"13-13-rjust-width-返回一个原字符串右对齐-并使用空格填充至长度-width-的新字符串\"><a href=\"#13-13-rjust-width-返回一个原字符串右对齐-并使用空格填充至长度-width-的新字符串\" class=\"headerlink\" title=\"13.13 rjust(width) 返回一个原字符串右对齐,并使用空格填充至长度 width 的新字符串\"></a>13.13 rjust(width) 返回一个原字符串右对齐,并使用空格填充至长度 width 的新字符串</h5><h5 id=\"13-14-center-width-返回一个原字符串居中-并使用空格填充至长度-width-的新字符串\"><a href=\"#13-14-center-width-返回一个原字符串居中-并使用空格填充至长度-width-的新字符串\" class=\"headerlink\" title=\"13.14 center(width) 返回一个原字符串居中,并使用空格填充至长度 width 的新字符串\"></a>13.14 center(width) 返回一个原字符串居中,并使用空格填充至长度 width 的新字符串</h5><h5 id=\"13-15-lstrip-删除字符串左边的空白字符\"><a href=\"#13-15-lstrip-删除字符串左边的空白字符\" class=\"headerlink\" title=\"13.15 lstrip() 删除字符串左边的空白字符\"></a>13.15 lstrip() 删除字符串左边的空白字符</h5><h5 id=\"13-16-rstrip-删除字符串末尾的空白字符\"><a href=\"#13-16-rstrip-删除字符串末尾的空白字符\" class=\"headerlink\" title=\"13.16 rstrip() 删除字符串末尾的空白字符\"></a>13.16 rstrip() 删除字符串末尾的空白字符</h5><h5 id=\"13-17-strip-删除字符串两端的空白字符\"><a href=\"#13-17-strip-删除字符串两端的空白字符\" class=\"headerlink\" title=\"13.17 strip() 删除字符串两端的空白字符\"></a>13.17 strip() 删除字符串两端的空白字符</h5><h5 id=\"13-18-rfind-str-0-len-类似-find-只不过是从右侧开始查找\"><a href=\"#13-18-rfind-str-0-len-类似-find-只不过是从右侧开始查找\" class=\"headerlink\" title=\"13.18 rfind(str, 0, len()) 类似 find().只不过是从右侧开始查找\"></a>13.18 rfind(str, 0, len()) 类似 find().只不过是从右侧开始查找</h5><h5 id=\"13-19-rindex-str-0-len-类似-index-只不过是从右侧开始查找\"><a href=\"#13-19-rindex-str-0-len-类似-index-只不过是从右侧开始查找\" class=\"headerlink\" title=\"13.19 rindex(str, 0, len()) 类似 index().只不过是从右侧开始查找\"></a>13.19 rindex(str, 0, len()) 类似 index().只不过是从右侧开始查找</h5><h5 id=\"13-20-partition-str-分割字符串成-str-前-str-str-后\"><a href=\"#13-20-partition-str-分割字符串成-str-前-str-str-后\" class=\"headerlink\" title=\"13.20 partition(str) 分割字符串成 str 前 str str 后\"></a>13.20 partition(str) 分割字符串成 str 前 str str 后</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name = <span class=\"string\">&#x27;hello world hello python&#x27;</span></span><br><span class=\"line\">name.partition(<span class=\"string\">&#x27;world&#x27;</span>)</span><br><span class=\"line\">(<span class=\"string\">&#x27;hello&#x27;</span>, <span class=\"string\">&#x27;world&#x27;</span>, <span class=\"string\">&#x27;hello python&#x27;</span>)</span><br><span class=\"line\">name.partition(<span class=\"string\">&#x27;hello&#x27;</span>)</span><br><span class=\"line\">(<span class=\"string\">&#x27;&#x27;</span>, <span class=\"string\">&#x27;hello&#x27;</span>, <span class=\"string\">&#x27; world hello python&#x27;</span>)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"13-21-类似-partition-str-从右侧开始\"><a href=\"#13-21-类似-partition-str-从右侧开始\" class=\"headerlink\" title=\"13.21 类似 partition(str) 从右侧开始\"></a>13.21 类似 partition(str) 从右侧开始</h5><h5 id=\"13-22-splitlines-按行分割、返回列表\"><a href=\"#13-22-splitlines-按行分割、返回列表\" class=\"headerlink\" title=\"13.22 splitlines() 按行分割、返回列表\"></a>13.22 splitlines() 按行分割、返回列表</h5><h5 id=\"13-23-isalpha-判断字符串中的所有字符是否是字母。是返回-True-否则返回-False\"><a href=\"#13-23-isalpha-判断字符串中的所有字符是否是字母。是返回-True-否则返回-False\" class=\"headerlink\" title=\"13.23 isalpha() 判断字符串中的所有字符是否是字母。是返回 True 否则返回 False\"></a>13.23 isalpha() 判断字符串中的所有字符是否是字母。是返回 True 否则返回 False</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name = <span class=\"string\">&#x27;zhangsan&#x27;</span></span><br><span class=\"line\">name.isalpha()</span><br><span class=\"line\"><span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">name = <span class=\"string\">&#x27;zhangsan &#x27;</span></span><br><span class=\"line\">name.isalpha()</span><br><span class=\"line\"><span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">name = <span class=\"string\">&#x27;zhangsan212&#x27;</span></span><br><span class=\"line\">name.isalpha()</span><br><span class=\"line\"><span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"13-24-isdigit-判断字符串中的所有字符是否是数字。是返回-True-否则返回-False\"><a href=\"#13-24-isdigit-判断字符串中的所有字符是否是数字。是返回-True-否则返回-False\" class=\"headerlink\" title=\"13.24 isdigit() 判断字符串中的所有字符是否是数字。是返回 True 否则返回 False\"></a>13.24 isdigit() 判断字符串中的所有字符是否是数字。是返回 True 否则返回 False</h5><h5 id=\"13-25-isalnum-判断字符串中的所有字符是否是字母或者数字。是返回-True-否则返回-False\"><a href=\"#13-25-isalnum-判断字符串中的所有字符是否是字母或者数字。是返回-True-否则返回-False\" class=\"headerlink\" title=\"13.25 isalnum() 判断字符串中的所有字符是否是字母或者数字。是返回 True 否则返回 False\"></a>13.25 isalnum() 判断字符串中的所有字符是否是字母或者数字。是返回 True 否则返回 False</h5><h5 id=\"13-26-isspace-判断字符串中的所有字符只包含空格。是返回-True-否则返回-False\"><a href=\"#13-26-isspace-判断字符串中的所有字符只包含空格。是返回-True-否则返回-False\" class=\"headerlink\" title=\"13.26 isspace() 判断字符串中的所有字符只包含空格。是返回 True 否则返回 False\"></a>13.26 isspace() 判断字符串中的所有字符只包含空格。是返回 True 否则返回 False</h5><h5 id=\"13-27-join-str-字符串中每个字符后面插入-str-返回新字符串\"><a href=\"#13-27-join-str-字符串中每个字符后面插入-str-返回新字符串\" class=\"headerlink\" title=\"13.27 join(str) 字符串中每个字符后面插入 str,返回新字符串\"></a>13.27 join(str) 字符串中每个字符后面插入 str,返回新字符串</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">str</span> = <span class=\"string\">&#x27;_&#x27;</span></span><br><span class=\"line\">name = <span class=\"string\">&#x27;zhangsan&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">str</span>.join(name)</span><br><span class=\"line\"><span class=\"string\">&#x27;z_h_a_n_g_s_a_n_&#x27;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"14-列表\"><a href=\"#14-列表\" class=\"headerlink\" title=\"14 列表\"></a>14 列表</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#list是一种有序集合。list中包含的元素并不要求都必须是同一种数据类型</span></span><br><span class=\"line\"><span class=\"comment\">#1占内存小</span></span><br><span class=\"line\"><span class=\"comment\">#2访问速度慢</span></span><br><span class=\"line\"><span class=\"comment\">#3有顺序</span></span><br><span class=\"line\"><span class=\"comment\">#4key的元素不可变。list不能作为dict的key</span></span><br><span class=\"line\"></span><br><span class=\"line\">empty_l = [] <span class=\"comment\"># l是一个空列表</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#列表循环</span></span><br><span class=\"line\">l = [<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"number\">12</span>, <span class=\"literal\">True</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##for</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> l:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(x)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##while</span></span><br><span class=\"line\">length  = <span class=\"built_in\">len</span>(l)</span><br><span class=\"line\">i = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span> i &lt; lenth:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(l[i])</span><br><span class=\"line\">    i+=<span class=\"number\">1</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"15-列表相关操作\"><a href=\"#15-列表相关操作\" class=\"headerlink\" title=\"15 列表相关操作\"></a>15 列表相关操作</h4><h5 id=\"15-1-添加元素-append-extend-insert\"><a href=\"#15-1-添加元素-append-extend-insert\" class=\"headerlink\" title=\"15.1 添加元素 (append, extend, insert)\"></a>15.1 添加元素 (append, extend, insert)</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#append(object)</span></span><br><span class=\"line\">stu_l = [<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"string\">&#x27;wangwu&#x27;</span>]</span><br><span class=\"line\">stu_l.append(<span class=\"string\">&#x27;maliu&#x27;</span>)</span><br><span class=\"line\">[<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"string\">&#x27;wangwu&#x27;</span>, <span class=\"string\">&#x27;maliu&#x27;</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#extend(object)将元素逐一添加到列表中</span></span><br><span class=\"line\">stu_l = [<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"string\">&#x27;wangwu&#x27;</span>]</span><br><span class=\"line\">stu_another = [<span class=\"string\">&#x27;xiaoming&#x27;</span>, <span class=\"string\">&#x27;xiaohong&#x27;</span>]</span><br><span class=\"line\">stu_l.append(stu_another)</span><br><span class=\"line\">[<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"string\">&#x27;wangwu&#x27;</span>, [<span class=\"string\">&#x27;xiaoming&#x27;</span>, <span class=\"string\">&#x27;xiaohong&#x27;</span>]]</span><br><span class=\"line\">stu_l.extend(stu_another)</span><br><span class=\"line\">[<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"string\">&#x27;wangwu&#x27;</span>, [<span class=\"string\">&#x27;xiaoming&#x27;</span>, <span class=\"string\">&#x27;xiaohong&#x27;</span>], <span class=\"string\">&#x27;xiaoming&#x27;</span>, <span class=\"string\">&#x27;xiaohong&#x27;</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#insert(index, object) 将object添加到index索引下</span></span><br><span class=\"line\">stu_l.insert(<span class=\"number\">0</span>, stu_another)</span><br><span class=\"line\">[[<span class=\"string\">&#x27;xiaoming&#x27;</span>, <span class=\"string\">&#x27;xiaohong&#x27;</span>], <span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"string\">&#x27;wangwu&#x27;</span>, [<span class=\"string\">&#x27;xiaoming&#x27;</span>, <span class=\"string\">&#x27;xiaohong&#x27;</span>], <span class=\"string\">&#x27;xiaoming&#x27;</span>, <span class=\"string\">&#x27;xiaohong&#x27;</span>]</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"15-2-修改元素\"><a href=\"#15-2-修改元素\" class=\"headerlink\" title=\"15.2 修改元素\"></a>15.2 修改元素</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stu_l = [<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"string\">&#x27;wangwu&#x27;</span>]</span><br><span class=\"line\">stu_l[<span class=\"number\">0</span>] = <span class=\"string\">&#x27;xiaoming&#x27;</span></span><br><span class=\"line\">[<span class=\"string\">&#x27;xiaoming&#x27;</span>, <span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"string\">&#x27;wangwu&#x27;</span>]</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"15-3-查找元素-in-not-in-index-count\"><a href=\"#15-3-查找元素-in-not-in-index-count\" class=\"headerlink\" title=\"15.3 查找元素(in, not in, index, count)\"></a>15.3 查找元素(in, not in, index, count)</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stu_l = [<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"string\">&#x27;wangwu&#x27;</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#in, not in</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"string\">&#x27;zhangsan&#x27;</span> <span class=\"keyword\">in</span> stu_l:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;在列表中&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">else</span>:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;不在列表中&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#index, count与字符串用法相同，详见13</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"15-4-删除元素-del-pop-remove\"><a href=\"#15-4-删除元素-del-pop-remove\" class=\"headerlink\" title=\"15.4 删除元素(del, pop, remove)\"></a>15.4 删除元素(del, pop, remove)</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#del根据下标删除</span></span><br><span class=\"line\"><span class=\"comment\">#pop()删除最后一个元素</span></span><br><span class=\"line\"><span class=\"comment\">#remove(str) 根据元素的值进行删除</span></span><br><span class=\"line\">stu_l = [<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"string\">&#x27;wangwu&#x27;</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">del</span> stu_l[<span class=\"number\">0</span>]</span><br><span class=\"line\">stu_l = [<span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"string\">&#x27;wangwu&#x27;</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">stu_l.pop()</span><br><span class=\"line\">stu_l = [<span class=\"string\">&#x27;lisi&#x27;</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">stu_l.remove(<span class=\"string\">&#x27;lisi&#x27;</span>)</span><br><span class=\"line\">stu_l = []</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"15-5-排序-sort-reverse\"><a href=\"#15-5-排序-sort-reverse\" class=\"headerlink\" title=\"15.5 排序(sort, reverse)\"></a>15.5 排序(sort, reverse)</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#sort()方法是将list 默认有小到大重新排序</span></span><br><span class=\"line\"><span class=\"comment\">#sort(reverse=True) 由大到小排序</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#reverse()将list逆置</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"15-6-enumerate-带下标索引的遍历\"><a href=\"#15-6-enumerate-带下标索引的遍历\" class=\"headerlink\" title=\"15.6 enumerate()带下标索引的遍历\"></a>15.6 enumerate()带下标索引的遍历</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">list_a = [<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"number\">123</span>, <span class=\"literal\">True</span>]</span><br><span class=\"line\"><span class=\"keyword\">for</span> index, li <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(list_a):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;%s:%s&#x27;</span>%(index, li))</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"16-元组\"><a href=\"#16-元组\" class=\"headerlink\" title=\"16 元组\"></a>16 元组</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#组与列表类似，不同之处在于元组的元素不能修改。</span></span><br><span class=\"line\">aTuple = (<span class=\"string\">&#x27;asd&#x27;</span>, <span class=\"number\">123</span>)</span><br><span class=\"line\">bTuple = (, <span class=\"literal\">True</span>) <span class=\"comment\">#,号不可省略</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#使用下表方式访问元组</span></span><br><span class=\"line\">aTuple[<span class=\"number\">0</span>]</span><br><span class=\"line\"><span class=\"comment\">#元组不可修改元素 不可删除元素</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#内置函数index(), count() 与字符串操作类似</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"17-字典\"><a href=\"#17-字典\" class=\"headerlink\" title=\"17 字典\"></a>17 字典</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#dict特点</span></span><br><span class=\"line\"><span class=\"comment\">#1访问速度快</span></span><br><span class=\"line\"><span class=\"comment\">#2dict的key不能重复</span></span><br><span class=\"line\"><span class=\"comment\">#3dict占内存大</span></span><br><span class=\"line\"><span class=\"comment\">#4key-value序对没有顺序</span></span><br><span class=\"line\"></span><br><span class=\"line\">a = &#123;&#125; <span class=\"comment\">#空字典a</span></span><br><span class=\"line\">stu_a = &#123;<span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;id&#x27;</span>:<span class=\"number\">1</span>, <span class=\"string\">&#x27;address&#x27;</span>:<span class=\"string\">&#x27;beijing&#x27;</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#访问，如果key不存在则报错</span></span><br><span class=\"line\">stu_a[<span class=\"string\">&#x27;name&#x27;</span>]</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"18-字典的常见操作\"><a href=\"#18-字典的常见操作\" class=\"headerlink\" title=\"18 字典的常见操作\"></a>18 字典的常见操作</h4><h5 id=\"18-1-添加元素\"><a href=\"#18-1-添加元素\" class=\"headerlink\" title=\"18.1 添加元素\"></a>18.1 添加元素</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#变量名[&#x27;键&#x27;] = 值</span></span><br><span class=\"line\">stu_a = &#123;<span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;id&#x27;</span>:<span class=\"number\">1</span>, <span class=\"string\">&#x27;address&#x27;</span>:<span class=\"string\">&#x27;beijing&#x27;</span>&#125;</span><br><span class=\"line\">stu_a[<span class=\"string\">&#x27;phone&#x27;</span>] = <span class=\"number\">123456</span></span><br><span class=\"line\"><span class=\"comment\">#如果键存在 则会覆盖原来的直</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"18-2-修改元素\"><a href=\"#18-2-修改元素\" class=\"headerlink\" title=\"18.2 修改元素\"></a>18.2 修改元素</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#变量名[&#x27;键&#x27;] = 值</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"18-3-删除-del-clear\"><a href=\"#18-3-删除-del-clear\" class=\"headerlink\" title=\"18.3 删除(del, clear())\"></a>18.3 删除(del, clear())</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stu_a = &#123;<span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;id&#x27;</span>:<span class=\"number\">1</span>, <span class=\"string\">&#x27;address&#x27;</span>:<span class=\"string\">&#x27;beijing&#x27;</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#删除单个值</span></span><br><span class=\"line\"><span class=\"keyword\">del</span> stu_a[<span class=\"string\">&#x27;name&#x27;</span>]</span><br><span class=\"line\"><span class=\"comment\">#如果键不存在则会抛出异常</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#删除字典对象</span></span><br><span class=\"line\"><span class=\"keyword\">del</span> stu_a</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#清空字典</span></span><br><span class=\"line\">stu_a.clear()</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"18-4-len-测量字典中，键值对的个数\"><a href=\"#18-4-len-测量字典中，键值对的个数\" class=\"headerlink\" title=\"18.4 len()测量字典中，键值对的个数\"></a>18.4 len()测量字典中，键值对的个数</h5><h5 id=\"18-5-keys-返回一个包含所有-key-的列表\"><a href=\"#18-5-keys-返回一个包含所有-key-的列表\" class=\"headerlink\" title=\"18.5 keys()返回一个包含所有 key 的列表\"></a>18.5 keys()返回一个包含所有 key 的列表</h5><h5 id=\"18-6-values-返回一个包含所有-value-的列表\"><a href=\"#18-6-values-返回一个包含所有-value-的列表\" class=\"headerlink\" title=\"18.6 values()返回一个包含所有 value 的列表\"></a>18.6 values()返回一个包含所有 value 的列表</h5><h5 id=\"18-7-items-返回一个包含所有-键，-值-元组的列表\"><a href=\"#18-7-items-返回一个包含所有-键，-值-元组的列表\" class=\"headerlink\" title=\"18.7 items()返回一个包含所有(键， 值)元组的列表\"></a>18.7 items()返回一个包含所有(键， 值)元组的列表</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stu_a = &#123;<span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;id&#x27;</span>:<span class=\"number\">1</span>, <span class=\"string\">&#x27;address&#x27;</span>:<span class=\"string\">&#x27;beijing&#x27;</span>&#125;</span><br><span class=\"line\">stu_a.items()</span><br><span class=\"line\">[(<span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;zhangsan&#x27;</span>), (<span class=\"string\">&#x27;id&#x27;</span>:<span class=\"number\">1</span>), (<span class=\"string\">&#x27;address&#x27;</span>:<span class=\"string\">&#x27;beijing&#x27;</span>)]</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"18-8-has-key-key-如果-key-在字典中，则返回-True-否则返回-False\"><a href=\"#18-8-has-key-key-如果-key-在字典中，则返回-True-否则返回-False\" class=\"headerlink\" title=\"18.8 has_key(key)如果 key 在字典中，则返回 True 否则返回 False\"></a>18.8 has_key(key)如果 key 在字典中，则返回 True 否则返回 False</h5><h5 id=\"18-9-字典的遍历\"><a href=\"#18-9-字典的遍历\" class=\"headerlink\" title=\"18.9 字典的遍历\"></a>18.9 字典的遍历</h5><blockquote>\n<ul>\n<li>遍历字典的 key</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stu_a = &#123;<span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;id&#x27;</span>:<span class=\"number\">1</span>, <span class=\"string\">&#x27;address&#x27;</span>:<span class=\"string\">&#x27;beijing&#x27;</span>&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> key <span class=\"keyword\">in</span> stu_a.keys():</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(key)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>遍历字典的 value</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stu_a = &#123;<span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;id&#x27;</span>:<span class=\"number\">1</span>, <span class=\"string\">&#x27;address&#x27;</span>:<span class=\"string\">&#x27;beijing&#x27;</span>&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> value <span class=\"keyword\">in</span> stu_a.values():</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(value)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>遍历字典的项</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stu_a = &#123;<span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;id&#x27;</span>:<span class=\"number\">1</span>, <span class=\"string\">&#x27;address&#x27;</span>:<span class=\"string\">&#x27;beijing&#x27;</span>&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> item <span class=\"keyword\">in</span> stu_a.items():</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(item)</span><br><span class=\"line\">(<span class=\"string\">&#x27;name&#x27;</span>, <span class=\"string\">&#x27;zhangsan&#x27;</span>)</span><br><span class=\"line\">(<span class=\"string\">&#x27;id&#x27;</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">(<span class=\"string\">&#x27;address&#x27;</span>, <span class=\"string\">&#x27;beijing&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>遍历字典的键值对</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">stu_a = &#123;<span class=\"string\">&#x27;name&#x27;</span>:<span class=\"string\">&#x27;zhangsan&#x27;</span>, <span class=\"string\">&#x27;id&#x27;</span>:<span class=\"number\">1</span>, <span class=\"string\">&#x27;address&#x27;</span>:<span class=\"string\">&#x27;beijing&#x27;</span>&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> key, value <span class=\"keyword\">in</span> stu_a.items():</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;key=%s, value=%s&#x27;</span>%(key, value))</span><br><span class=\"line\">key=name, value=zhangsan</span><br><span class=\"line\">key=<span class=\"built_in\">id</span>, value=<span class=\"number\">1</span></span><br><span class=\"line\">key=address, value=beijing</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"19-函数\"><a href=\"#19-函数\" class=\"headerlink\" title=\"19 函数\"></a>19 函数</h4><h5 id=\"19-1-定义与调用\"><a href=\"#19-1-定义与调用\" class=\"headerlink\" title=\"19.1 定义与调用\"></a>19.1 定义与调用</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#定义</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">函数名</span>(<span class=\"params\">参数</span>):</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#调用</span></span><br><span class=\"line\">函数名(参数)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"19-2-返回值\"><a href=\"#19-2-返回值\" class=\"headerlink\" title=\"19.2 返回值\"></a>19.2 返回值</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#返回值</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">函数2</span>(<span class=\"params\">参数</span>):</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"comment\">#返回多个值</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">test4</span>(<span class=\"params\"><span class=\"built_in\">id</span>, name</span>):</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">id</span>, name <span class=\"comment\">#本质是返回一个tuple</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"19-3-局部变量与全局变量\"><a href=\"#19-3-局部变量与全局变量\" class=\"headerlink\" title=\"19.3 局部变量与全局变量\"></a>19.3 局部变量与全局变量</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#局部变量 -- 在函数内部定义的变量</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">name</span>():</span><br><span class=\"line\">  a = <span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> a</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#全局变量 -- 在函数外部定义的变量</span></span><br><span class=\"line\"></span><br><span class=\"line\">name = <span class=\"string\">&#x27;zhangsan&#x27;</span>  <span class=\"comment\">#全局变量</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">test1</span>():</span><br><span class=\"line\">    name = <span class=\"string\">&#x27;lisi&#x27;</span>  <span class=\"comment\">#局部变量</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;name=%s&#x27;</span>%name)  <span class=\"comment\"># lisi</span></span><br><span class=\"line\"></span><br><span class=\"line\">    name = <span class=\"string\">&#x27;wangwu&#x27;</span> <span class=\"comment\">#局部变量</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;name=%s&#x27;</span>%name)  <span class=\"comment\"># wangwu</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">test2</span>():</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;name=%s&#x27;</span>%name)  <span class=\"comment\"># zhangsan</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#如果要修改全局变量，使用global关键字</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">test3</span>():</span><br><span class=\"line\">    <span class=\"keyword\">global</span> name</span><br><span class=\"line\"></span><br><span class=\"line\">    name = <span class=\"string\">&#x27;xxx&#x27;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"19-4-参数\"><a href=\"#19-4-参数\" class=\"headerlink\" title=\"19.4 参数\"></a>19.4 参数</h5><blockquote>\n<ul>\n<li>默认参数</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#参数- 默认参数</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">name</span>(<span class=\"params\"><span class=\"built_in\">id</span> , name=<span class=\"string\">&#x27;lisi&#x27;</span></span>):</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">name</span>(<span class=\"params\">name=<span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"built_in\">id</span></span>): <span class=\"comment\">#报错，默认参数必须在参数列表后面</span></span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>不定长参数</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">name2</span>(<span class=\"params\">*args, **kwargs</span>): <span class=\"comment\">#args是元组 kwargs是字典</span></span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"comment\">#例如</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">fun</span>(<span class=\"params\">a, c, *args, **kwargs</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;a=%s&#x27;</span>%a)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;c=%s&#x27;</span>%c)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;args=%s&#x27;</span>%args)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;kwargs=%s&#x27;</span>%kwargs)</span><br><span class=\"line\"></span><br><span class=\"line\">fun(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, a=<span class=\"number\">431</span>, b=<span class=\"number\">122</span>, c=<span class=\"number\">3</span>)</span><br><span class=\"line\">a=<span class=\"number\">1</span></span><br><span class=\"line\">c=<span class=\"number\">2</span></span><br><span class=\"line\">args=(<span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>)</span><br><span class=\"line\">kwargs=&#123;<span class=\"string\">&#x27;a&#x27;</span>=<span class=\"number\">431</span>, <span class=\"string\">&#x27;b&#x27;</span>=<span class=\"number\">122</span>, <span class=\"string\">&#x27;c&#x27;</span>=<span class=\"number\">3</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">score = (<span class=\"number\">12</span>, <span class=\"number\">43</span>, <span class=\"number\">45</span>)</span><br><span class=\"line\">name = &#123;<span class=\"string\">&#x27;age&#x27;</span>= <span class=\"number\">18</span>, <span class=\"string\">&#x27;address&#x27;</span>:<span class=\"string\">&#x27;太阳系&#x27;</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">fun(<span class=\"number\">1</span>, <span class=\"number\">2</span>, *score, **kwargs)</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"19-5-递归\"><a href=\"#19-5-递归\" class=\"headerlink\" title=\"19.5 递归\"></a>19.5 递归</h5><p>求 N 的阶乘</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">factorial</span>(<span class=\"params\">n</span>):</span><br><span class=\"line\">    <span class=\"keyword\">if</span> n &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n &gt;= <span class=\"number\">1</span>:</span><br><span class=\"line\">            result = n * factorial(n - <span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            result = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"19-6-匿名函数\"><a href=\"#19-6-匿名函数\" class=\"headerlink\" title=\"19.6 匿名函数\"></a>19.6 匿名函数</h5><p>lambda 函数能接受任何数量的参数，但是只能返回一个表达式的值<br>匿名函数不能直接调用 print,</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#语法</span></span><br><span class=\"line\"><span class=\"keyword\">lambda</span> [arg1 [,arg2, ... argn]]:expression</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#实例</span></span><br><span class=\"line\"><span class=\"built_in\">sum</span> = <span class=\"keyword\">lambda</span> a, b: a + b</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sum</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"20-文件操作\"><a href=\"#20-文件操作\" class=\"headerlink\" title=\"20 文件操作\"></a>20 文件操作</h4><h5 id=\"20-1-打开与关闭文件\"><a href=\"#20-1-打开与关闭文件\" class=\"headerlink\" title=\"20.1 打开与关闭文件\"></a>20.1 打开与关闭文件</h5><p>使用 open()函数，可以打开一个已经存在的文件，或者创建新的文件</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">open</span>(文件名, 访问模式)</span><br><span class=\"line\"></span><br><span class=\"line\">f = <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;text.txt&#x27;</span>, <span class=\"string\">&#x27;w&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<table>\n<thead>\n<tr>\n<th>访问模式</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>r</td>\n<td>以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。</td>\n</tr>\n<tr>\n<td>w</td>\n<td>打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>\n</tr>\n<tr>\n<td>a</td>\n<td>打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td>\n</tr>\n<tr>\n<td>rb</td>\n<td>以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。</td>\n</tr>\n<tr>\n<td>wb</td>\n<td>以二进制格式打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>\n</tr>\n<tr>\n<td>ab</td>\n<td>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td>\n</tr>\n<tr>\n<td>r+</td>\n<td>打开一个文件用于读写。文件指针将会放在文件的开头。</td>\n</tr>\n<tr>\n<td>w+</td>\n<td>打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>\n</tr>\n<tr>\n<td>a+</td>\n<td>打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。</td>\n</tr>\n<tr>\n<td>rb+</td>\n<td>以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。</td>\n</tr>\n<tr>\n<td>wb+</td>\n<td>以二进制格式打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>\n</tr>\n<tr>\n<td>ab+</td>\n<td>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。</td>\n</tr>\n</tbody></table>\n<p>关闭文件</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">close()</span><br><span class=\"line\"></span><br><span class=\"line\">f.close()</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"20-2-文件读写\"><a href=\"#20-2-文件读写\" class=\"headerlink\" title=\"20.2 文件读写\"></a>20.2 文件读写</h5><p>写数据</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">write()函数可以向文件写入数据</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#demo</span></span><br><span class=\"line\">f = <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;text&#x27;</span>, <span class=\"string\">&#x27;w&#x27;</span>)</span><br><span class=\"line\">f.write(<span class=\"string\">&#x27;hello python&#x27;</span>)</span><br><span class=\"line\">f.close()</span><br></pre></td></tr></table></figure>\n\n<p>读数据</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">read(num) <span class=\"comment\">#num表示要从文件中读取的数据长度(单位是字节)，如果没有传入num，那么就表示去读文件中所有的数据</span></span><br><span class=\"line\">readlines() <span class=\"comment\">#可以按照行的方式把整个文件中的内容一次性读取，返回一个列表，其中每一行的数据为一个元素</span></span><br><span class=\"line\">readline()</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"20-3-定位读写\"><a href=\"#20-3-定位读写\" class=\"headerlink\" title=\"20.3 定位读写\"></a>20.3 定位读写</h5><p>在读写过程中，如果想知道当前位置，可以使用 tell()来获取</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">f = <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;text&#x27;</span>, <span class=\"string\">&#x27;r&#x27;</span>)</span><br><span class=\"line\">f.tell()</span><br></pre></td></tr></table></figure>\n\n<p>读写过程中，需要从另一个位置进行操作的话，使用 seek()函数</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">seek(offset, <span class=\"keyword\">from</span>)</span><br><span class=\"line\"><span class=\"comment\">#offset偏移量</span></span><br><span class=\"line\"><span class=\"comment\">#from方向：0表示文件开头 1表示当前位置 2文件末尾</span></span><br><span class=\"line\">seek(<span class=\"number\">5</span>, <span class=\"number\">0</span>) <span class=\"comment\">#从开头开始 偏移5个字节</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"20-4-文件重命名与删除\"><a href=\"#20-4-文件重命名与删除\" class=\"headerlink\" title=\"20.4 文件重命名与删除\"></a>20.4 文件重命名与删除</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#文件重命名 rename()</span></span><br><span class=\"line\">os.rename(<span class=\"string\">&#x27;test&#x27;</span>, <span class=\"string\">&#x27;test1&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#删除文件</span></span><br><span class=\"line\">os.remove(<span class=\"string\">&#x27;test&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"20-5-文件夹相关操作\"><a href=\"#20-5-文件夹相关操作\" class=\"headerlink\" title=\"20.5 文件夹相关操作\"></a>20.5 文件夹相关操作</h5><blockquote>\n<ul>\n<li>创建文件夹</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">os.mkdir(<span class=\"string\">&#x27;文件名&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>获取当前目录</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">os.mkdir(<span class=\"string\">&#x27;文件名&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>改变默认目录</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">os.chdir(<span class=\"string\">&#x27;../&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>获取目录列表</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">os.listdir(<span class=\"string\">&#x27;../&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>删除文件夹</li>\n</ul>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">os.rmdir(<span class=\"string\">&#x27;文件夹名&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"21-面向对象\"><a href=\"#21-面向对象\" class=\"headerlink\" title=\"21 面向对象\"></a>21 面向对象</h4><h5 id=\"21-1-类的定义与创建对象\"><a href=\"#21-1-类的定义与创建对象\" class=\"headerlink\" title=\"21.1 类的定义与创建对象\"></a>21.1 类的定义与创建对象</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#定义类的格式</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">类名</span>(<span class=\"title class_ inherited__\">object</span>): <span class=\"comment\">#继承自object</span></span><br><span class=\"line\">    属性</span><br><span class=\"line\">    方法</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#例</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Car</span>(<span class=\"title class_ inherited__\">object</span>):</span><br><span class=\"line\">    <span class=\"comment\">#方法</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">move</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;车正在移动...&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">bmw = Car() <span class=\"comment\">#创建对象</span></span><br><span class=\"line\">bmw.move() <span class=\"comment\">#调用move()方法</span></span><br><span class=\"line\">bmw.color = <span class=\"string\">&#x27;黑色&#x27;</span> <span class=\"comment\">#给对象添加属性</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"21-2-init-self-方法\"><a href=\"#21-2-init-self-方法\" class=\"headerlink\" title=\"21.2 init(self)方法\"></a>21.2 <strong>init</strong>(self)方法</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">__init__(self)方法的作用是 初始化函数</span><br><span class=\"line\">__init__(self)中的self参数，不需要开发者传递，python解释器会自动把当前的对象引用传递进去</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"21-3-私有属性\"><a href=\"#21-3-私有属性\" class=\"headerlink\" title=\"21.3 私有属性\"></a>21.3 私有属性</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在属性名前面加了<span class=\"number\">2</span>个下划线<span class=\"string\">&#x27;__&#x27;</span>，则表明该属性是私有属性。（方法也是一样，方法名前面加了<span class=\"number\">2</span>个下划线的话表示该方法是私有的，否则为公有的）。类外部无法直接修改私有属性或者方法。</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"21-4-del-方法\"><a href=\"#21-4-del-方法\" class=\"headerlink\" title=\"21.4 del()方法\"></a>21.4 <strong>del</strong>()方法</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">创建对象后，python解释器默认调用__init__()方法；</span><br><span class=\"line\">当删除一个对象时，python解释器也会默认调用一个方法，这个方法为__del__()方</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"21-5-继承\"><a href=\"#21-5-继承\" class=\"headerlink\" title=\"21.5 继承\"></a>21.5 继承</h5><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#单继承</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Animal</span>(<span class=\"title class_ inherited__\">object</span>):</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Dog</span>(<span class=\"title class_ inherited__\">Animal</span>):</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#多继承</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">A</span>(<span class=\"title class_ inherited__\">object</span>):</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">B</span>(<span class=\"title class_ inherited__\">object</span>):</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">C</span>(A, B):</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>私有属性：不能通过对象直接访问，但是可以通过方法访问<br>私有方法：不能通过对象直接访问<br>私有属性、方法不会被子类继承，也不能被访问<br>一般情况下，私有属性、方法不对外部使用</p>\n<h5 id=\"21-6-重写方法\"><a href=\"#21-6-重写方法\" class=\"headerlink\" title=\"21.6 重写方法\"></a>21.6 重写方法</h5><p>所谓重写，就是子类中，有一个和父类相同名字的方法，在子类中的方法会覆盖掉父类中同名的方法</p>\n<h5 id=\"21-7-类属性和实例属性\"><a href=\"#21-7-类属性和实例属性\" class=\"headerlink\" title=\"21.7 类属性和实例属性\"></a>21.7 类属性和实例属性</h5><p>类属性是 类 所拥有的属性，他是被所有 类对象的 实例对象所共有。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Zhangsan_People</span>(<span class=\"title class_ inherited__\">object</span>):</span><br><span class=\"line\">    name = <span class=\"string\">&#x27;zhangsan&#x27;</span>  <span class=\"comment\">#类属性</span></span><br><span class=\"line\">    __age = <span class=\"number\">18</span>  <span class=\"comment\">#私有类属性</span></span><br><span class=\"line\"></span><br><span class=\"line\">zhangsan = Zhangsan_People()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(zhangsan.name)  <span class=\"comment\">#正确</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(zhangsan.__age) <span class=\"comment\">#异常</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(Zhangsan_People.name)  <span class=\"comment\">#正确</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(Zhangsan_People.__age)  <span class=\"comment\">#异常</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>实例属性是 类创建的对象所拥有的属性</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Zhangsan_People</span>(<span class=\"title class_ inherited__\">object</span>):</span><br><span class=\"line\">    name = <span class=\"string\">&#x27;zhangsan&#x27;</span>  <span class=\"comment\">#类属性</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        self.address = <span class=\"string\">&#x27;太阳系&#x27;</span>  <span class=\"comment\">#实例属性</span></span><br><span class=\"line\"></span><br><span class=\"line\">zhangsan = Zhangsan_People()</span><br><span class=\"line\"></span><br><span class=\"line\">zhangsan.age = <span class=\"number\">18</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(zhangsan.age)  <span class=\"comment\">#正确</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(zhangsan.address)  <span class=\"comment\">#正确</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(zhangsan.name)  <span class=\"comment\">#正确</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(Zhangsan_People.age)  <span class=\"comment\">#异常</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(Zhangsan_People.name)  <span class=\"comment\">#正确</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(Zhangsan_People.address)  <span class=\"comment\">#异常</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"21-8-类方法与静态方法\"><a href=\"#21-8-类方法与静态方法\" class=\"headerlink\" title=\"21.8 类方法与静态方法\"></a>21.8 类方法与静态方法</h5><p>类方法：是类对象所拥有的方法，需要用修饰器 @classmethod ,第一个参数必须是类对象，一般以 cls 作为第一个参数(cls 不是必须，可以用其他名)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">People</span>(<span class=\"title class_ inherited__\">object</span>):</span><br><span class=\"line\">    country = <span class=\"string\">&#x27;China&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">#类方法</span></span><br><span class=\"line\"><span class=\"meta\">    @classmethod</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">getCountry</span>(<span class=\"params\">cls</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cls.country</span><br><span class=\"line\"></span><br><span class=\"line\">p = People()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(p.getCountry())  <span class=\"comment\">#可以通过实例对象引用</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(People.getCountry())  <span class=\"comment\">#可以通过类对象引用</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>静态方法：通过修饰器 @staticmethod ,静态方法不需要参数</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">People</span>(<span class=\"title class_ inherited__\">object</span>):</span><br><span class=\"line\">    name = <span class=\"string\">&#x27;zhangsan&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">#静态方法</span></span><br><span class=\"line\"><span class=\"meta\">    @staticmethod</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">getCountry</span>():</span><br><span class=\"line\">        <span class=\"keyword\">return</span> People.name</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"21-9-单例模式\"><a href=\"#21-9-单例模式\" class=\"headerlink\" title=\"21.9 单例模式\"></a>21.9 单例模式</h5><p>确保某一个类只有一个实例，而且自行实例化并向整个系统提供这个实例，这个类称为单例类，单例模式是一种对象创建型模式。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Singleton</span>(<span class=\"title class_ inherited__\">object</span>):</span><br><span class=\"line\">    __instance = <span class=\"literal\">None</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__new__</span>(<span class=\"params\">cls</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> cls.__instance:</span><br><span class=\"line\">            cls.__instance = <span class=\"built_in\">object</span>.__new__(cls)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cls.__instance</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>创建类对象时，只初始化一次_ <em>init</em> _()方法</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Singleton</span>(<span class=\"title class_ inherited__\">object</span>):</span><br><span class=\"line\">    __instance = <span class=\"literal\">None</span></span><br><span class=\"line\">    __first_init = <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__new__</span>(<span class=\"params\">cls, *args, **kwargs</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> cls.__instance:</span><br><span class=\"line\">            cls.__instance = <span class=\"built_in\">object</span>.__new__(cls)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cls.__instance</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self, age, name</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self.__first_init:</span><br><span class=\"line\">            self.age = age</span><br><span class=\"line\">            self.name = name</span><br><span class=\"line\">            Singleton.__first_init = <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">s = Singleton(<span class=\"number\">12</span>, <span class=\"string\">&#x27;name&#x27;</span>)</span><br><span class=\"line\">s2 = Singleton(<span class=\"number\">19</span>, <span class=\"string\">&#x27;zhangsan&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"built_in\">id</span>(s))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"built_in\">id</span>(s2))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(s.age)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(s2.age)</span><br><span class=\"line\"></span><br><span class=\"line\">s.age = <span class=\"number\">18</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(s.age)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(s2.age)</span><br><span class=\"line\"></span><br><span class=\"line\">---------------</span><br><span class=\"line\"><span class=\"number\">1754386242416</span></span><br><span class=\"line\"><span class=\"number\">1754386242416</span></span><br><span class=\"line\"><span class=\"number\">12</span></span><br><span class=\"line\"><span class=\"number\">12</span></span><br><span class=\"line\"><span class=\"number\">18</span></span><br><span class=\"line\"><span class=\"number\">18</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"22-异常\"><a href=\"#22-异常\" class=\"headerlink\" title=\"22 异常\"></a>22 异常</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"keyword\">except</span> IOError:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#捕获多个异常</span></span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"keyword\">except</span> (IOError, NameError):</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#获取异常信息描述</span></span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"keyword\">except</span> IOError <span class=\"keyword\">as</span> result:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(result)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#获取所有异常</span></span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"keyword\">except</span> Exception <span class=\"keyword\">as</span> result:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(result)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#else</span></span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"keyword\">except</span>:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"><span class=\"keyword\">else</span>:</span><br><span class=\"line\">    <span class=\"keyword\">pass</span> <span class=\"comment\">#没有异常时 执行else语句</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#try...finally...</span></span><br><span class=\"line\"><span class=\"comment\">#finally代码必定执行。适用于文件关闭，释放锁，把数据库连接返还给连接池等</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#抛出自定义异常</span></span><br><span class=\"line\"><span class=\"keyword\">raise</span>引发一个异常。异常/错误对象必须是 Error或 Exception类的子类</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"23-模块\"><a href=\"#23-模块\" class=\"headerlink\" title=\"23 模块\"></a>23 模块</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#导入module1, module2</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> module1, module2</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#从module1导入 name1, name2</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> module1 <span class=\"keyword\">import</span> name1, name2</span><br><span class=\"line\"><span class=\"comment\">#从module1导入全部</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> module1 <span class=\"keyword\">import</span> *</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#as 重命名 -- 重命名之后name1失效</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> module1 <span class=\"keyword\">import</span> name1 <span class=\"keyword\">as</span> xx</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#如果一个模块中有__all__ 那么意味着这个变量中的元素不会被 from xx import .. 导入</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Python3"]},{"title":"DotNet Core学习","url":"https://fanhua.tech/2018/04/08/DotNet-Core学习/","content":"<p>开发环境：dotnet –version:2.1.103; Ubuntu 16.04; Visual Studio Code</p>\n<h3 id=\"999-遇到的问题\"><a href=\"#999-遇到的问题\" class=\"headerlink\" title=\"999.遇到的问题\"></a>999.遇到的问题</h3><h4 id=\"01-数据迁移报错\"><a href=\"#01-数据迁移报错\" class=\"headerlink\" title=\"01.数据迁移报错\"></a>01.数据迁移报错</h4><p>项目分为多层</p>\n<blockquote>\n<ul>\n<li>xxx.WebApi</li>\n<li>xxx.EntityFrameworkCore</li>\n<li>xxx.xxx</li>\n<li>…</li>\n</ul>\n</blockquote>\n<p>DbContext 在 xxx.EntityFrameworkCore 层，在此层执行如下命令会报如下错误。</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet ef migrations <span class=\"keyword\">add</span> Initial</span><br></pre></td></tr></table></figure>\n\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Net_Core/dotnet_ef_Error.png\" alt=\"dotnet_ef_Error\"><br>解决方案:</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//使用 --startup-project</span></span><br><span class=\"line\">dotnet ef migrations <span class=\"keyword\">add</span> Initial --startup-project ../xxx.WebApi/</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Asp.Net Core"]},{"title":"Centos7下搭建SS","url":"https://fanhua.tech/2018/03/29/Centos7下搭建SS/","content":"<p>使用 pip 安装 shadowsocks</p>\n<h3 id=\"1-pip-安装与升级\"><a href=\"#1-pip-安装与升级\" class=\"headerlink\" title=\"1.pip 安装与升级\"></a>1.pip 安装与升级</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#安装pip</span></span><br><span class=\"line\">sudo yum -y install python-pip</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#升级pip</span></span><br><span class=\"line\">pip install --upgrade pip</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-安装-ss\"><a href=\"#2-安装-ss\" class=\"headerlink\" title=\"2.安装 ss\"></a>2.安装 ss</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install shadowsocks</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-服务端配置\"><a href=\"#3-服务端配置\" class=\"headerlink\" title=\"3.服务端配置\"></a>3.服务端配置</h3><p>vi /etc/shadowsocks.json #新建一个配置</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;server&quot;:&quot;0.0.0.0&quot;,</span><br><span class=\"line\">    &quot;port_password&quot;:&#123;</span><br><span class=\"line\">      &quot;端口号&quot;:&quot;密码&quot;,</span><br><span class=\"line\">      &quot;端口号2&quot;:&quot;密码2&quot;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &quot;timeout&quot;:300,</span><br><span class=\"line\">    &quot;method&quot;:&quot;aes-256-cfb&quot;,</span><br><span class=\"line\">    &quot;fast_open&quot;:false</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>按下 esc 返回命令模式，之后输入 :wq 保存退出</p>\n<h3 id=\"4-防火墙打开端口\"><a href=\"#4-防火墙打开端口\" class=\"headerlink\" title=\"4.防火墙打开端口\"></a>4.防火墙打开端口</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 打开端口</span></span><br><span class=\"line\">firewall-cmd --zone=public --add-port=端口/tcp --permanent</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 重启防火墙</span></span><br><span class=\"line\">firewall-cmd --reload</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5-开启关闭服务\"><a href=\"#5-开启关闭服务\" class=\"headerlink\" title=\"5.开启关闭服务\"></a>5.开启关闭服务</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 开启</span></span><br><span class=\"line\">ssserver -c /etc/shadowsocks.json -d start</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 关闭</span></span><br><span class=\"line\">ssserver -c /etc/shadowsocks.json -d stop</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"6-安装锐速\"><a href=\"#6-安装锐速\" class=\"headerlink\" title=\"6.安装锐速\"></a>6.安装锐速</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#更换内核为 3.10.0-229.1.2.el7.x86_64</span></span><br><span class=\"line\">rpm -ivh http://soft.91yun.org/ISO/Linux/CentOS/kernel/kernel-3.10.0-229.1.2.el7.x86_64.rpm --force</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#重启服务器</span></span><br><span class=\"line\">reboot</span><br><span class=\"line\"><span class=\"comment\">#shutdown -r now</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#安装锐速</span></span><br><span class=\"line\">wget -N --no-check-certificate https://raw.githubusercontent.com/91yun/serverspeeder/master/serverspeeder-all.sh &amp;&amp; bash serverspeeder-all.sh</span><br><span class=\"line\">----------------</span><br><span class=\"line\">wget <span class=\"built_in\">command</span> not found解决方案:</span><br><span class=\"line\">yum -y install wget</span><br><span class=\"line\">----------------</span><br><span class=\"line\"><span class=\"comment\">#启用锐速</span></span><br><span class=\"line\">service serverSpeeder start</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"7-客户端使用\"><a href=\"#7-客户端使用\" class=\"headerlink\" title=\"7.客户端使用\"></a>7.客户端使用</h3><h4 id=\"6-1Windows-下使用方法\"><a href=\"#6-1Windows-下使用方法\" class=\"headerlink\" title=\"6.1Windows 下使用方法\"></a>6.1Windows 下使用方法</h4><p><a href=\"https://github.com/shadowsocks/shadowsocks-windows/releases\">下载地址</a>, 下载完之后解压 双击运行 Shadowsocks.exe<br>点击 添加，输入服务器 ip\\端口\\密码\\选择加密方式，代理端口默认 1080 无需更改, 保存即可。<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Centos7%E4%B8%8B%E6%90%AD%E5%BB%BASS/shadowsocks-windows.png\"><br>然后更新下 PAC 启用即可<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Centos7%E4%B8%8B%E6%90%AD%E5%BB%BASS/shadowsocks-windows2.png\"></p>\n<h5 id=\"6-1-1-使用-Proxy-SwitchyOmega\"><a href=\"#6-1-1-使用-Proxy-SwitchyOmega\" class=\"headerlink\" title=\"6.1.1 使用 Proxy SwitchyOmega\"></a>6.1.1 使用 Proxy SwitchyOmega</h5><p>步骤 a - b<br>a.新建情景模式，名称任意，类型选择代理服务器<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Centos7%E4%B8%8B%E6%90%AD%E5%BB%BASS/shadowsocks-windows-SwitchyOmega.png\"><br>协议选择 SOCK5、代理服务器填写 127.0.0.1<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Centos7%E4%B8%8B%E6%90%AD%E5%BB%BASS/shadowsocks-windows-SwitchyOmega2.png\"><br>b.新建情景模式，名称任意，类型选择自动切换模式<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Centos7%E4%B8%8B%E6%90%AD%E5%BB%BASS/shadowsocks-windows-SwitchyOmega3.png\"><br>设置如下图所示，<br>条件设置为</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*.github.com</span><br></pre></td></tr></table></figure>\n\n<p>规则列表网址：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt</span><br></pre></td></tr></table></figure>\n\n<p>情景模式 都选择之前设置的 a 情景，然后点击下方“立即更新情景模式” 即可。<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Centos7%E4%B8%8B%E6%90%AD%E5%BB%BASS/shadowsocks-windows-SwitchyOmega4.png\"></p>\n<p>到此 windows 下可以科学上网了、</p>\n<h4 id=\"6-2-IOS-端\"><a href=\"#6-2-IOS-端\" class=\"headerlink\" title=\"6.2 IOS 端\"></a>6.2 IOS 端</h4><p>安装 Shadowrocket.(商店太贵，XX 助手可以下载)<br>a.选用配置文件，点击右上角+，地址填写</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://raw.githubusercontent.com/lhie1/Surge/master/Shadowrocket.conf</span><br></pre></td></tr></table></figure>\n\n<p>然后点击新添加的配置文件，下载并选中使用<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Centos7%E4%B8%8B%E6%90%AD%E5%BB%BASS/shadowsocks-ios-Shadowrocket2.png\"></p>\n<p>b.回到首页，点击右上角+出现如图所示界面。 服务器、端口配置同 windows 下配置即可。保存<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Centos7%E4%B8%8B%E6%90%AD%E5%BB%BASS/shadowsocks-ios-Shadowrocket3.png\"></p>\n<p>c.回到首页、点击链接。就可以了。</p>\n<p>其他详细配置：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://www.hinwen.com/3662.html</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"6-3-Ubuntu-16-04\"><a href=\"#6-3-Ubuntu-16-04\" class=\"headerlink\" title=\"6.3 Ubuntu 16.04\"></a>6.3 Ubuntu 16.04</h4><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#安装shadowsocks</span></span><br><span class=\"line\">sudo pip install shadowsocks</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#配置文件</span></span><br><span class=\"line\">vi /etc/shadowsocks.json</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;server&quot;</span>:<span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;server_port&quot;</span>:<span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;local_address&quot;</span>:<span class=\"string\">&quot;127.0.0.1&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;local_port&quot;</span>:<span class=\"string\">&quot;1080&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;password&quot;</span>:<span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;method&quot;</span>:<span class=\"string\">&quot;aes-256-cfb&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#启动</span></span><br><span class=\"line\">sudo sslocal -c /etc/shadowsocks.json</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#加入开机启动</span></span><br><span class=\"line\">vi /etc/rc.local</span><br><span class=\"line\"><span class=\"comment\">#把上面命令加到这个文件中(放在 exit 0 之前)</span></span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Linux","AgainstGFW"]},{"title":"Brook简易指南","url":"https://fanhua.tech/2018/03/23/Brook简易指南/","content":"<p>服务器是centos7. <a href=\"https://github.com/txthinking/brook\">Brook</a>简介及源码</p>\n<h4 id=\"1，下载安装\"><a href=\"#1，下载安装\" class=\"headerlink\" title=\"1，下载安装\"></a>1，下载安装</h4><p>[直接到上面地址下载或者使用下面方法]</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brook_ver=$(wget -qO- <span class=\"string\">&quot;https://github.com/txthinking/brook/tags&quot;</span>| grep <span class=\"string\">&quot;/txthinking/brook/releases/tag/&quot;</span>| <span class=\"built_in\">head</span> -n 1| awk -F <span class=\"string\">&quot;/tag/&quot;</span> <span class=\"string\">&#x27;&#123;print $2&#125;&#x27;</span>| sed <span class=\"string\">&#x27;s/\\&quot;&gt;//&#x27;</span>) &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;brook_ver&#125;</span>  </span><br></pre></td></tr></table></figure>\n\n<p>执行完后会输出获取的最新版本号，比如 v20170330 这样的日期格式，如果返回是空或者其他错误的内容，那么就代表获取失败。<br>然后执行:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brook_ver=v20170330</span><br></pre></td></tr></table></figure>\n\n<p>执行下面命令来判断VPS位数，如果是 x86_64 就是64位。如果返回 i386或i686 就是32位</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">unname -m</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 64位系统使用这个：</span></span><br><span class=\"line\">wget -N --no-check-certificate <span class=\"string\">&quot;https://github.com/txthinking/brook/releases/download/<span class=\"variable\">$&#123;brook_ver&#125;</span>/brook&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 32位系统使用这个：</span></span><br><span class=\"line\">wget -N --no-check-certificate <span class=\"string\">&quot;https://github.com/txthinking/brook/releases/download/<span class=\"variable\">$&#123;brook_ver&#125;</span>/brook_linux_386&quot;</span> &amp;&amp; <span class=\"built_in\">mv</span> brook_linux_386 brook</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2，赋予权限\"><a href=\"#2，赋予权限\" class=\"headerlink\" title=\"2，赋予权限\"></a>2，赋予权限</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod +x brook #运行的权限</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"3，打开端口\"><a href=\"#3，打开端口\" class=\"headerlink\" title=\"3，打开端口\"></a>3，打开端口</h4><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --zone=public --add-port=9999/tcp --permanent   <span class=\"comment\">#假设要开放的端口是9999</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4，运行Brook\"><a href=\"#4，运行Brook\" class=\"headerlink\" title=\"4，运行Brook\"></a>4，运行Brook</h4><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#单端口启动</span></span><br><span class=\"line\"><span class=\"comment\">#监听端口为 9999 密码为 [AAA+C]</span></span><br><span class=\"line\"><span class=\"built_in\">nohup</span> ./brook server -l :9999 -p <span class=\"string\">&quot;[AAA+C]&quot;</span> &gt; /dev/null 2&gt;&amp;1 &amp;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#多端口启动</span></span><br><span class=\"line\"><span class=\"comment\">#账号分别为：</span></span><br><span class=\"line\"><span class=\"comment\">#    监听端口 9999 密码 [AAA+C]</span></span><br><span class=\"line\"><span class=\"comment\">#    监听端口 6666 密码 [AAA+B]</span></span><br><span class=\"line\"><span class=\"comment\">#    监听端口 8888 密码 [AAA+A]</span></span><br><span class=\"line\"><span class=\"built_in\">nohup</span> ./brook servers -l <span class=\"string\">&quot;:9999 [AAA+C]&quot;</span> -l <span class=\"string\">&quot;:6666 [AAA+B]&quot;</span> -l <span class=\"string\">&quot;:8888 [AAA+A]&quot;</span> &gt; /dev/null 2&gt;&amp;1 &amp;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"5，关闭Brook\"><a href=\"#5，关闭Brook\" class=\"headerlink\" title=\"5，关闭Brook\"></a>5，关闭Brook</h4><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">kill</span> -9 $(ps -ef|grep <span class=\"string\">&quot;brook&quot;</span>|grep -v grep|awk <span class=\"string\">&#x27;&#123;print $2&#125;&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"6，windows客户端使用\"><a href=\"#6，windows客户端使用\" class=\"headerlink\" title=\"6，windows客户端使用\"></a>6，windows客户端使用</h4><p>直接从Github <a href=\"https://github.com/txthinking/brook/releases/download/v20180227/brook_windows_386.exe\">32x</a> <a href=\"https://github.com/txthinking/brook/releases/download/v20180227/brook_windows_amd64.exe\">64x</a>下载安装 打开运行 输入端口号和密码就可以了</p>\n<h4 id=\"7，-Ubuntu下使用\"><a href=\"#7，-Ubuntu下使用\" class=\"headerlink\" title=\"7， Ubuntu下使用\"></a>7， Ubuntu下使用</h4><p>因brook 服务端和客户端是一个，执行的命令不同。所以直接执行下面命令就可以了…</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brook client -l 127.0.0.1:1080 -i 127.0.0.1 -s [server_address]:[port] -p [password]</span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"8，命令-来自github\"><a href=\"#8，命令-来自github\" class=\"headerlink\" title=\"8，命令 [来自github]\"></a>8，命令 [来自github]</h4><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">USAGE:</span><br><span class=\"line\">   brook [global options] <span class=\"built_in\">command</span> [<span class=\"built_in\">command</span> options] [arguments...]</span><br><span class=\"line\">VERSION:</span><br><span class=\"line\">   20180227</span><br><span class=\"line\">COMMANDS:</span><br><span class=\"line\">     server         Run as server mode</span><br><span class=\"line\">     servers        Run as multiple servers mode</span><br><span class=\"line\">     client         Run as client mode</span><br><span class=\"line\">     tunnel         Run as tunnel mode</span><br><span class=\"line\">     tproxy         Run as tproxy mode, transparent proxy, only works on Linux</span><br><span class=\"line\">     streamserver   Run as server mode</span><br><span class=\"line\">     streamservers  Run as multiple servers mode</span><br><span class=\"line\">     streamclient   Run as client mode</span><br><span class=\"line\">     ssserver       Run as shadowsocks server mode, fixed method is aes-256-cfb</span><br><span class=\"line\">     ssservers      Run as shadowsocks multiple servers mode, fixed method is aes-256-cfb</span><br><span class=\"line\">     ssclient       Run as shadowsocks client mode, fixed method is aes-256-cfb</span><br><span class=\"line\">     socks5         Run as raw socks5 server</span><br><span class=\"line\">     relay          Run as relay mode</span><br><span class=\"line\">     relays         Run as multiple relays mode</span><br><span class=\"line\">     qr             Print brook server QR code</span><br><span class=\"line\">     socks5tohttp   Convert socks5 to http proxy</span><br><span class=\"line\">     systemproxy    Set system proxy with pac url, or remove, only works on MacOS/Windows</span><br><span class=\"line\">     <span class=\"built_in\">help</span>, h        Shows a list of commands or <span class=\"built_in\">help</span> <span class=\"keyword\">for</span> one <span class=\"built_in\">command</span></span><br><span class=\"line\"></span><br><span class=\"line\">GLOBAL OPTIONS:</span><br><span class=\"line\">   --debug, -d               Enable debug</span><br><span class=\"line\">   --listen value, -l value  Listen address <span class=\"keyword\">for</span> debug (default: <span class=\"string\">&quot;:6060&quot;</span>)</span><br><span class=\"line\">   --<span class=\"built_in\">help</span>, -h                show <span class=\"built_in\">help</span></span><br><span class=\"line\">   --version, -v             <span class=\"built_in\">print</span> the version</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"9-安装锐速\"><a href=\"#9-安装锐速\" class=\"headerlink\" title=\"9, 安装锐速\"></a>9, 安装锐速</h4><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#更换内核为 3.10.0-229.1.2.el7.x86_64</span></span><br><span class=\"line\">rpm -ivh http://soft.91yun.org/ISO/Linux/CentOS/kernel/kernel-3.10.0-229.1.2.el7.x86_64.rpm --force</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#重启服务器</span></span><br><span class=\"line\">reboot</span><br><span class=\"line\"><span class=\"comment\">#shutdown -r now</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#安装锐速</span></span><br><span class=\"line\">wget -N --no-check-certificate https://raw.githubusercontent.com/91yun/serverspeeder/master/serverspeeder-all.sh &amp;&amp; bash serverspeeder-all.sh</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#启用锐速</span></span><br><span class=\"line\">service serverSpeeder start</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n","categories":[],"tags":["Linux","AgainstGFW"]},{"title":"Bootstrap-table简易教程","url":"https://fanhua.tech/2017/11/26/Bootstrap-table简易教程/","content":"<h4 id=\"下载地址和源码\"><a href=\"#下载地址和源码\" class=\"headerlink\" title=\"下载地址和源码\"></a>下载地址和源码</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://github.com/wenzhixin/bootstrap-table</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"相关-Js-和-Css\"><a href=\"#相关-Js-和-Css\" class=\"headerlink\" title=\"相关 Js 和 Css\"></a>相关 Js 和 Css</h4><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~/jquery.<span class=\"property\">js</span></span><br><span class=\"line\">~/bootstrap-table.<span class=\"property\">js</span></span><br><span class=\"line\">~/bootstrap-table-zh-<span class=\"variable constant_\">CN</span>.<span class=\"property\">min</span>.<span class=\"property\">js</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~/bootstrap<span class=\"selector-class\">.min</span><span class=\"selector-class\">.css</span></span><br><span class=\"line\">~/bootstrap-<span class=\"selector-tag\">table</span><span class=\"selector-class\">.min</span><span class=\"selector-class\">.css</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"使用\"><a href=\"#使用\" class=\"headerlink\" title=\"使用\"></a>使用</h4><h5 id=\"在标签内写入如下-html-代码\"><a href=\"#在标签内写入如下-html-代码\" class=\"headerlink\" title=\"在标签内写入如下 html 代码\"></a>在<body>标签内写入如下 html 代码</h5><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;table&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"JS-代码\"><a href=\"#JS-代码\" class=\"headerlink\" title=\"JS 代码\"></a>JS 代码</h5><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//页面加载时</span></span><br><span class=\"line\">$(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"comment\">//初始化table</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> table = <span class=\"keyword\">new</span> <span class=\"title class_\">TableInit</span>();</span><br><span class=\"line\">    table.<span class=\"title class_\">Init</span>();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//TableInit();方法</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"title class_\">TableInit</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> tableInit = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    tableInit.<span class=\"property\">Init</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        $(<span class=\"string\">&#x27;#table&#x27;</span>).<span class=\"title function_\">bootstrapTable</span>(&#123;</span><br><span class=\"line\">            <span class=\"attr\">url</span>: <span class=\"string\">&#x27;@Url.Action(&quot;InitTable&quot;)&#x27;</span>,    <span class=\"comment\">//页面加载时,会发送查询条件到此Action</span></span><br><span class=\"line\">            <span class=\"attr\">method</span>: <span class=\"string\">&#x27;get&#x27;</span>,    <span class=\"comment\">//方法 get/post</span></span><br><span class=\"line\">            <span class=\"attr\">cache</span>: <span class=\"literal\">false</span>,    <span class=\"comment\">//缓存</span></span><br><span class=\"line\">            <span class=\"attr\">pagination</span>: <span class=\"literal\">true</span>,    <span class=\"comment\">//分页</span></span><br><span class=\"line\">            <span class=\"attr\">queryParams</span>: tableInit.<span class=\"property\">QueryParams</span>,    <span class=\"comment\">//查询条件</span></span><br><span class=\"line\">            <span class=\"attr\">sidePagination</span>: <span class=\"string\">&#x27;server&#x27;</span>,   <span class=\"comment\">//服务器端分页</span></span><br><span class=\"line\">            <span class=\"attr\">pageSize</span>: <span class=\"number\">10</span>,    <span class=\"comment\">//每页10条</span></span><br><span class=\"line\">            <span class=\"attr\">pageList</span>: [<span class=\"number\">10</span>, <span class=\"number\">15</span>, <span class=\"number\">20</span>],    <span class=\"comment\">//每页显示多少条</span></span><br><span class=\"line\">            <span class=\"attr\">showColumns</span>: <span class=\"literal\">false</span>,    <span class=\"comment\">//是否显示 内容列下拉框</span></span><br><span class=\"line\">            <span class=\"attr\">showToggle</span>: <span class=\"literal\">false</span>,    <span class=\"comment\">//是否显示 切换试图（table/card）按钮</span></span><br><span class=\"line\">            <span class=\"attr\">cardView</span>: <span class=\"literal\">false</span>,    <span class=\"comment\">//设置为 true将显示card视图，适用于移动设备。否则为table试图，适用于pc</span></span><br><span class=\"line\">            <span class=\"attr\">columns</span>: [&#123;     <span class=\"comment\">//列值，和后台返回的列对应</span></span><br><span class=\"line\">                <span class=\"attr\">field</span>: <span class=\"string\">&#x27;checkbox&#x27;</span>,     <span class=\"comment\">//选择框</span></span><br><span class=\"line\">                <span class=\"attr\">checkbox</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                <span class=\"comment\">//rowspan: 2,</span></span><br><span class=\"line\">                <span class=\"attr\">align</span>: <span class=\"string\">&#x27;center&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">valign</span>: <span class=\"string\">&#x27;middle&#x27;</span></span><br><span class=\"line\">            &#125;, &#123;</span><br><span class=\"line\">                <span class=\"attr\">field</span>: <span class=\"string\">&quot;Guid&quot;</span>,     <span class=\"comment\">//value</span></span><br><span class=\"line\">                <span class=\"attr\">title</span>: <span class=\"string\">&quot;主键&quot;</span>,          <span class=\"comment\">//text</span></span><br><span class=\"line\">                <span class=\"attr\">visible</span>: <span class=\"literal\">false</span>,          <span class=\"comment\">//是否显示。false不显示</span></span><br><span class=\"line\">                valign :<span class=\"string\">&quot;middle&quot;</span> <span class=\"comment\">//  &#x27;top&#x27;, &#x27;middle&#x27;, &#x27;bottom&#x27;</span></span><br><span class=\"line\">                <span class=\"comment\">// other. 详见文档</span></span><br><span class=\"line\">             &#125;, &#123;</span><br><span class=\"line\">                <span class=\"attr\">field</span>: <span class=\"string\">&quot;Name&quot;</span>,     <span class=\"comment\">//value</span></span><br><span class=\"line\">                <span class=\"attr\">title</span>: <span class=\"string\">&quot;姓名&quot;</span>,          <span class=\"comment\">//text</span></span><br><span class=\"line\">                valign :<span class=\"string\">&quot;middle&quot;</span> <span class=\"comment\">//  &#x27;top&#x27;, &#x27;middle&#x27;, &#x27;bottom&#x27;</span></span><br><span class=\"line\">                <span class=\"comment\">// other. 详见文档</span></span><br><span class=\"line\">             &#125; ]</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    tableInit.<span class=\"property\">QueryParams</span> = <span class=\"keyword\">function</span> (<span class=\"params\">params</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> temp = &#123;</span><br><span class=\"line\">            <span class=\"attr\">limit</span>: params.<span class=\"property\">limit</span>, <span class=\"comment\">//页码大小</span></span><br><span class=\"line\">            <span class=\"attr\">offset</span>: params.<span class=\"property\">offset</span>, <span class=\"comment\">//页码</span></span><br><span class=\"line\">            <span class=\"comment\">//其他查询条件</span></span><br><span class=\"line\">            <span class=\"comment\">//TODO.</span></span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> temp;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> tableInit;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"Action-方法\"><a href=\"#Action-方法\" class=\"headerlink\" title=\"Action 方法\"></a>Action 方法</h5><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> ActionResult <span class=\"title\">InitTable</span>(<span class=\"params\"><span class=\"built_in\">int</span> limit, <span class=\"built_in\">int</span> offset <span class=\"comment\">/*其他查询条件*/</span></span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> list = _userService.GetAllList();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//返回格式一定要包含 total和rows</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> obj = <span class=\"keyword\">new</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        total = list.Count,</span><br><span class=\"line\">        rows = list.Skip(offset).Take(limit)</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> Json(obj);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><del>_userService 通过注入的方式，注册到当前 Controller 中。 <img src= \"/img/loading.gif\" data-lazy-src=\"/2017/09/12/Mvc%E4%B8%8BAutofac%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B/\" alt=\"Mvc下Autofac简单示例\"></del></p>\n<h5 id=\"bootstrap-table-其他事件、方法\"><a href=\"#bootstrap-table-其他事件、方法\" class=\"headerlink\" title=\"bootstrap-table 其他事件、方法\"></a>bootstrap-table 其他事件、方法</h5><p>api</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://bootstrap-table.wenzhixin.net.cn/documentation/</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//获取checkbox选中的行</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">GetIdSelections</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> $.<span class=\"title function_\">map</span>($(<span class=\"string\">&quot;#table&quot;</span>).<span class=\"title function_\">bootstrapTable</span>(<span class=\"string\">&quot;getSelections&quot;</span>), <span class=\"keyword\">function</span> (<span class=\"params\">row</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> row;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//双击事件</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;#table&quot;</span>).<span class=\"title function_\">on</span>(<span class=\"string\">&quot;dbl-click-row.bs.table&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">row, $element, field</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//TODO</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">//单选 取消单选事件</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;#table&quot;</span>).<span class=\"title function_\">on</span>(<span class=\"string\">&quot;check.bs.table uncheck.bs.table&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">row</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//TODO</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">//全选 反选事件</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;#table&quot;</span>).<span class=\"title function_\">on</span>(<span class=\"string\">&quot;check-all.bs.table uncheck-all.bs.table&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">row</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//TODO</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Asp.Net","JavaScript"]},{"title":"Mvc下Autofac简单示例","url":"https://fanhua.tech/2017/09/12/Mvc下Autofac简单示例/","content":"<p>环境是 mvc5. Visual Studio 2017.</p>\n<h4 id=\"引用相关程序集\"><a href=\"#引用相关程序集\" class=\"headerlink\" title=\"引用相关程序集\"></a>引用相关程序集</h4><p>Nuget 搜索 Autofac, 引用前两个 Autofac 和 Autofac.Mvc5 如图 <img src= \"/img/loading.gif\" data-lazy-src=\"%5Cuploads%5CMvc%E4%B8%8BAutofac%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B%5CNugetImportDll.jpg\" alt=\"Nuget\"></p>\n<h4 id=\"新建测试类\"><a href=\"#新建测试类\" class=\"headerlink\" title=\"新建测试类\"></a>新建测试类</h4><p>以保存日志为例。新建 ILog.cs 和 DbLog.cs</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">ILog</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">Save</span><span class=\"params\">(string message)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">DbLog</span> : ILog</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">Save</span><span class=\"params\">(string message)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//TODO.链接数据库 保存日志</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"新建-Autofac-config\"><a href=\"#新建-Autofac-config\" class=\"headerlink\" title=\"新建 Autofac.config\"></a>新建 Autofac.config</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AutofacConfig</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">Register</span><span class=\"params\">()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"type\">ContainerBuilder</span> <span class=\"variable\">builder</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ContainerBuilder</span>();</span><br><span class=\"line\">        <span class=\"comment\">//注册控制器</span></span><br><span class=\"line\">        builder.RegisterControllers(Assembly.GetExecutingAssembly());</span><br><span class=\"line\">        <span class=\"comment\">//TODO.在这注册</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//注册日志测试类</span></span><br><span class=\"line\">        builder.RegisterType&lt;DbLog&gt;().As&lt;ILog&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">var</span> <span class=\"variable\">container</span> <span class=\"operator\">=</span> builder.Build();</span><br><span class=\"line\">        <span class=\"comment\">//移交Mvc</span></span><br><span class=\"line\">        DependencyResolver.SetResolver(<span class=\"keyword\">new</span> <span class=\"title class_\">AutofacDependencyResolver</span>(container));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Controller-中使用\"><a href=\"#Controller-中使用\" class=\"headerlink\" title=\"Controller 中使用\"></a>Controller 中使用</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">HomeController</span> : Controller</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> readonly ILog _log;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">HomeController</span><span class=\"params\">(ILog log)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>._log = log;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> ActionResult <span class=\"title function_\">Index</span><span class=\"params\">()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        _log.Save(<span class=\"string\">&quot;Home.Index&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> View();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Mvc","Autofac"]},{"title":"Weixin学习笔记","url":"https://fanhua.tech/2017/02/28/Weixin学习笔记/","content":"<p>文章针对订阅号和服务号</p>\n<h3 id=\"01-开发环境\"><a href=\"#01-开发环境\" class=\"headerlink\" title=\"01.开发环境\"></a>01.开发环境</h3><blockquote>\n<ul>\n<li>Visual Studio</li>\n<li>IIS</li>\n<li>natapp 做内外网映射</li>\n</ul>\n</blockquote>\n<h3 id=\"02-订阅号和服务号区别\"><a href=\"#02-订阅号和服务号区别\" class=\"headerlink\" title=\"02.订阅号和服务号区别\"></a>02.订阅号和服务号区别</h3><blockquote>\n<ul>\n<li>推送频率：服务号每月 4 条。订阅号每天 1 条</li>\n<li>功能：服务号开放更多高级功能。订阅号功能相对有限</li>\n<li>接收消息：服务号显示在微信对话框中。订阅号显示在文件夹中</li>\n</ul>\n</blockquote>\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/WeiXinStudy/Step01%E8%AE%A2%E9%98%85%E5%8F%B7%E5%92%8C%E6%9C%8D%E5%8A%A1%E5%8F%B7%E5%8C%BA%E5%88%AB.jpg\" alt=\"订阅号和服务号区别\"></p>\n<h3 id=\"03-使用-Senparc-Weixin-SDK\"><a href=\"#03-使用-Senparc-Weixin-SDK\" class=\"headerlink\" title=\"03.使用 Senparc.Weixin SDK\"></a>03.使用 Senparc.Weixin SDK</h3><p>Nuget 搜索<a href=\"https://www.nuget.org/packages/Senparc.Weixin.MP/\">Senparc.Weixin.MP</a>添加引用</p>\n<h4 id=\"001-网页授权–2018-年-3-月-28-日-14-17-03\"><a href=\"#001-网页授权–2018-年-3-月-28-日-14-17-03\" class=\"headerlink\" title=\"001.网页授权–2018 年 3 月 28 日 14:17:03\"></a>001.网页授权–2018 年 3 月 28 日 14:17:03</h4><p>网页授权解决的问题是:获取用户 OpenID 或者获取用户信息。(不使用 OAuth 带来的问题是，无法保证应用服务器先收到 点击事件 还是 先打开网页)<br>授权前，需要设置<font color=#FF4500>授权回调</font>域名。具体位置：“开发 - 接口权限 - 网页服务 - 网页帐号 - 网页授权获取用户基本信息”</p>\n<p>授权方式有两种:</p>\n<blockquote>\n<ul>\n<li>snsapi_base 用来获取进入页面的用户的 openid。 静默授权。</li>\n<li>snsapi_userinfo 用来获取用户的基本信息。需要用户手动同意，并且由于用户同意过，所以无须关注，就可在授权后获取该用户的基本信息。</li>\n</ul>\n</blockquote>\n<p>微信菜单设置格式:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxf5b65d2df8d129d4&amp;redirect_uri=http%3a%2f%2fwww.a9u5kn.natappfree.cc%2fsmd%2fweixin%2fOAuth2%2fIndex%3freturnUrl%3d%2fUserInfo%2fIndex&amp;response_type=code&amp;scope=snsapi_base&amp;state=none#wechat_redirect</span><br></pre></td></tr></table></figure>\n\n<p>参数说明:</p>\n<table>\n<thead>\n<tr>\n<th>参数</th>\n<th>是否必须</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>appid</td>\n<td>是</td>\n<td>公众号的唯一标识</td>\n</tr>\n<tr>\n<td>redirect_uri</td>\n<td>是</td>\n<td>授权后重定向的回调链接地址， 请使用 urlEncode 对链接进行处理</td>\n</tr>\n<tr>\n<td>response_type</td>\n<td>是</td>\n<td>默认 code</td>\n</tr>\n<tr>\n<td>scope</td>\n<td>是</td>\n<td>作用域。snsapi_base 或者 snsapi_userinfo</td>\n</tr>\n<tr>\n<td>state</td>\n<td>否</td>\n<td>重定向后会带上 state 参数。可以填写 0-9 A-Z a-z 任意值</td>\n</tr>\n<tr>\n<td>#wechat_redirect</td>\n<td>是</td>\n<td>无论直接打开还是做页面 302 重定向时候，必须带此参数</td>\n</tr>\n</tbody></table>\n<p>示例：</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">using</span> Senparc.Weixin.MP.AdvancedAPIs</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Test</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Oauth2Controller</span> : <span class=\"title\">Controller</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"built_in\">string</span> AppId = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"built_in\">string</span> AppSecret = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//returnUrl接收授权成功之后返回的地址</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> ActionResult <span class=\"title\">Index</span>(<span class=\"params\"><span class=\"built_in\">string</span> code, <span class=\"built_in\">string</span> state, <span class=\"built_in\">string</span> returnUrl</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(<span class=\"built_in\">string</span>.IsNullOrEmpty(code))</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> Content(<span class=\"string\">&quot;授权失败&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">//避免重复调用授权接口</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(Session[<span class=\"string\">&quot;WxOpenId&quot;</span>] != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> Redirect(returnUrl);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">try</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> result = OAuthApi.GetAccessToken(AppId, AppSecret, code); <span class=\"comment\">//调用SDK提供的方法获取</span></span><br><span class=\"line\">                Session[<span class=\"string\">&quot;WxOpenId&quot;</span>] = result.openId;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> Redirect(returnUrl);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">catch</span>(Exception ex)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"comment\">//TODO. SAVE LOG.</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span> Content(ex.Message);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"99-遇到的问题\"><a href=\"#99-遇到的问题\" class=\"headerlink\" title=\"99.遇到的问题\"></a>99.遇到的问题</h3><blockquote>\n<ul>\n<li>a.js 文件缓存问题。这个问题可以在引用的时候加个参数，修改 js 文件同时修改参数值</li>\n<li>b.未能解析此远程名称‘api.weixin.qq.com’。说明服务器无法 ping 通此此地址，无法上外网。</li>\n</ul>\n</blockquote>\n","categories":[],"tags":["WeiXin"]},{"title":"plsql ora-12638身份证明检索失败","url":"https://fanhua.tech/2016/12/07/plsql-ora-12638身份证明检索失败/","content":"<p>本人系统 win10 64x 专业版，安装的是 32 位 pl/sql<br>错误如图所示：<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/oracle/ora-12638.jpg\" alt=\"ORA-12638\"></p>\n<p>解决方案：<br>开始菜单-找到 oracle 下面的“net manager”-“概要文件”-“oracle 高级安全性”-“验证”，把所选方法中的“NTS”移到可选方法中即可。<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/oracle/ora-12638solution.png\" alt=\"解决方案\"></p>\n","categories":[],"tags":["Oracle","Pl/Sql"]},{"title":"Asp.Net之文件打包下载","url":"https://fanhua.tech/2016/11/11/Asp-Net之文件打包下载/","content":"<p>有个需求就是，附件中的文件（比如 txt\\excel\\jpg…）一个个下载有些麻烦，想实现打包下载功能，比如网易邮箱的打包下载，于是就有了此文。</p>\n<h3 id=\"借助外力\"><a href=\"#借助外力\" class=\"headerlink\" title=\"借助外力\"></a>借助外力</h3><p>引入<a href=\"/uploads/Asp.Net%E4%B9%8B%E6%96%87%E4%BB%B6%E6%89%93%E5%8C%85%E4%B8%8B%E8%BD%BD/ICSharpCode.SharpZipLib.dll\">ICSharpCode.SharpZipLib.dll</a></p>\n<p>引入命名空间</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> ICSharpCode.SharpZipLib.Zip;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.IO;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"核心代码\"><a href=\"#核心代码\" class=\"headerlink\" title=\"核心代码\"></a>核心代码</h3><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">NoneLibrary</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">BatchDownload</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>批量下载</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>参数string[]数组，需要传物理路径</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>返回值byte[]数组</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">byte</span>[] <span class=\"title\">Download</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] path</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"built_in\">byte</span>[] buffer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">            <span class=\"keyword\">using</span>(MemoryStream ms = <span class=\"keyword\">new</span> MemoryStream())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">using</span>(ZipFile zip = ZipFile.Create(ms))</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                    zip.BeginUpdate();</span><br><span class=\"line\">                    zip.NameTranform = <span class=\"keyword\">new</span> MyNameTranform(); <span class=\"comment\">//使用自定义MyNameTranform类，改变打包路径</span></span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(path.Length == <span class=\"number\">0</span>)</span><br><span class=\"line\">                        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> Exception(<span class=\"string\">&quot;参数path路径为空!!&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">                    <span class=\"comment\">//遍历path放入zip中</span></span><br><span class=\"line\">                    <span class=\"keyword\">foreach</span>(<span class=\"keyword\">var</span> p <span class=\"keyword\">in</span> path)</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        zip.Add(p);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    zip.CommitUpdate();</span><br><span class=\"line\"></span><br><span class=\"line\">                    buffer = <span class=\"keyword\">new</span> <span class=\"built_in\">byte</span>[ms.Length];</span><br><span class=\"line\">                    ms.Posotion = <span class=\"number\">0</span>;</span><br><span class=\"line\">                    ms.Read(buffer, <span class=\"number\">0</span>, buffer.Length);  <span class=\"comment\">//读入buffer</span></span><br><span class=\"line\"></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> buffer;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>修改打包路径，仅需要文件名和扩展名即可</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">MyNameTranform</span> : <span class=\"title\">ICSharpCode.SharpZipLib.Core.INameTransform</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">TransformDirectory</span>(<span class=\"params\"><span class=\"built_in\">string</span> name</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>返回文件名和扩展名</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> <span class=\"title\">TransformFile</span>(<span class=\"params\"><span class=\"built_in\">string</span> name</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Path.GetFileName(name);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"输出\"><a href=\"#输出\" class=\"headerlink\" title=\"输出\"></a>输出</h3><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Response.Clear();</span><br><span class=\"line\">Response.Charset = <span class=\"string\">&quot;GB2312&quot;</span>;</span><br><span class=\"line\">Response.ContentEncoding = System.Text.Encoding.UTF8;</span><br><span class=\"line\">Response.AddHeader(<span class=\"string\">&quot;Content-Disposition&quot;</span>, <span class=\"string\">&quot;attachment; filename=&quot;</span> + DateTime.Now.ToString(<span class=\"string\">&quot;yyyyMMddHHmmss&quot;</span>) + <span class=\"string\">&quot;.zip&quot;</span>);</span><br><span class=\"line\">Response.BinaryWrite(buffer);  <span class=\"comment\">//输出</span></span><br><span class=\"line\">Response.Flush();</span><br><span class=\"line\">Response.End();</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Asp.Net"]},{"title":"Npoi操作Excel","url":"https://fanhua.tech/2016/10/11/Npoi操作Excel/","content":"<h4 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h4><p>01.NPOI 是 POI 的 C#版本，NPOI 的行和列的 index 都是从 0 开始。 02.整个 Excel 表格叫做工作表：WorkBook（工作薄）、页（工作表）Sheet、行 Row、单元格 Cell。</p>\n<h4 id=\"2-常用属性方法-2016-12-7-更新\"><a href=\"#2-常用属性方法-2016-12-7-更新\" class=\"headerlink\" title=\"2.常用属性方法-2016/12/7 更新\"></a>2.常用属性方法-2016/12/7 更新</h4><h5 id=\"01-创建工作簿\"><a href=\"#01-创建工作簿\" class=\"headerlink\" title=\"01.创建工作簿\"></a>01.创建工作簿</h5><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HSSFWorkbook workbook = <span class=\"keyword\">new</span> HSSFWorkbook();</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"02-创建工作表\"><a href=\"#02-创建工作表\" class=\"headerlink\" title=\"02.创建工作表\"></a>02.创建工作表</h5><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ISheet sheet = workbook.CreateSheet();</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"03-创建行\"><a href=\"#03-创建行\" class=\"headerlink\" title=\"03.创建行\"></a>03.创建行</h5><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">IRow row = sheet.CreateRow(<span class=\"number\">0</span>); <span class=\"comment\">//创建第0行</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"04-设置行高\"><a href=\"#04-设置行高\" class=\"headerlink\" title=\"04.设置行高\"></a>04.设置行高</h5><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">row.Height = <span class=\"number\">0</span>;</span><br><span class=\"line\">row.HeightInPoints = <span class=\"number\">0</span>;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"05-创建列\"><a href=\"#05-创建列\" class=\"headerlink\" title=\"05.创建列\"></a>05.创建列</h5><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ICell cell = row.CreateCell(<span class=\"number\">0</span>); <span class=\"comment\">//在第0行创建第0列</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"06-设置列宽\"><a href=\"#06-设置列宽\" class=\"headerlink\" title=\"06.设置列宽\"></a>06.设置列宽</h5><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sheet.SetColumnWidth(index, width); <span class=\"comment\">//index代表哪一列，width代表宽度</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"07-合并单元格\"><a href=\"#07-合并单元格\" class=\"headerlink\" title=\"07.合并单元格\"></a>07.合并单元格</h5><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sheet.AddMergedRegion(<span class=\"keyword\">new</span> CellRangeAddress(<span class=\"built_in\">int</span> firstRow, <span class=\"built_in\">int</span> lastRow, <span class=\"built_in\">int</span> firstCol, <span class=\"built_in\">int</span> lastCol));</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"08-设置单元格-style\"><a href=\"#08-设置单元格-style\" class=\"headerlink\" title=\"08.设置单元格 style\"></a>08.设置单元格 style</h5><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ICellStyle style = workbook.CreateCellStyle();</span><br><span class=\"line\">style.BorderLeft = BorderStyle.Thin; <span class=\"comment\">//0-13 //左边框、当然还有上下右</span></span><br><span class=\"line\">...</span><br><span class=\"line\">style.Alignment = HorizontalAlignment.Center;   <span class=\"comment\">//对齐方式-水平</span></span><br><span class=\"line\">style.VerticalAlignment = VerticalAlignment.Center; <span class=\"comment\">//对齐方式-垂直</span></span><br><span class=\"line\">style.WrapText = <span class=\"literal\">true</span>; 换行</span><br><span class=\"line\">IFont font = workbook.CreateFont();</span><br><span class=\"line\">font.FontHeightInPoints = <span class=\"number\">0</span>;    <span class=\"comment\">//大小</span></span><br><span class=\"line\">font.FontName = <span class=\"string\">&quot;&quot;</span>; <span class=\"comment\">//字体格式 宋体-黑体-...</span></span><br><span class=\"line\">font.Color ;    <span class=\"comment\">//颜色</span></span><br><span class=\"line\">style.SetFont(font);</span><br><span class=\"line\"><span class=\"comment\">//给某一单元格设置style</span></span><br><span class=\"line\">row.GetCell(<span class=\"number\">0</span>).cellStyle = style;   <span class=\"comment\">//给row行第0列设置style,前提是已经创建cell(0)</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"09-ICellStyle-属性\"><a href=\"#09-ICellStyle-属性\" class=\"headerlink\" title=\"09.ICellStyle 属性\"></a>09.ICellStyle 属性</h5><p><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Npoi%E6%93%8D%E4%BD%9CExcel/ICellStyle.png\" alt=\"ICellStyle\"></p>\n<h5 id=\"10-给单元格设置内容\"><a href=\"#10-给单元格设置内容\" class=\"headerlink\" title=\"10.给单元格设置内容\"></a>10.给单元格设置内容</h5><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">row.CreateCell(<span class=\"number\">0</span>).SetCellValue(<span class=\"string\">&quot;a&quot;</span>); <span class=\"comment\">//给row行第0列设置文字位a</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"1-通用的-web-导出-Excel\"><a href=\"#1-通用的-web-导出-Excel\" class=\"headerlink\" title=\"1.通用的 web 导出 Excel\"></a>1.通用的 web 导出 Excel</h4><h5 id=\"01-下载引入相关-dll\"><a href=\"#01-下载引入相关-dll\" class=\"headerlink\" title=\"01.下载引入相关 dll\"></a>01.下载引入相关 dll</h5><blockquote>\n<ul>\n<li>NPOI 2.2.1 <a href=\"http://npoi.codeplex.com/downloads/get/1572743\">beta</a></li>\n<li>NPOI 2.1.3 <a href=\"http://npoi.codeplex.com/downloads/get/1432518\">Stable</a></li>\n</ul>\n</blockquote>\n<p>项目中引入 NPOI.dll</p>\n<h5 id=\"02-引用-namespace\"><a href=\"#02-引用-namespace\" class=\"headerlink\" title=\"02.引用 namespace\"></a>02.引用 namespace</h5><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> NPOI.HPSF;</span><br><span class=\"line\"><span class=\"keyword\">using</span> NPOI.HSSF.UserModel;</span><br><span class=\"line\"><span class=\"keyword\">using</span> NPOI.SS.UserModel;</span><br><span class=\"line\"><span class=\"keyword\">using</span> NPOI.SS.Util;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"03-初始化-Workbook-添加属性信息\"><a href=\"#03-初始化-Workbook-添加属性信息\" class=\"headerlink\" title=\"03.初始化 Workbook 添加属性信息\"></a>03.初始化 Workbook 添加属性信息</h5><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> workbook = <span class=\"keyword\">new</span> HSSFWorkbook();</span><br><span class=\"line\"><span class=\"keyword\">var</span> dsi = PropertySetFactory.CreateDocumentSummaryInformation();</span><br><span class=\"line\"><span class=\"keyword\">var</span> si = PropertySetFactory.CreateSummaryInformation();</span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">region</span> 文件属性信息</span></span><br><span class=\"line\"></span><br><span class=\"line\">dsi.Company = <span class=\"string\">&quot;xxx&quot;</span>;</span><br><span class=\"line\">workbook.DocumentSummaryInformation = dsi;</span><br><span class=\"line\"></span><br><span class=\"line\">si.Author = <span class=\"string\">&quot;.Net&quot;</span>;</span><br><span class=\"line\">si.CreateDateTime = DateTime.Now;</span><br><span class=\"line\">workbook.SummaryInformation = si;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">endregion</span></span></span><br><span class=\"line\"><span class=\"keyword\">return</span> workbook;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"04-web-导出\"><a href=\"#04-web-导出\" class=\"headerlink\" title=\"04.web 导出\"></a>04.web 导出</h5><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 导出到Excel</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;dt&quot;&gt;</span>DataTable 数据源<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;headerText&quot;&gt;</span>excel文件表头<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;fileName&quot;&gt;</span>文件名<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;columnNames&quot;&gt;</span>列名<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ExportToWeb</span>(<span class=\"params\">DataTable dt, <span class=\"built_in\">string</span> headerText, <span class=\"built_in\">string</span> fileName, <span class=\"built_in\">string</span>[] columnNames</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    HttpContext current = HttpContext.Current;</span><br><span class=\"line\"></span><br><span class=\"line\">    fileName = DateTime.Now.ToString().Replace(<span class=\"string\">&quot;-&quot;</span>, <span class=\"string\">&quot;&quot;</span>).Replace(<span class=\"string\">&quot;:&quot;</span>, <span class=\"string\">&quot;&quot;</span>).Replace(<span class=\"string\">&quot; &quot;</span>, <span class=\"string\">&quot;&quot;</span>) +</span><br><span class=\"line\">                HttpUtility.UrlEncode(<span class=\"string\">$&quot;<span class=\"subst\">&#123;fileName&#125;</span>&quot;</span>, Encoding.UTF8) + <span class=\"string\">&quot;.xls&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 设置编码和附件格式</span></span><br><span class=\"line\">    current.Response.ContentType = <span class=\"string\">&quot;application/vnd.ms-excel&quot;</span>;</span><br><span class=\"line\">    current.Response.ContentEncoding = Encoding.UTF8;</span><br><span class=\"line\">    current.Response.Charset = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">    current.Response.AppendHeader(<span class=\"string\">&quot;Content-Disposition&quot;</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;attachment;filename=&quot;</span> + fileName);</span><br><span class=\"line\">    current.Response.BinaryWrite(ExportStream(dt, headerText, columnNames).GetBuffer());</span><br><span class=\"line\">    current.Response.End();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"05-ExportStream\"><a href=\"#05-ExportStream\" class=\"headerlink\" title=\"05.ExportStream\"></a>05.ExportStream</h5><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> MemoryStream <span class=\"title\">ExportStream</span>(<span class=\"params\">DataTable dt, <span class=\"built_in\">string</span> headerText, <span class=\"built_in\">string</span>[] columnNames</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (dt.Rows.Count == <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> ArgumentException(<span class=\"string\">&quot;参数不正确：DataTable数据源为空!&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (columnNames != <span class=\"literal\">null</span> &amp;&amp; dt.Columns.Count != columnNames.Length)</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> ArgumentException(<span class=\"string\">&quot;参数不正确：DataTable数据源列和columnNames数据列个数不相等&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    HSSFWorkbook workbook = InitWorkbook();</span><br><span class=\"line\">    ISheet sheet = workbook.CreateSheet();</span><br><span class=\"line\"></span><br><span class=\"line\">    ICellStyle cellStyle = workbook.CreateCellStyle();</span><br><span class=\"line\">    IDataFormat format = workbook.CreateDataFormat();</span><br><span class=\"line\">    cellStyle.DataFormat = format.GetFormat(<span class=\"string\">&quot;yyyy-mm-dd&quot;</span>);</span><br><span class=\"line\">    cellStyle.BorderLeft = BorderStyle.Thin;</span><br><span class=\"line\">    cellStyle.BorderRight = BorderStyle.Thin;</span><br><span class=\"line\">    cellStyle.BorderTop = BorderStyle.Thin;</span><br><span class=\"line\">    cellStyle.BorderBottom = BorderStyle.Thin;</span><br><span class=\"line\">    cellStyle.Alignment = HorizontalAlignment.Center;</span><br><span class=\"line\">    cellStyle.VerticalAlignment = VerticalAlignment.Center;</span><br><span class=\"line\">    <span class=\"comment\">//cellStyle.WrapText = true; //换行</span></span><br><span class=\"line\">    <span class=\"comment\">//cellStyle.BorderBottom = BorderStyle.Thin;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//取得列宽</span></span><br><span class=\"line\">    <span class=\"built_in\">int</span>[] arrColWidth = <span class=\"keyword\">new</span> <span class=\"built_in\">int</span>[dt.Columns.Count];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">foreach</span> (DataColumn item <span class=\"keyword\">in</span> dt.Columns)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        arrColWidth[item.Ordinal] = Encoding.GetEncoding(<span class=\"number\">936</span>).GetBytes(item.ColumnName).Length + <span class=\"number\">1</span>; <span class=\"comment\">//936-GB2312</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; dt.Rows.Count; i++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> j = <span class=\"number\">0</span>; j &lt; dt.Columns.Count; j++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"built_in\">int</span> intTemp = Encoding.GetEncoding(<span class=\"number\">936</span>).GetBytes(dt.Rows[i][j].ToString()).Length;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (intTemp &gt; arrColWidth[j])</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                arrColWidth[j] = intTemp;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> rowIndex = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">//foreach (DataRow row in dt.Rows)</span></span><br><span class=\"line\">    <span class=\"comment\">//if (dt.Rows.Count &gt; 0)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"meta\">#<span class=\"keyword\">region</span> 新建表，填充表头，填充列头，样式</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (rowIndex == <span class=\"number\">65535</span> || rowIndex == <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (rowIndex != <span class=\"number\">0</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                sheet = workbook.CreateSheet();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"meta\">#<span class=\"keyword\">region</span> 表头及样式</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                IRow headerRow = sheet.CreateRow(<span class=\"number\">0</span>);</span><br><span class=\"line\">                headerRow.HeightInPoints = <span class=\"number\">25</span>;</span><br><span class=\"line\">                headerRow.CreateCell(<span class=\"number\">0</span>).SetCellValue(headerText);</span><br><span class=\"line\"></span><br><span class=\"line\">                ICellStyle headStyle = workbook.CreateCellStyle();</span><br><span class=\"line\">                headStyle.Alignment = HorizontalAlignment.Center;</span><br><span class=\"line\"></span><br><span class=\"line\">                IFont font = workbook.CreateFont();</span><br><span class=\"line\">                font.FontHeightInPoints = <span class=\"number\">20</span>;</span><br><span class=\"line\">                font.Boldweight = <span class=\"number\">700</span>;</span><br><span class=\"line\">                headStyle.SetFont(font);</span><br><span class=\"line\"></span><br><span class=\"line\">                headerRow.GetCell(<span class=\"number\">0</span>).CellStyle = headStyle;</span><br><span class=\"line\"></span><br><span class=\"line\">                sheet.AddMergedRegion(<span class=\"keyword\">new</span> CellRangeAddress(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, dt.Columns.Count - <span class=\"number\">1</span>)); <span class=\"comment\">//合并单元格</span></span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"meta\">#<span class=\"keyword\">endregion</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"meta\">#<span class=\"keyword\">region</span> 列头及样式</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                IRow headerRow = sheet.CreateRow(<span class=\"number\">1</span>);</span><br><span class=\"line\">                ICellStyle headStyle = workbook.CreateCellStyle();</span><br><span class=\"line\">                headStyle.Alignment = HorizontalAlignment.Center;</span><br><span class=\"line\">                headStyle.BorderLeft = BorderStyle.Thin;</span><br><span class=\"line\">                headStyle.BorderRight = BorderStyle.Thin;</span><br><span class=\"line\">                headStyle.BorderTop = BorderStyle.Thin;</span><br><span class=\"line\">                headStyle.BorderBottom = BorderStyle.Thin;</span><br><span class=\"line\"></span><br><span class=\"line\">                IFont font = workbook.CreateFont();</span><br><span class=\"line\">                font.FontHeightInPoints = <span class=\"number\">12</span>;</span><br><span class=\"line\">                font.Boldweight = <span class=\"number\">700</span>;</span><br><span class=\"line\">                headStyle.SetFont(font);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (columnNames == <span class=\"literal\">null</span>)    <span class=\"comment\">//填充datatable中的ColumnName</span></span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">foreach</span> (DataColumn column <span class=\"keyword\">in</span> dt.Columns)</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        headerRow.CreateCell(column.Ordinal).SetCellValue(column.ColumnName);</span><br><span class=\"line\">                        headerRow.GetCell(column.Ordinal).CellStyle = headStyle;</span><br><span class=\"line\">                        <span class=\"comment\">//设置列宽</span></span><br><span class=\"line\">                        sheet.SetColumnWidth(column.Ordinal, (arrColWidth[column.Ordinal] + <span class=\"number\">1</span>) * <span class=\"number\">256</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">                        <span class=\"comment\">//sheet.SetActiveCellRange();</span></span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">else</span> <span class=\"comment\">//填充自定义列名</span></span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">foreach</span> (DataColumn column <span class=\"keyword\">in</span> dt.Columns)</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        headerRow.CreateCell(column.Ordinal).SetCellValue(columnNames[column.Ordinal]);</span><br><span class=\"line\">                        headerRow.GetCell(column.Ordinal).CellStyle = headStyle;</span><br><span class=\"line\">                        <span class=\"comment\">//设置列宽</span></span><br><span class=\"line\">                        sheet.SetColumnWidth(column.Ordinal, (arrColWidth[column.Ordinal] + <span class=\"number\">1</span>) * <span class=\"number\">256</span>);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"meta\">#<span class=\"keyword\">endregion</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">            rowIndex = <span class=\"number\">2</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"meta\">#<span class=\"keyword\">endregion</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"meta\">#<span class=\"keyword\">region</span> 填充内容</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//dataRow.Height = 9 * 256;    //高度</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"meta\">#<span class=\"keyword\">region</span> 样式</span></span><br><span class=\"line\">        ICellStyle contentStyle = workbook.CreateCellStyle();</span><br><span class=\"line\">        contentStyle.Alignment = HorizontalAlignment.Center;</span><br><span class=\"line\">        contentStyle.WrapText = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        contentStyle.VerticalAlignment = VerticalAlignment.Center;</span><br><span class=\"line\">        contentStyle.BorderLeft = BorderStyle.Thin;</span><br><span class=\"line\">        contentStyle.BorderRight = BorderStyle.Thin;</span><br><span class=\"line\">        contentStyle.BorderTop = BorderStyle.Thin;</span><br><span class=\"line\">        contentStyle.BorderBottom = BorderStyle.Thin;</span><br><span class=\"line\">        <span class=\"meta\">#<span class=\"keyword\">endregion</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; dt.Rows.Count; i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            IRow dataRow = sheet.CreateRow(rowIndex);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> j = <span class=\"number\">0</span>; j &lt; dt.Columns.Count; j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                ICell newCell = dataRow.CreateCell(j);</span><br><span class=\"line\">                newCell.CellStyle = contentStyle;</span><br><span class=\"line\">                newCell.SetCellValue(dt.Rows[i][j].ToString());</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            rowIndex++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"meta\">#<span class=\"keyword\">endregion</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> (MemoryStream ms = <span class=\"keyword\">new</span> MemoryStream())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        workbook.Write(ms);</span><br><span class=\"line\">        ms.Flush();</span><br><span class=\"line\">        ms.Position = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ms;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Asp.Net","Excel","Npoi"]},{"title":"Entity Framework之CodeFirst模式","url":"https://fanhua.tech/2016/08/25/Entity-Framework之CodeFirst模式/","content":"<p>本文以 EF6+控制台程序示范</p>\n<h3 id=\"0x00-示例项目结构\"><a href=\"#0x00-示例项目结构\" class=\"headerlink\" title=\"0x00.示例项目结构\"></a>0x00.示例项目结构</h3><p>![项目结构](/uploads/Entity Framework 之 CodeFirst 模式/EFCodeFirst 项目结构.png)</p>\n<h3 id=\"0x01-新建控制台项目\"><a href=\"#0x01-新建控制台项目\" class=\"headerlink\" title=\"0x01.新建控制台项目\"></a>0x01.新建控制台项目</h3><h3 id=\"0x02-添加-EF6\"><a href=\"#0x02-添加-EF6\" class=\"headerlink\" title=\"0x02.添加 EF6\"></a>0x02.添加 EF6</h3><p>打开“程序包管理器控制台”，位置 工具–NuGet 程序包管理器–程序包管理器控制台<br>输入 install-package entityFramework , 如图</p>\n<p>![程序包管理器控制台](/uploads/Entity Framework 之 CodeFirst 模式/EFCodeFirst 程序包管理器控制台.png)</p>\n<h3 id=\"0x03-配置连接字符串\"><a href=\"#0x03-配置连接字符串\" class=\"headerlink\" title=\"0x03.配置连接字符串\"></a>0x03.配置连接字符串</h3><p>把链接字符串放到 app.config 中，配置 DbContext 会用到。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">connectionStrings</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">add</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;NoneContext&quot;</span> <span class=\"attr\">providerName</span>=<span class=\"string\">&quot;System.Data.SqlClient&quot;</span> <span class=\"attr\">connectionString</span>=<span class=\"string\">&quot;Data Source=(local); Initial Catalog=CODEFIRST; uid = sa; pwd = root;&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">connectionStrings</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x04-创建-Model-实体\"><a href=\"#0x04-创建-Model-实体\" class=\"headerlink\" title=\"0x04.创建 Model 实体\"></a>0x04.创建 Model 实体</h3><p>创建 TestModel(名称随意)</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">CodeFirstDemo</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">TestModel</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> ID &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>; &#125;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"built_in\">string</span> Name &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x05-创建上下文对象\"><a href=\"#0x05-创建上下文对象\" class=\"headerlink\" title=\"0x05.创建上下文对象\"></a>0x05.创建上下文对象</h3><p>新建 NONEContext（名称随意）,继承自 DbContext，添加 DbSet 如下</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">CodeFirstDemo</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> System.Data.Entity;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">NoneContext</span> : <span class=\"title\">DbContext</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">NoneContext</span>() : <span class=\"title\">base</span>(<span class=\"params\"><span class=\"string\">&quot;name=NoneContext&quot;</span></span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">OnModelCreating</span>(<span class=\"params\">DbModelBuilder modelBuilder</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">//add 2018年3月23日15:08:42</span></span><br><span class=\"line\">            modelBuilder.Conventions.Remove&lt;PluralizingTableNameConvention&gt;();  <span class=\"comment\">//移除复数形式·确保和model类名一致</span></span><br><span class=\"line\">            <span class=\"keyword\">base</span>.OnModelCreating(modelBuilder);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> DbSet&lt;TestModel&gt; TestModel &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>; &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x06-在-Main-函数中运行\"><a href=\"#0x06-在-Main-函数中运行\" class=\"headerlink\" title=\"0x06.在 Main 函数中运行\"></a>0x06.在 Main 函数中运行</h3><p>创建数据库。</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    TestModel model = <span class=\"keyword\">new</span> TestModel() &#123; ID = <span class=\"number\">1</span>, Name = <span class=\"string\">&quot;ceshi&quot;</span> &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> (<span class=\"keyword\">var</span> db = <span class=\"keyword\">new</span> NoneContext())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        db.TestModel.Add(model);</span><br><span class=\"line\">        <span class=\"built_in\">int</span> i = db.SaveChanges();</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">&quot;&quot;</span> + i);\t<span class=\"comment\">//目的是 看是否添加成功</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x07-总结\"><a href=\"#0x07-总结\" class=\"headerlink\" title=\"0x07.总结\"></a>0x07.总结</h3><p>配置链接字符串很重要，之前配置好多 都不行<br>如</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--&lt;add name=&quot;NONEConnection&quot; providerName=&quot;System.Data.EntityClient&quot; connectionString=&quot;Data Source=localhost; Initial Catalog=CODEFIRST; user id=sa; password=root;&quot;  /&gt;--&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--&lt;add name=&quot;NONEConnection&quot; providerName=&quot;System.Data.SqlClient&quot; connectionString=&quot;Server=.; Database=CODEFIRST; user id=sa; password=root;&quot;  /&gt;--&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--&lt;add name=&quot;NONEConnection&quot; providerName=&quot;System.Data.SqlClient&quot; connectionString=&quot;Server=.\\SQLEXPRESS;Database=CODEFIRST;Trusted_Connection=true&quot; /&gt;--&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--&lt;add name=&quot;NONEConnection&quot; providerName=&quot;System.Data.SqlClient&quot; connectionString=&quot;Server=.\\MSSQLSERVER;Database=CODEFIRST;user id=sa; password=root;&quot; /&gt;--&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>以后只需要添加 Model,在 NoneContext 中添加 Dbset 即可</p>\n<h3 id=\"2018-年-3-月-23-日-14-50-23-更新\"><a href=\"#2018-年-3-月-23-日-14-50-23-更新\" class=\"headerlink\" title=\"2018 年 3 月 23 日 14:50:23 更新\"></a>2018 年 3 月 23 日 14:50:23 更新</h3><h4 id=\"01-使用数据库迁移\"><a href=\"#01-使用数据库迁移\" class=\"headerlink\" title=\"01.使用数据库迁移\"></a>01.使用数据库迁移</h4><p>001.打开 NuGet Package Manager – Package Manager Console 并把项目更改到数据上下文所在的项目</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">enable-migrations <span class=\"comment\">#会生成一个Migrations 并多出一个 Configuration.cs</span></span><br><span class=\"line\">add-migration AddTestModel <span class=\"comment\">#会在Migrations目录下 创建一个 时间戳_AddTestModel.cs 文件</span></span><br><span class=\"line\">update-database <span class=\"comment\">#更新到数据库</span></span><br></pre></td></tr></table></figure>\n\n<p>002.时间戳_AddTestModel.cs 文件，无需修改，主要包含了 Up 和 Down 方法 增加或者修改 model 类，或者修改 model 类的属性，需要执行 add-migration 和 update-database 方法</p>\n<p>003.Configuration.cs 文件的 Seed 方法 用于初始化数据</p>\n<p>004.设置自动迁移</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">···· <span class=\"keyword\">class</span> <span class=\"title\">Configutation</span> : ····</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Configuration</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        AutomaticMigrationsEnabled = <span class=\"literal\">true</span>; <span class=\"meta\">#启用自动迁移</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">··· <span class=\"keyword\">class</span> <span class=\"title\">MvcApplication</span> : ····</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_Start</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        ···</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//自动迁移</span></span><br><span class=\"line\">        Database.SetInitializer&lt;DbContent&gt;(<span class=\"keyword\">new</span> MigrateDatabaseToLatestVersion&lt;DbContent, AutoMigrate.Migrations.Configuration&gt;());</span><br><span class=\"line\">        <span class=\"keyword\">var</span> dbMigrator = <span class=\"keyword\">new</span> DbMigrator(<span class=\"keyword\">new</span> AutoMigrate.Migrations.Configuration());</span><br><span class=\"line\">        dbMigrator.Update();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>005.版本回溯</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Update-Database –TargetMigration: AddUser</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":[".Net","Entity Framework"]},{"title":"魔兽英雄榜兽人部落下-巨魔和牛头人","url":"https://fanhua.tech/2016/07/06/魔兽英雄榜兽人部落下-巨魔和牛头人/","content":"<h5 id=\"名字：祖金\"><a href=\"#名字：祖金\" class=\"headerlink\" title=\"名字：祖金\"></a>名字：祖金</h5><p>英文：Zul’Jin<br>种族：森林巨魔<br>职业：狂暴猎头者（Berserker Troll）</p>\n<p>祖金统治着一个强大的森林巨魔帝国（阿曼尼帝国）。他在对高等精灵和人类的一系列战争中功成名就。甚至没有哪一个森林巨魔敢不崇拜我们残暴的祖金，尽管有那么一点点盲目。<br>　祖金打算进一步扩增他的实力，以对付他的新敌人——由高等精灵和人类组成的联军。他将所有的森林巨魔及氏族，包括那些游牧的部落和战士统统纳入帐下，就连洛丹伦大陆的狗头人（Kobold）也加入到巨魔的阵营。<br>　不过，公平地说森林巨魔很早以前就生活在洛丹伦大陆，他们是洛丹伦和奎尔萨拉斯森林最早的“主人”。至于后来来到或生活在这里的高等精灵和人类各部落，则以较为分散的方式居住在洛丹伦大陆的各个地区。此次战争最直接的导火索是，初来乍到的高等精灵占据了一座位于奎尔萨拉斯东北角的巨魔圣地。虽然他们击退了森林巨魔的一次进攻，但他们知道巨魔们一定会卷土重来。<br>　考虑到各自的生存利益，高等精灵和人类决定联合起来共同对付强大的巨魔军团。奥特兰克山脚下的激战一直持续了好几天。祖金率领的巨魔军团在联军的冲击下渐渐败下阵来。联军的魔法师更是从空中召下天火，给与巨魔以致命的打击。<br>这场旷日持久的战争全然出乎祖金的意料之外，巨魔军团全面溃败下来，洛丹伦大片土地划归联军所有。而祖金还是未能夺回圣地。不仅被高等精灵牢牢控制，后竟成了他们的都城所在——银月城。<br>　祖金复仇心切。若干年后，终于看见希望的曙光：兽人部落正大举入侵艾泽拉斯世界，人类和矮人王国摇摇欲坠。在当时的兽人酋长奥格瑞姆·地狱之锤的再三请求下，祖金最终决定与嗜血的兽人达成战时同盟，一起对付剩下的敌人。从此，强大的兽人军团中又多了猎头者的身影。不过他们称霸一时的领袖——祖金却神秘失踪，至今下落不明。</p>\n<h5 id=\"名字：森金（死亡）\"><a href=\"#名字：森金（死亡）\" class=\"headerlink\" title=\"名字：森金（死亡）\"></a>名字：森金（死亡）</h5><p>英文：Sen’Jin<br>种族：丛林巨魔（暗矛氏族）<br>职业：巫医</p>\n<p>巨魔是艾泽拉斯世界的土著。各种各样的巨魔广泛分布于世界的各个角落。他们数量众多，主要分为四个种族：黑暗巨魔（Dark Troll） 、森林巨魔（ForestTroll） 、冰巨魔（Ice Troll）和丛林巨魔（Jungle Troll）。森金所领导的暗矛氏族（Darkspear Clan）正是丛林巨魔的一支。原本他们生活在位于艾泽拉斯大陆最南端的荆棘谷（Stranglethorn Vale），后来由于种种原因被迫向西迁徙。<br>　森金作为暗矛氏族的宗教领袖和巫医，率领他的族民来到一座位于大漩涡（the Maelstrom）附近的岛屿并在此建立新的定居点。岛上的巨魔们度过了一段相对稳定的时光，直到一天一个来自库尔提拉斯（Kul Tiras）王国的人类首领也来到这里。<br>不久后人类军队在岛上修建了一个据点，并多次袭击了巨魔的村落，并将他们赶入岛屿腹地。与此同时，在人类的怂恿下附近的鱼人（Murloc）也来“助兴”。这些鱼人原本是膜拜海妖（Meerhex）的低级生物，现在不知为何却变得异常好战。在人类和鱼人的强强联合之下暗矛氏族被击溃。鱼人抓获了岛上大半的巨魔并将他们用来活祭。<br>　一日深夜，森金仿佛看见一个幻景：一个陌生的兽人出现在他眼前，这个兽人不仅将他和他的族人从人类手中解救，并带领他们去向一个陌生的世界。幻景似乎真的灵验了。据哨兵来报，兽人萨尔和他的船队已穿过大漩涡，正跌跌撞撞向岛屿使来。<br>　森金盛情款待了这些远道而来的客人，并告诉他们有关岛上发生的一切。萨尔非常感谢巨魔的好客，同时许诺——一方面作为回报，一方面为对付共同的敌人——帮助暗矛氏族击退岛上的人类。<br>　然而，就在他们合力杀死人类首领并将残余赶出岛屿之后，不想却遭遇鱼人伏击：被全数抓获。萨尔趁隙逃出囚牢，并与一些获释的兽人和巨魔重新汇合赶去解救森金。然而还是迟了一步：就在他们赶到之前，一个鱼人法师杀害了森金……<br>后来这些巨魔随萨尔一道去了卡利姆多大陆。</p>\n<h5 id=\"名字：沃金\"><a href=\"#名字：沃金\" class=\"headerlink\" title=\"名字：沃金\"></a>名字：沃金</h5><p>英文：Vol’Jin<br>种族：丛林巨魔（暗矛氏族）<br>职业：暗影猎手</p>\n<p>沃金继承森金成为暗矛氏族的新首领。与其他暗矛氏族的巨魔一样，他也曾生活在艾泽拉斯大陆南方的荆棘谷，然而如今那里却只留下一些巨魔城镇的遗迹和一片广袤的丛林。<br>　沃金和他的族人刚到卡利姆多不久，便在杜隆塔尔附近再次遭遇鱼人的袭击。若不是得于萨尔全力相助，或许沃金和他的暗矛氏族如今早已不见踪影。此时沃金感激之情难以言表，他和那些丛林巨魔们发誓愿为部落效劳并永结同盟。<br>　圣山海加尔战役之后，如今这些巨魔定居在杜隆塔尔岩石耸立的东海岸地区。他们将一个定居点取名为森金村（Sen’Jin Village），以此缅怀那位氏族的长者（WoW 中这里是巨魔的起始点）。另一些巨魔则散居在位于附近回音群岛（Echo Isles）上的丛林地带。</p>\n<h5 id=\"名字：凯恩·血蹄\"><a href=\"#名字：凯恩·血蹄\" class=\"headerlink\" title=\"名字：凯恩·血蹄\"></a>名字：凯恩·血蹄</h5><p>英文：Cairne Bloodhoof<br>种族：牛头人（血蹄氏族）<br>职业：牛头人战士</p>\n<p>牛头人凯恩·血蹄不仅是一位勇敢的战士更是牛头人部落的伟大领袖。尽管他有些年老了，但凯恩依旧是那么勇敢和充满智慧。他十分清楚自己部落目前的处境：疯狂的半人马正不止一次地猛烈攻击他们的定居点和商队。然而他从未失去信心。他坚信一定能找到一条出路，让他的子民度过这段艰难的日子，并最终过上和平安宁的生活。<br>　一次偶然的机会，凯恩在中卡利姆多的东海岸遇见了萨尔。得于萨尔和兽人部落的倾力相助，凯恩最终得以击退半人马可汗的屡次进犯。凯恩十分感激萨尔，作为回报这位高贵的战士告诉了年轻的酋长有关卡利姆多神谕及其圣地的所在。就在那座神秘的山洞里麦迪文再次出现……</p>\n","categories":[],"tags":["wow"]},{"title":"魔兽英雄榜兽人部落上-兽人和食人魔","url":"https://fanhua.tech/2016/07/06/魔兽英雄榜兽人部落上-兽人和食人魔/","content":"<p>魔兽历史中的兽人经历了从氏族到部落、再到新部落的艰难的历程。</p>\n<p>以下是部落初期的氏族简表及相关人物——<br>　影月氏族：耐奥祖/登塔<br>　暴掠氏族：古尔丹<br>　黑石氏族：布莱克汉<br>　黑牙氏族：雷德/麦姆<br>　雷王氏族：奥格瑞姆·毁灭之锤/芬瑞斯<br>　霜狼氏族：杜隆坦/德雷克塔尔/萨尔<br>　战歌氏族：格罗姆·地狱咆哮<br>　血窟氏族：基尔罗格·死眼<br>　碎掌氏族：科格斯·拳刃<br>　龙喉氏族：祖赫德/耐克鲁斯·碎骨者<br>　暮锤氏族：寇加尔<br>　嚼骨氏族：塔伽</p>\n<p>庞大的氏族体系，包括兽人和食人魔共同组成最初的部落；至于后来的两个种族——丛林巨魔和牛头人则代表萨尔领导的新部落势力。此外还有两个人物值得特别注意：加罗娜（半兽人）和雷克萨（半食人魔）。《魔兽英雄榜》一共囊括六十余个人物资料，仅《兽人部落》一篇（分上下）共介绍二十位英雄（包括四个种族）。其中耐奥祖、古尔丹、奥格瑞姆·毁灭之锤和萨尔领起兽人历史的全篇。</p>\n<p>特此说明：<br>　 1) 黑牙氏族（Black-Tooth-Grin-Clan）首领雷德和麦姆（Rend and Maim）不算英雄之列，只出现在布莱克汉的人物资料中。<br>　 2) 耐克鲁斯·碎骨者（Nekros Skullcrusher）不算英雄之列，仅出现在祖赫德的人物资料中。<br>　 3) 嚼骨氏族（Bonechewer Clan）首领塔伽（Tagar Spinebreaker）的人物资料散见于耐奥祖和芬瑞斯等人的资料中。原因是：为避免重复，故不再单独编辑。</p>\n<h5 id=\"名字：耐奥祖（不死，巫妖王）\"><a href=\"#名字：耐奥祖（不死，巫妖王）\" class=\"headerlink\" title=\"名字：耐奥祖（不死，巫妖王）\"></a>名字：耐奥祖（不死，巫妖王）</h5><p>英文：Ner’zhul<br>种族：兽人（影月氏族）<br>职业：萨满</p>\n<p>耐奥祖是魔兽历史中最复杂的人物之一，主要分为兽人萨满和巫妖王两个阶段，因此这也是最长的一篇人物资料（巫妖王部分系《亡灵天灾》）。如果你对兽人及亡灵天灾的历史很感兴趣，那么一定不要错过了解这个人物。</p>\n<p>耐奥祖是古尔丹的导师，德拉诺世界最年长的萨满。恶魔基尔加丹正是看中了这一点，决定利用耐奥祖进而控制兽人各氏族，为燃烧军团第二次入侵艾泽拉斯做好准备。作为小小的奖励，基尔加丹许诺耐奥祖将因此而获得强大的能量。自私的耐奥祖不顾一切地答应了恶魔的要求（血契）——一个个兽人战士变成恶魔的雇佣军，大部分兽人氏族被纳入黑暗的统治。<br>　然而不久基尔加丹便发现耐奥祖并非最佳的人选。耐奥祖本人也逐渐意识到，他的所作所为必将令所有的兽人及氏族招致不幸。他想选择放弃。但事情没有这么简单。<br>　基尔加丹早已将目光转移到奥耐祖最得意的学徒——古尔丹，极富天才的年青萨满。当时古尔丹已完成有关萨满的几乎所有的研究。然而耐奥祖却惊奇地发现，他的学徒似乎正频繁地与恶魔基尔加丹进行着秘密会谋。然而他无能为力。不久后氏族内部发生了一系列巨变：先是基尔加丹暗中操控设立了影子议会（Shadow Council），并由古尔丹全权负责；随后不久，几乎所有的氏族首领一起喝下玛诺洛斯之血，组建了有史以来第一支强大的兽人部落；此时不少首领们决定联合起来远征艾泽拉斯，他们盲目地派出了第一支远征军，却在围攻暴风要塞（Stormwind Keep）时遭受重创，氏族联军不得不退至东部沼泽一带；联军士气低落，首领们相互指责，部落内讧越演越烈；古尔丹和他的影子议会看准了时机，随即推任强大的黑石氏族首领布莱克汉为部落公认的酋长，统领各氏族——不过与此同时部落实权却落入古尔丹和他的影子议会的手中。<br>　在古尔丹的一手策划之下，傀儡酋长布莱克汉正式发动了大规模远征。除少数氏族仍留在德拉诺世界，大部分氏族随军出征。直至此时，一度“受宠”的耐奥祖才有机会率领他的影月氏族（Shadowmoon Clan）横扫德拉诺世界，并用铁腕“恢复”他的统治，让那些留在德拉诺的大小氏族“聚拢”他的旗下。<br>　数年之后，部落远征军被联盟击溃，同时连接两个世界的黑暗之门也在那场战役中被摧毁。当部落在艾泽拉斯战败的消息传至德拉诺时，耐奥祖俨然成为部落的新统帅。此时饱经黑暗腐蚀的德拉诺世界正濒临毁灭。为使兽人免招不幸，同时摆脱燃烧军团的控制或者更确切地说逃避基尔加丹的惩罚，耐奥祖决定开启多座通往其它世界的传送之门，永远逃离这个行将毁灭的世界。<br>　不过耐奥祖并非全是为其他兽人或氏族着想。事实上为达到自己的目的，他派人先后剿灭了另外两支“态度强硬”的氏族——兽人塔伽领导的嚼骨氏族和芬瑞斯的雷王氏族（Thunderlord Clan）。<br>　为开启新的传送门必须找到强大的神器作为必要的辅助。一些曾隶属古尔丹的死亡骑士愿与耐奥祖的影月氏族达成同盟。借助死亡骑士的黑暗力量，耐奥祖终于恢复被毁的黑暗之门。由此，一支兽人小分队迅速穿梭于艾泽拉斯大地，并很快找到急需的神器：不仅神器萨格拉斯权杖落入耐奥祖手中，还掠夺到其它一些宝物。<br>虽然随后不久一支人类的远征军也已穿过黑暗之门并到达德拉诺世界，但兽人的顽强抵抗则帮耐奥祖赢得足够的时间，并最终如愿以偿开启了多座传送之门。也许耐奥祖从未想过他将为此付出何等代价：巨大的能量冲击犹如永恒之井的爆炸加速了德拉诺世界的毁灭（后成为荒凉之地，称为外域）。迫于形势耐奥祖不顾一切地丢下其他兽人，仅与那些影月氏族的忠实随从和死亡骑士一起逃向了一座传送门中。<br>然而耐奥祖最终还是没能逃出恶魔的控制。而他的族人：仅有部分拼死冲杀再次穿过黑暗之门逃往艾泽拉斯世界，另有小部作为幸存者留在了德拉诺世界。<br>　耐奥祖落入基尔加丹手中。恶魔狂笑着将他千刀万剐，只留下他的灵魂被冰封于一个冰冷的容器之中。耐奥祖承受着巨大的无法想象的痛苦的折磨。然而基尔加丹并没有忘记最初的契约，同时他再次许诺，如果耐奥祖愿死心塌地为燃烧军团效力——征服艾泽拉斯世界，那么他将恢复它的肉身并释放它的灵魂。耐奥祖再一次答应了恶魔的要求。基尔加丹则用强大的黑暗能量把它变成了巫妖王，负责统御亡灵。也许兽人耐奥祖从未想过，他将成为一个没有躯体、与恶魔为伍的萨满。而他的那些忠实的追随者也被邪恶的力量转化为恶魔的奴仆。<br>　巫妖王奉命开始在诺森德大陆上悄悄散布着黑暗的能量。它先是控制了许多当地生物的思想，继而建立起一支属于自己的部队。不久，一个人类移民区的所有村民都被它那可怕的瘟疫变成了僵尸。就连庞大的地下王国也被它颠覆：地穴恶魔 （Cypt Fiend，类人蜘蛛种族）和它们的国王——地穴领主阿鲁巴拉克（Anub’arakh）竟也屈身成了巫妖王的爪牙，屈服于强大的黑暗力量。不仅如此，巫妖王还将龙骨荒地上那些巨龙的尸骸赋予了新生命变为冰霜巨龙（Frost Wyrm）。仅在短短的数年之内巫妖王就已组建起强大的亡灵军团……<br>（巫妖王部分将在《亡灵天灾》中继续介绍）</p>\n<h5 id=\"名字：古尔丹（死亡）\"><a href=\"#名字：古尔丹（死亡）\" class=\"headerlink\" title=\"名字：古尔丹（死亡）\"></a>名字：古尔丹（死亡）</h5><p>英文：Gul’Dan<br>种族：兽人（暴掠氏族）<br>职业：术士</p>\n<p>早在入侵艾泽拉斯之前黑石氏族首领布莱克汉便登上宝座，成为统领德拉诺世界各氏族的部落酋长。尽管如此，实权却掌控在一个由术士组成的影子议会的手里。兽人术士领袖古尔丹，通过他的傀儡酋长布莱克汉——暗中左右着部落的命运，成为真正的独裁者。<br>　古尔丹原本是兽人萨满耐奥祖的徒弟。野心勃勃的他为了获得强大的魔法能量，竟将自己的灵魂出卖给狡诈的恶魔基尔加丹。基尔加丹则想利用古尔丹控制兽人各氏族，进而为再次入侵做好准备。他先是暗中“帮助”古尔丹组建了影子议会，其作用是操纵兽人各氏族并利用邪恶的巫术进行武力扩张；后在恶魔的策划下各氏族结成部落，在喝下玛诺洛斯的嗜血的诅咒之后古尔丹无疑成为兽人中最强的术士。<br>　贪婪的古尔丹并未就此作罢。在恶魔之王萨格拉斯的利诱之下，他一心想找到封存其残骸的水下墓穴，他相信在那里隐藏着终极能量的秘密并想着占为己有。也许古尔丹从未想过，他将为无可节制的欲望弄丢了自己的小命。<br>　得于一些氏族的支持，几经周折后他终于在无尽之海大漩涡（the Maelstrom）附近找到那座神秘的古墓。难以想象的事情发生了：借用强大的巫术力量，古尔丹竟将海底墓穴重新浮出水面，形成新的岛屿。然而，当古墓大门开启之时等待他的却只有死亡。墓穴中无数只凶残的恶魔咆哮着，将毫无防备的古尔丹和他的手下撕得粉碎。<br>　古尔丹死了，但他的头颅却奇迹般存留着某种魔法能量。后来燃烧军团第三次入侵时古尔丹之颅被伊利丹夺获。伊利丹因此获得巨大的黑暗能量——不仅借此击败黑暗魔王提克迪奥斯，并享有古尔丹的记忆。跟随记忆，伊利丹找到萨格拉斯之墓继而拥有上古神器——萨格拉斯之眼。<br>　　也许古尔丹从未死去……</p>\n<h5 id=\"名字：布莱克汉（死亡）\"><a href=\"#名字：布莱克汉（死亡）\" class=\"headerlink\" title=\"名字：布莱克汉（死亡）\"></a>名字：布莱克汉（死亡）</h5><p>英文：Blackhand<br>种族：兽人（黑石氏族）<br>称号：毁灭者</p>\n<p>在古尔丹与麦迪文合力打开黑暗之门后不久，兽人氏族的一些首领们便开始计划向人类的暴风要塞发起进攻。然而，这种盲目的攻击不仅直接导致军队损失惨重，而且还威胁着刚刚建立的部落的稳定。氏族间相互指责，首领们各自为战，甚至各氏族内部也出现严重的分歧。为缓和兽人内部矛盾日益加深，从而达到逐步征服艾泽拉斯的目的——古尔丹和他的影子议会绞尽脑汁，他们想让嗜血的兽人们恢复平静，然而无济于事。无奈的古尔丹急需一个强大的氏族首领来维持混乱的局面。在他的精心谋划下，黑石氏族（Blackrock Clan）首领——毁灭者布莱克汉登上了酋长的宝座。<br>　布莱克汉领导下的黑石氏族曾是兽人中最强大的氏族。尽管后来他的两个儿子雷德和麦姆（Rend and Maim）将一部分势力从中分化出去并建立了黑牙氏族（Black Tooth Grin Clan），黑石氏族仍在部落中享有一定的威名和实力。不过，当布莱克汉通过影子议会成为部落酋长的同时，他和他的氏族已然完全处于术士们的控制之下。<br>　布莱克汉先是向那些弱小的氏族施压，强迫其服从自己的命令。不久后，他用铁腕将德拉诺世界的各兽人氏族再次旗聚帐下。部落再次“团结”起来，并准备听从傀儡酋长的一声令下再次远征艾泽拉斯。<br>　虽然黑石氏族在对人类的战争中损失惨重，但也赢来了不少胜利。尽管布莱克汉的残暴与好战兽人皆知，不过他之所以能赢来胜利并非没有原因：与其它兽人首领略有不同，尽管他热衷于嗜血与杀戮，但是有时他也会学习人类的各种战术，并通过各种渠道寻找更多的武器来充实他的军备。<br>　围攻暴风要塞的战斗进行得如火如荼，人类在圣骑士的统御下进行着顽强的抵抗。此间有两件大事相继发生：一是洛萨爵士（Anduin Lothar）突袭了麦迪文之塔（Medivh’s Tower）并杀死了麦迪文；二是在古尔丹的暗中指使下，布莱克汉派人——正是他自己的两个儿子——暗杀了杜隆坦夫妇。<br>　在麦迪文被杀同时古尔丹尝试再次与其进行精神沟通，从而进入他的意识、获知萨格拉斯古墓的具体下落。然而这一次他却陷入长期的昏睡之中。<br>　兽人奥格瑞姆·毁灭之锤在得知杜隆坦夫妇被害后勃然大怒。由于失去术士古尔丹和影子议会的强大的庇护，奥格瑞姆借机杀死了傀儡酋长布莱克汉。取而代之成为新的酋长。布莱克汉的黑石氏族也无条件纳入他的麾下。此时，只有少数几个氏族支持古尔丹了。<br>　不过事情并未就此结束。布莱克汉的两个儿子——黑牙氏族的首领雷德和麦姆，决定夺回黑石氏族的控制权，并发誓要除掉奥格瑞姆为父亲报仇。虽然他们赢得了不少兽人和氏族的支持，然而事实上直至战争结束他们也未能如愿以偿。后来他们负责守卫黑暗之门，却被联盟的军队击败。最后黑暗之门被毁，两人被一起送进联盟的俘虏收容所内。</p>\n<h5 id=\"名字：奥格瑞姆·毁灭之锤（死亡）\"><a href=\"#名字：奥格瑞姆·毁灭之锤（死亡）\" class=\"headerlink\" title=\"名字：奥格瑞姆·毁灭之锤（死亡）\"></a>名字：奥格瑞姆·毁灭之锤（死亡）</h5><p>英文：Ogrim Doomhammer<br>种族：兽人（雷王氏族）<br>职业：战士</p>\n<p>奥格瑞姆原是雷王氏族首领。后来布莱克汉成为部落酋长并率军远征艾泽拉斯世界时，奥格瑞姆放弃了雷王氏族首领的头衔，只身随军前往艾泽拉斯。而他的氏族则选择留在了德拉诺。<br>　第一次兽人战争时，奥格瑞姆正确听取了霜狼氏族首领——杜隆坦的忠告，借机杀死傀儡酋长布莱克汉，力图将部落从他的黑暗统治下解救出来。随后率军以压倒之势一举攻下暴风要塞。并在之后一举捣毁了古尔丹控制下的影子议会。<br>　迎来了首战的全面胜利部落士气大增。紧接着第二轮进攻开始，矛头直指北方大陆洛丹伦。此时奥格瑞姆已是部落酋长，兽人大军所向披靡。眼看胜利就要来临，但为找到萨格拉斯之墓兽人术士古尔丹忽然率众离开。事实上，在一些支持古尔丹的氏族的怂恿下，不少兽人和食人魔跟随了古尔丹。奥格瑞姆不得不独自承受巨大压力，继续率军与联盟战斗。<br>　就在联盟得知这一情况后，人类果断地集结力量并发起了反击。一支由洛萨爵士统领的人类部队向部落的重要据点——黑石塔（BlackRock Spire）发起总攻。虽然洛萨在塔底的激战中不幸身亡，但早已损失大半军队的奥格瑞姆此时哪里是联盟的对手：不仅黑石塔失守，不少兽人也竟成了联盟的俘虏。奥格瑞姆身负重伤，率领残兵败将退至位于大陆东南的黑暗之门，企图进行最后的抵抗，然而还是未能抵住联盟猛烈的进攻。此一战黑暗之门被毁，兽人无法得到及时的增援，最终包括奥格瑞姆在内的几乎所有的兽人战士全都成了联盟的俘虏（极少数逃走，另仅有龙喉氏族利用神器控制着红龙族继续抵抗）。<br>　然而没过多久，奥格瑞姆便从守卫森严的收容所内逃了出来。流亡中他遇见了年轻的兽人萨尔，霜狼氏族首领唯一的子嗣。奥格瑞姆十分高兴，仿佛又见到当年的老朋友杜隆坦。奥格瑞姆决定与萨尔同行，营救那些被关押的兽人。随后逃往中的战歌氏族首领格罗姆·地狱咆哮也加入他们之列。<br>　在攻打德拉霍监狱（Durnholde Keep）的战斗中，奥格瑞姆受到伏击，献出了自己的生命。后来萨尔继任了酋长，并率领部落在中卡利姆多的东海岸建立了新的家园——命名为奥格瑞玛（Orgrimmar），以此纪念这位受人尊敬的英雄。</p>\n<h5 id=\"名字：芬瑞斯（死亡）\"><a href=\"#名字：芬瑞斯（死亡）\" class=\"headerlink\" title=\"名字：芬瑞斯（死亡）\"></a>名字：芬瑞斯（死亡）</h5><p>英文：Fenris<br>种族：兽人（雷王氏族）<br>职业：猎人</p>\n<p>早在部落刚成立时，雷王氏族曾与布莱克汉的黑石氏族有着密切联系。当氏族首领奥格瑞姆·毁灭之锤随军远征艾泽拉斯之时，他的雷王氏族则留在了德拉诺并由芬瑞斯继任为该氏族的新首领。在大部分氏族远征之际，雷王氏族则挤身成为德拉诺世界上最强大的氏族之一，并不断延续壮大着它的势力。<br>　奥格瑞姆战败后不久，耐奥祖便决定计划开启多座传送门，以便他自己和那些幸存的氏族得以逃离濒临死亡的德拉诺世界，逃避恶魔的惩罚。然而如此举措却遭至雷王氏族和嚼骨氏族的一致反对：他们认为应该集结兽人之所有力量，再次穿越黑暗之门与世界彼端的人类王国决一死战，进而完成酋长奥格瑞姆未竟之事。然而他们的肺腑之言却遭来耐奥祖的嫉恨，因为他们胆敢公然反对他的权威统治。为了维护自己的利益，耐奥祖笼络了不少氏族，最终雷王氏族和嚼骨氏族被联军先后击败。</p>\n<h5 id=\"名字：杜隆坦（死亡）\"><a href=\"#名字：杜隆坦（死亡）\" class=\"headerlink\" title=\"名字：杜隆坦（死亡）\"></a>名字：杜隆坦（死亡）</h5><p>英文：Durotan<br>种族：兽人（霜狼氏族）<br>职业：萨满</p>\n<p>神秘的黑暗力量在兽人部落中迅速蔓延，即便是杜隆坦领导的霜狼氏族也深受其影响，而只有少数成员依旧维持着兽人祖先的萨满传统。首领杜隆坦看穿了术士们的真实意图，并不屑古尔丹的权力游戏。他尝试将真相告知其它氏族首领，然而他们对影子议会的阴谋诡计却一无所知。以前那些高贵的兽人战士如今却越来越多地屈膝于恶魔嗜血的诅咒，并随时准备为燃烧军团效力。<br>　就在攻打暴风要塞期间，古尔丹施计将霜狼氏族流放边远之地。杜隆坦和他的族人历尽艰辛来到位于洛丹伦大陆的奥特兰克山脉（Alterac Mountains）。此时只有氏族首领奥格瑞姆——杜隆坦的老朋友——觉察到部落中潜在的堕落力量，并愿意听取他的忠告。<br>　然而在从流放地回来的途中杜隆坦一家遭遇了伏击。杜隆坦夫妇被古尔丹的杀手杀害。只有他的一个幼小的儿子“幸存”下来——被杀手遗弃在冰冷的雪山。<br>当霜狼氏族得知首领死后，老萨满德雷克塔尔（Drek’thar）继任了氏族首领的位子。他们返回奥特兰克山脉，决心从此不再过问部落之事。</p>\n<h5 id=\"名字：萨尔\"><a href=\"#名字：萨尔\" class=\"headerlink\" title=\"名字：萨尔\"></a>名字：萨尔</h5><p>英文：Thrall<br>种族：兽人（霜狼氏族）<br>职业：萨满</p>\n<p>萨尔是兽人杜隆坦和德拉卡（Draka）唯一的儿子。<br>　杜隆坦夫妇被暗杀后，杀手将一个兽人小孩扔在了冰天雪地等死。后来一个叫埃德拉斯·布莱克摩尔（Aedelas Blackmoore）的人类中尉发现了这个小孩，并将他带回一座叫德拉霍监狱（Durnholde Keep）的人类城堡，并给他取了一个人类的名字——萨尔。其实布莱克摩尔对萨尔并不好，事实上他象对待奴隶一样“抚养”萨尔。<br>　十九年后，酋长奥格瑞姆领导的兽人大军被联盟彻底击败，几乎所有的兽人都被关进联盟的俘虏收容所内。与此同时，萨尔在布莱克摩尔的城堡里渐渐长大。不仅从人类那里学到各种知识，更渴望着了解自己的生世。他决定逃出布莱克摩尔的城堡，并决心找到他的族人和传说中的霜狼氏族。<br>　在去向北方的漫长的旅途中，他碰见并结识了许多的兽人。其中包括从狱中死里逃生的格罗姆·地狱咆哮和奥格瑞姆·毁灭之锤，以及霜狼氏族的新首领——一位年老的萨满，德雷克塔尔。老萨满告诉了萨尔有关他的生世，并教授他几乎失传的古老的萨满术，并将霜狼氏族首领的位子传给了年轻的萨尔。<br>　在萨尔进一步了解到兽人的遭遇之后，他决心与地狱咆哮的战歌氏族一起，施计营救被关押的兽人兄弟，并满怀希望地发誓要让兽人从恶魔的嗜血诅咒中永远解放出来。在此期间，萨尔和地狱咆哮成了很好的朋友。霜狼氏族和战歌氏族悄悄汇合，并在部落酋长毁灭之锤的统一指挥下突袭了联盟的多座收容所。<br>　在接下来的时间里，不少被关押的兽人及氏族相继获释。然而在一次营救行动中，奥格瑞姆·毁灭之锤不幸阵亡。弥留之际，他用最后一口气说道，要萨尔继任为新的部落酋长。在之后的几个月里，更有多座收容所相继遭到兽人的突袭，甚至曾经接纳萨尔的德拉霍监狱也被兽人攻陷。监狱的大殿狱官——布莱克摩尔中尉死在了那次冲突中。在确认所有收容所都被摧毁且兽人得以重获自由后，萨尔的军队撤出了战斗，并在大陆某处秘密积蓄着力量。<br>　一日深夜，一只化形为鹰的先知找到萨尔，并告诉他即将发生的一切……<br>跟随先知的指引，半信半疑的萨尔率领部落，远涉重洋去了遥远的卡利姆多大陆（Kalimdor）。在漫长的旅途中，他们先后结识了居住于岛上的丛林巨魔，以及强大而友善的牛头人酋长。并在之后对抗燃烧军团的战斗中，与暗夜精灵和吉安娜领导的人类军团达成战时同盟。<br>　燃烧军团战败以后，萨尔领导的部落在东海岸定居下来，并将这片土地以他死去的父亲的名字命名为杜隆塔尔（Durotar）。</p>\n<h5 id=\"名字：德雷克塔尔\"><a href=\"#名字：德雷克塔尔\" class=\"headerlink\" title=\"名字：德雷克塔尔\"></a>名字：德雷克塔尔</h5><p>英文：Drek’Thar<br>种族：兽人（霜狼氏族）<br>职业：萨满（先知）</p>\n<p>自从喝下嗜血的诅咒，古老的萨满传统渐渐被兽人淡忘。德雷克塔尔——萨尔的导师，部落上一代最后的萨满。<br>　年老的萨满在杜隆坦夫妇死后继任成为霜狼氏族首领，并率领氏族返回奥特兰克山脉隐居起来。此间，一个叫佩尔卡（Pelkar）的小孩和一只霜狼一直陪伴着他。<br>　后来萨尔从人类城堡中逃了出来，并得于一些幸存的氏族首领的帮助找到德雷克塔尔。年老的萨满愿意教授萨尔古老的萨满术。他将这位年轻的兽人引领进入遗失的萨满之道——那曾被古尔丹和耐奥祖几乎毁灭的萨满传统终于得以传承。在这一段与德雷克塔尔相处的时间里，萨尔受到很深的影响。<br>　当萨尔与其它首领决计营救被联盟关押的兽人之时，德雷克塔尔离开了奥特兰克山脉，随萨尔一起南征北战。不过，作为年老的萨满他并没有亲自参加战斗，而是作为部落长者鼓舞着兽人的士气。不幸的是，那只一直陪伴他的霜狼在一次突袭中永远地离开了他。<br>　后来，德雷克塔尔随萨尔同行去往卡利姆多大陆。在击败燃烧军团之后，这位年老的萨满亲眼看见兽人的新家园——奥格瑞玛建成。这位可爱的老人如今依然健康地活着，并不时地给于年轻的酋长萨尔大力的支持。</p>\n<h5 id=\"名字：格罗姆·地狱咆哮（死亡）\"><a href=\"#名字：格罗姆·地狱咆哮（死亡）\" class=\"headerlink\" title=\"名字：格罗姆·地狱咆哮（死亡）\"></a>名字：格罗姆·地狱咆哮（死亡）</h5><p>英文：Grom Hellscream<br>种族：兽人（战歌氏族）<br>职业：剑圣<br>　格罗姆没有参加傀儡酋长布莱克汉领导的远征而留在了德拉诺世界。虽然后来奥格瑞姆战败，但格罗姆与塔伽和芬瑞斯等首领却一致认为，应该重振旗鼓并率军杀回艾泽拉斯。但在耐奥祖的铁腕统治下，塔伽、芬瑞斯等人及其氏族相继被灭。迫于无奈格罗姆屈服于耐奥祖的权威。<br>　黑暗之门恢复之后，格罗姆和奇尔洛格·死眼一起为耐奥祖从人类手中成功夺获所需的神器。他们的行动引起联盟的注意并迅速集结了一支由人类、矮人和高等精灵的远征军，同样穿过黑暗之门尾随来到德拉诺。尽管后来耐奥祖如愿以偿开启了多座传送门，然而大部分兽人仍未能逃离濒临毁灭的德拉诺世界。联盟的远征军也同样遭遇了那场浩劫。<br>　德拉诺大灾变时，格罗姆率领战歌氏族（WarsongClan）与奇尔洛格的血窟氏族（BleedingHollowClan）合力冲杀，死里逃生终于穿过即将炸毁的黑暗之门再次来到艾泽拉斯。势单力薄的战歌氏族和血窟氏族不久便被联盟击败并全数捕获。<br>　不过后来格罗姆和他的战歌氏族从狱中逃了出来，并隐藏起来躲避人类的追捕。他们试图营救被关押的兽人兄弟，但未能成功。后来格罗姆遇见了从人类城堡逃出的萨尔。两人一见如故，当下结为很好的朋友。格罗姆帮助萨尔找到隐居的霜狼氏族及其首领德雷克塔尔。年轻的萨尔从德雷克塔尔那里习得古老的萨满术并继承了霜狼氏族首领之位。此时两个氏族决定联合起来，并愿意在原酋长奥格瑞姆的统领下展开一系列营救兽人的行动。萨尔继任成为新部落酋长之时，格罗姆给与了他大力的支持。<br>　后在先知的指引之下，兽人不远千里来到古老的卡利姆多大陆并建立起新的定居点。尽管如此，恶魔之血仍根本影响着兽人的行为。格罗姆正是其中之一：长期以来，他和战歌氏族饱受恶魔诅咒的折磨。得于酋长萨尔和人类法师吉安娜（JainaProudmoore）相助，格罗姆方才暂时恢复了理智。为使兽人永远摆脱恶魔的束缚，格罗姆在与玛诺洛斯的决斗中不幸战亡（同归于尽）。<br>　格罗姆·地狱咆哮，德拉诺世界兽人中最强的战士之一，曾系最先迎接玛诺洛斯之血的氏族首领。</p>\n<h5 id=\"名字：奇尔洛格·死眼（死亡）\"><a href=\"#名字：奇尔洛格·死眼（死亡）\" class=\"headerlink\" title=\"名字：奇尔洛格·死眼（死亡）\"></a>名字：奇尔洛格·死眼（死亡）</h5><p>英文：Kilrogg Deadeye<br>种族：兽人（血窟氏族）</p>\n<p>血窟氏族曾与布莱克汉的黑石氏族相交甚深。在入侵艾泽拉斯之前曾系兽人氏族中最强之一。<br>部落刚成立不久，兽人们便在部分氏族首领的簇拥下，向人类王国发起了第一轮进攻。奇尔洛格领导的血窟氏族与寇加尔的暮锤氏族（TwilightHammerClan）隶属首批入侵艾泽拉斯王国的部落军队。然而此次盲目的攻击不仅未能达到目的且伤亡惨重。血窟氏族和暮锤氏族不得不向东退至黑色沼泽（TheBlackMorass）一带。<br>　后来部落重新集结力量，终于一举攻下暴风要塞。此时奥格瑞姆成为部落酋长，并率军北伐横扫卡兹莫丹。在攻陷矮人王国都城之后，奇尔洛格率领他的氏族来到铁炉堡（Ironforge），主要负责监视矿藏的开采。<br>　后来古尔丹率众叛逃并被恶魔杀死。随后联盟趁机击溃了奥格瑞姆的主力，并在黑石塔和最后的战役中彻底击败部落军队。奇尔洛格和部分血窟氏族的战士费尽周折才逃出人类的追杀。虽然高等精灵艾蕾莉亚（Alleria）多次派兵四处搜捕，扬言一举剿灭血窟氏族残余。不过奇尔洛格十分清楚自己的处境，他想方设法与远在德拉诺世界的耐奥祖取得联系。终于奇尔洛格和他的血窟氏族回到家乡德拉诺。好不容易逃回来的奇尔洛格，此时被部落尊为英雄，并认为他在对人类的战斗中表现英勇。<br>　出于对耐奥祖的感激，奇尔洛格及血窟氏族誓言效忠耐奥祖。在之后的故事中奇尔洛格一直和战歌氏族首领格罗姆并肩作战：不仅帮助耐奥祖夺得神器，还与格罗姆及卡格斯·拳刃等氏族首领合力抵御人类远征军的反击，为耐奥祖最终开启传送门赢得时间。<br>　德拉诺世界大灾变时，奇尔洛格与格罗姆率领各自氏族合力冲杀，终于逃离行将毁灭的德拉诺。不过与格罗姆不同的是，奇尔洛格再次被联盟军队逮捕并被押至位于洛丹伦大陆的俘虏看守所内。虽然后来萨尔解救了所有被关押的兽人，然而奇尔洛格下落不明，据说死于收容所中。</p>\n<h5 id=\"名字：卡格斯·拳刃（死亡）\"><a href=\"#名字：卡格斯·拳刃（死亡）\" class=\"headerlink\" title=\"名字：卡格斯·拳刃（死亡）\"></a>名字：卡格斯·拳刃（死亡）</h5><p>英文：Kargath Bladefist<br>种族：兽人（碎掌氏族）<br>职业：战士</p>\n<p>碎掌氏族（Shattered Hand Clan）战士的传统：废掉自己的左手，换上锋利的刀刃，随时准备为氏族之荣耀不惜赴汤蹈火。卡格斯·拳刃，碎掌氏族出色的战士和领袖——期待着统领他的氏族向毫无防备的人类发起进攻。在酋长奥格瑞姆失败之后，卡格斯·拳刃成为耐奥祖忠实的支持者。后与雷王氏族联手协助食人魔法师登塔，为耐奥祖击败嚼骨氏族及其首领塔伽、夺走神器古尔丹之颅。在德拉诺大灾变、黑暗之门即将毁灭之时，他仍然率众死战，直至战死。</p>\n<h5 id=\"名字：祖赫德（死亡）\"><a href=\"#名字：祖赫德（死亡）\" class=\"headerlink\" title=\"名字：祖赫德（死亡）\"></a>名字：祖赫德（死亡）</h5><p>英文：Zuluhed<br>种族：兽人（龙喉氏族）<br>职业：萨满</p>\n<p>祖赫德（Zuluhed）领导的龙喉氏族（Dragonmaw-clan）历史悠久，在部落废除萨满传统之前曾在兽人氏族中享有极高的声誉。他与布莱克汉的黑石氏族相交甚深。即便是在布莱克汉被杀之后，仍死心塌地地暗中支持着他的两个儿子及其黑牙氏族。<br>　得于黑龙死亡之翼（Deathwing）的“相助”，龙喉氏族找到上古神器恶魔之魂。随后祖赫德与黑牙氏族谋划了一个可怕的计划：利用强大的神器进而控制红龙女王阿莱克斯塔萨（Alexstraza）及其红龙族。考虑到只有术士才能操纵神器的力量，于是祖赫德指使本氏族的耐克鲁斯·碎骨者去干这事儿。<br>　由于恶魔之魂的作用，红龙女王的实力被大大减弱。兽人们将女王抓获，并带去位于卡兹莫丹西北部的格瑞姆巴托（Grim Batol）城堡，并用如钻石般坚硬的钢链将她牢牢捆住。受制于神器的威力，其它红龙不得不听从兽人术士的无理要求：为部落而战，与联盟为敌。<br>　红龙成了龙喉氏族的强大武器。即便是战争结束之后几乎所有的兽人被关进了收容所内，龙喉氏族仍占据着卡兹莫丹北部的部分土地：他们牢牢占据着两座坚实的山地城堡——格瑞姆巴托和丹奥加斯（Dun Algaz），固若金汤的防御令联盟的进攻屡次受挫。<br>　在又一次击退了联盟的进攻之后，术士耐克鲁斯不失时机地派出红龙，令其北上突袭洛丹伦大陆南部的沿海地区。即使训练有素的矮人狮鹫骑士也未能抵住红龙的进攻而伤亡惨重。不过，勇敢的狮鹫骑士们并未就此撤退，而是在队长的率领下继续顽强抵抗。<br>　龙喉氏族首领祖赫德认为时机已到，开始重新部署力量准备向联盟发起反攻。不仅如此，他还开始想到：如何救出所有被关押的兽人以及继续部落的伟大的征服计划。然而天有不测风云：一小股矮人抵抗力量在人类法师罗宁（Rhonin）的率领下悄悄潜入格瑞姆巴托城堡，并一举摧毁神器恶魔之魂，将红龙女王释放出来。<br>　红龙咆哮着用烈焰将格瑞姆巴托化为一片火海。龙喉氏族损失大半。此时另一座城堡丹奥加斯也在联军的围攻下最终失守。祖赫德的“复兴计划”宣告失败。至于那些幸存的龙喉氏族的兽人则全被关进了俘虏收容所内。</p>\n<h5 id=\"名字：寇加尔（死亡）\"><a href=\"#名字：寇加尔（死亡）\" class=\"headerlink\" title=\"名字：寇加尔（死亡）\"></a>名字：寇加尔（死亡）</h5><p>英文：Cho’gall<br>种族：食人魔（暮锤氏族）<br>职业：食人魔法师</p>\n<p>寇加尔是食人魔种族中最强大的魔法师，影子议会忠实的成员。他领导的暮锤氏族（Twilight Hammer Clan）隶属于首批入侵艾泽拉斯的远征军，并与奇尔洛格·死眼的血窟氏族一起最先向人类的风暴要塞发起进攻。不过该次进攻遭到要塞内士兵和骑士的顽强抵抗。不仅未能攻下人类要塞，还被迫退回东部沼泽地区。<br>　那些沉浸于嗜血的部落战士认为杀戮与毁灭是神圣的享受，他们是人类王国的末日审判者。对于暮锤氏族来说，最大的满足莫过于完成这个使命以及对部落的忠诚。然而，他们的首领寇加尔却始终保持着与术士古尔丹的往来以及对他的绝对忠诚。<br>　寇加尔是古尔丹忠实的支持者。在洛丹伦战役时他率领暮锤氏族离开了酋长奥格瑞姆。并与暴掠氏族一起为古尔丹找到萨格拉斯之墓。古尔丹被恶魔杀死后，寇加尔的暮锤氏族与其它兽人氏族同样遭受恶魔疯狂的攻击。寇加尔幸免遇难，并与少数的食人魔和兽人逃出了恶魔的追杀。但随后却被酋长奥格瑞姆·毁灭之锤以叛变的名义击溃。寇加尔被杀，暮锤氏族的成员几乎全被处死。</p>\n<h5 id=\"名字：登塔\"><a href=\"#名字：登塔\" class=\"headerlink\" title=\"名字：登塔\"></a>名字：登塔</h5><p>英文：Dentarg<br>种族：食人魔（影月氏族）<br>职业：食人魔法师</p>\n<p>勇敢的登塔是耐奥祖忠实的奴仆。或许他算不上一位真正的英雄，但他在帮助耐奥祖于兽人部落中树立绝对的权威，拉拢较大氏族、剿灭弱小氏族时期功不可没。不过后来耐奥祖战败，登塔极有可能死于那场德拉诺世界的大灾变之中。</p>\n<h5 id=\"名字：盖萝娜\"><a href=\"#名字：盖萝娜\" class=\"headerlink\" title=\"名字：盖萝娜\"></a>名字：盖萝娜</h5><p>英文：Garona<br>种族：半兽人<br>性别：女<br>职业：刺客</p>\n<p>加罗娜出生在爱泽拉斯。由于她有着兽人般绿色的皮肤，曾被当地居民抓祝但又因为她有着人类的血统，因此减免了死罪而被贬为奴隶。不过后来她从人类的看守中逃了出来。当时正值兽人入侵艾泽拉斯。她打算加入部落，但被所有氏族拒绝，理由是她长着人一样的外表。不过狡诈的古尔丹倒是慷慨地收留了她，并让她加入自己掌控下的影子议会并受到重用。<br>　由于加罗娜曾在爱泽拉斯生活过很长一段时间，对人类的语言活动等皆有一定了解，因此影子议会或许对她来说是个不错的选择。刚开始她主要负责记录战况和翻译的工作。后被术士古尔丹作为间谍秘密派往艾尔文森林（ElwynnForest）一带，不料此次行动却被人类察觉加罗娜被捕。为救出加罗娜，兽人部落突袭了作为艾泽拉斯王国重要据点的北郡修道院（NorthshireAbbey）并将其化为瓦砾。<br>　后来加罗娜作为影子议会的密使渗透到麦迪文之塔即卡拉赞（Karazhan）。本来她的目的是替古尔丹收集更多有关人类的魔法和知识，同时与麦迪文取得进一步的联系，然而在那里她遇见了年轻的人类法师——麦迪文的学徒卡德加（Khadgar）。正所谓不打不相识，两人逐渐建立起深厚的友谊，并认为[b]若是人类与兽人都愿意更多地去了解对方的文化，那么彼此是可以和睦相处的。[/b]<br>当发现恶魔之王萨格拉斯控制了麦迪文的心智时，他们立即跑回暴风要塞并将消息告诉了莱恩（Llane）国王和洛萨爵士。并于次日随洛萨一起赶回卡拉赞。在洛萨和卡德加的精心策划之下，众人突袭了麦迪文之塔。交战时，麦迪文不失时机地念起了可怕的咒语，使得加罗娜象发疯一样逃出战斗……<br>　之后加罗娜继续为兽人术士古尔丹效力，并在暴风要塞陷落之时暗杀了莱恩国王，并割下了国王的心脏带回给她的主人古尔丹。不久部落内部发生政变。当古尔丹陷入深度昏迷时，毁灭之锤杀死了傀儡酋长布莱克汉，同时作为古尔丹心腹的加罗娜也遭逮捕。在受到百般折磨后加罗娜泄露出有关影子议会的重要秘密。随后毁灭之锤突袭了影子议会的会所并捕杀了除古尔丹以外的所有成员。不过据言加罗娜没有被杀掉。</p>\n<h5 id=\"名字：雷克萨\"><a href=\"#名字：雷克萨\" class=\"headerlink\" title=\"名字：雷克萨\"></a>名字：雷克萨</h5><p>英文：Rexxar<br>种族：半食人魔<br>职业：驯兽师<br>称号：兽王</p>\n<p>雷克萨是莫科那萨尔（Mok’Nathal）族最后的子孙。他和他最好的伙伴棕熊米莎（Misha）在杜隆塔尔附近的荒野上徒步旅行了多年。风餐露宿，大自然便是他的家。<br>　一次偶然的机会，雷克萨看见一个兽人战士正遭到一群野兽的围攻。他赶去相助，但还是迟了一步。兽人战士倒在血泊之中。弥留之际，战士将一封沾满鲜血的重要信件交给雷克萨，要他无论如何送到酋长萨尔手上。雷克萨答应了战士的请求，并找到兽人的新定居点奥格瑞玛。部落酋长萨尔热情接纳了这位莫科那萨尔族的英雄，并随即邀请雷克萨帮助部落一起建设新的家园。<br>　在海军上将戴林·普罗德摩尔（DaelinProudmoore）率领的人类军队大举入侵杜隆塔尔之际，雷克萨再次挺身而出。此间雷克萨不仅赢得牛头人部落的支持，并且击败了食人魔部落酋长考哥尔，成为石槌部落的新领袖。在重创了人类海军之后，雷克萨与萨尔率领的兽人主力汇合，开始围攻人类位于塞拉摩（Theramore）岛上的最后一座临海要塞。<br>　部落联军猛烈地冲击着人类的防线，海军上将戴林阵亡。联军战士们欢呼雀跃，此时萨尔再次邀请雷克萨一起重建家园。然而雷克萨婉言谢绝道：“……可是我的一生注定浪迹天涯，我属于那广漠的荒野”。</p>\n","categories":[],"tags":["wow"]},{"title":"兽人历史:古尔丹和背叛","url":"https://fanhua.tech/2016/07/06/兽人历史-古尔丹和背叛/","content":"<h5 id=\"古尔丹和背叛\"><a href=\"#古尔丹和背叛\" class=\"headerlink\" title=\"古尔丹和背叛\"></a>古尔丹和背叛</h5><p>在第二次战争的最后一段日子里，当兽人对人类战争的胜利几乎唾手可得时，艾泽拉斯最强大的两个兽人之间爆发了强烈的冲突。邪恶的巫师古尔丹–暗中操纵兽人命运的影子议会的头领–领导着一些反叛的氏族，与强大的部落酋长奥格瑞姆·毁灭之锤分庭抗礼。当毁灭之锤准备对洛丹伦王国的首都城市洛丹伦城发动最后的致命进攻时，古尔丹和他属下的叛乱氏族遗弃了他们的营地并乘船逃出了海。因为这次叛逃事件，毁灭之锤失去了将近一半的精锐部队，手忙脚乱的他被迫全线撤退，与他征服整个联盟的机会失之交臂。<br>　　极度渴望力量的古尔丹痴迷于获得神格，他拼命派出搜索队以寻找被埋葬在海底的萨格拉斯之墓–他相信在那里隐藏着终极力量的秘密。古尔丹为了获得力量，不惜将跟随他的兽人全部出卖给燃烧军团作为奴隶，他压根没有想过应对毁灭之锤尽职的问题。在暴掠氏族和夜锤氏族的支持下，古尔丹成功地从海底挖出了萨格拉斯之墓。但当他打开这远古地牢的大门时，古尔丹发现等待他的只有疯狂的恶魔。<br>　　为了惩罚那些不坚定兽人的背叛行为，毁灭之锤派他的部队杀掉古尔丹并将叛变的兽人投进监牢。古尔丹为他的贪婪付出了代价，他被自己释放的疯狂恶魔撕成了碎片。在他们的领导人死后，叛变的氏族很快就被毁灭之锤的军团击溃。虽然叛变被镇压了，但兽人部落已无法弥补这次事件带来的损失。古尔丹的背叛给联盟带来的不仅是希望，还有重新集结的时间……以及报复。<br>　　洛萨爵士看到兽人部落内部产生的分裂，不失时机地集合了他最后的部队，并将兽人逼到了南方，退回到了他那饱经蹂躏的故乡–艾泽拉斯的腹地。在那里，联盟军队将撤退的兽人困在了黑石塔要塞。虽然洛萨爵士在进攻黑石塔的战斗中光荣牺牲，但他的副官图拉杨在紧急关头召集了联盟军队并将兽人驱赶到了无底的忧伤沼泽。<br>　　图拉杨的部队成功地摧毁了黑暗之门，切断了德拉诺兽人援军的来路，在惨烈的战斗之后，兽人终于在强大的联盟军队面前倒下了。<br>　　四分五裂的兽人氏族很快被赶进了严密警戒下的俘虏收容所。虽然看起来兽人已经被完全击败了，但仍然有人怀疑这种和平能否持久。麦迪文以前的学徒卡德加说服联盟的高层，建立了耐瑟加德要塞以监视黑暗之门的废墟，确保没有从德拉诺发动的新的入侵。</p>\n<h5 id=\"耐奥祖和影子氏族\"><a href=\"#耐奥祖和影子氏族\" class=\"headerlink\" title=\"耐奥祖和影子氏族\"></a>耐奥祖和影子氏族</h5><p>当第二次战争的战火熄灭之后，联盟以带有侵略性的措施来解决兽人问题。在洛丹伦南部建立了一系列俘虏收容所，用以关押被捕的兽人。在圣骑士和经验丰富的老兵的看守下，收容所取得了巨大的成功。虽然被捕的兽人烦躁不安地想要进行战斗，但在古老的监狱城堡德恩霍尔德要塞的控制之下，一切都显得和平而井井有条。<br>　　尽管如此，在地狱般的德拉诺，一支新的兽人部队已经准备好要血洗毫无防备的人类联盟。年长的萨满祭司耐奥祖–古尔丹以前的顾问–在他的黑暗旗帜下集结了少数德拉诺残留的兽人氏族，他计划打开数个新的传送门，将兽人部落送入新的世界。为了增强他的新传送门，耐奥祖需要几件艾泽拉斯大陆上的神器。为了得到它们，耐奥祖重新打开了黑暗之门，并派出了他的部队。<br>　　新的兽人部落在经验丰富的酋长–比如战歌氏族的格罗姆·地狱咆哮和血环氏族的奇尔洛格·死亡之眼–的率领下令联盟的防御部队大惊失色，并横扫了这个国家。在耐奥祖的指引下，兽人迅速找到了他们需要的神器并撤回了德拉诺。<br>　　洛丹伦王国的泰瑞纳斯国王在确认了兽人正在计划重新入侵艾泽拉斯之后，召集了他最信任的副官。他命令图拉杨将军和法师卡德加率领一支远征队穿过黑暗之门，永远解决兽人问题。图拉杨和卡德加的部队开进了德拉诺，并在荒芜的地狱火半岛上与耐奥祖的氏族频繁战斗。虽然没有哪方可以站稳脚跟，但毋庸置疑的是没人能够阻止耐奥祖完成他那邪恶的计划。<br>　　耐奥祖成功地打开了他那通往另一个世界的传送门，但他并没有预见到他将付出的可怕代价。传送门的巨大能量开始将德拉诺撕裂，当图拉杨的部队仍然为回到艾泽拉斯而奋力战斗时，德拉诺开始崩溃。格罗姆·地狱咆哮和奇尔洛格·死亡之眼意识到耐奥祖的疯狂计划会毁灭他们的民族，于是他们集结了残余的兽人并逃到了艾泽拉斯。当两位酋长为在人类的包围中杀出一条血路而奋战时，黑暗之门在他们身后轰然爆炸了。对于他们，以及所有留在艾泽拉斯的兽人们，永远也不能回到他们的家乡了……<br>　　耐奥祖和他的影月氏族穿越了新开的传送门，同时巨大的能量将德拉诺大陆撕成了碎片。燃烧的海洋吞没了支离破碎的陆地，这片被诅咒的大陆终于在巨大的爆炸中沉到了海底。</p>\n<h5 id=\"巨龙的时代\"><a href=\"#巨龙的时代\" class=\"headerlink\" title=\"巨龙的时代\"></a>巨龙的时代</h5><p>虽然格罗姆·地狱咆哮和他的战歌氏族逃离了追捕，但死亡之眼和他的血环氏族却被囚禁在了洛丹伦的俘虏收容所中。虽然他们发动了一次损失惨重的暴动，但收容所的看守很快就从兽人手中夺回了控制权。尽管如此，在联盟的侦察员毫无察觉的情况下，一股强大的兽人势力仍然控制着卡兹莫丹北部的荒野。由无耻的巫师耐克鲁斯领导的龙喉氏族仍然利用一件名叫恶魔之魂的强大神器控制着红龙皇后阿莱克斯塔萨和她的孩子们。在矮人们很久以前修建的格瑞姆巴托要塞中，耐克鲁斯建立了一支拥有红龙的庞大军队，并准备将四散的兽人部落重新联合起来，继续他们对艾泽拉斯的征服。但在人类法师罗宁的领导下，一小队矮人抵抗组织的战士成功地摧毁了恶魔之魂并从兽人的魔掌中解放了红龙女皇阿莱克斯塔萨。愤怒的红龙重创了龙喉氏族，幸存的兽人被投进了俘虏收容所。龙喉氏族的失败标志着兽人部落的末日–以及兽人狂暴嗜血的彻底完结。</p>\n<h5 id=\"昏睡和收容\"><a href=\"#昏睡和收容\" class=\"headerlink\" title=\"昏睡和收容\"></a>昏睡和收容</h5><p>数月之后，更多的兽人囚犯被投入了收容所。随着各地的收容所爆满，联盟不得不在奥特拉克山脉南部的平原上修建新的收容所。为了保持和维护不断增多的收容所，泰瑞纳斯国王向联盟各国征收新的税款。这项税款激化了各国的矛盾，并导致联盟领导人产生了分歧，看来他们在困难时刻签订的条约将随时被撕毁。<br>　　在政治骚乱的同时，许多收容所的看守开始注意到他们的兽人囚犯发生了令人困惑的变化。兽人试图越狱逃跑的行为，甚至是他们内部的斗殴都大幅度减少，兽人们变得越来越冷漠和嗜睡。虽然这很难相信，但兽人–曾经是艾泽拉斯大陆上最具侵略性的种族–开始丧失战斗的欲望。这种奇怪的现象令联盟的领导人感到莫名其妙并继续关押着这些急剧衰弱的兽人。<br>　　一些人认为，是一种奇怪的、只会感染兽人的疾病使兽人变成了这副昏昏欲睡的样子。但达拉然的大法师安东尼达斯提出了另一种假说：在研究了他所能了解的所有兽人历史之后，安东尼达斯发现兽人已经受恶魔的力量（或巫师魔法）影响长达数百年了。他认为兽人早在第一次入侵艾泽拉斯之前就已经被恶魔的力量引诱而堕落了。很明显，恶魔抽干了兽人的血液，作为交换，他们给了兽人超强的力量、耐力和侵略性。<br>　　安东尼达斯认为兽人的反常嗜睡行为并不是疾病，而是长期以来使他们变得可怕、嗜血的巫师魔法消退了。虽然这种症状很明显，但安东尼达斯无法找到治疗兽人目前状况的方法。许多他的法师学徒和一些著名的联盟领导人都认为替兽人找出治疗的方法纯属冒险行为。在谨慎的考虑了兽人目前的神秘状况之后，安东尼达斯认为治愈兽人的唯一途径是通过精神……</p>\n<h5 id=\"萨尔的故事\"><a href=\"#萨尔的故事\" class=\"headerlink\" title=\"萨尔的故事\"></a>萨尔的故事</h5><p>在第一次战争中，一个名叫埃德拉斯·布莱克摩尔的狡诈人类文官在野外发现了一个被遗弃的兽人婴儿。布莱克摩尔为这个兽人婴儿起名为萨尔，并把他带回了监狱堡垒德恩霍尔德。在那里，布莱克摩尔将小兽人作为奴隶和角斗士抚养长大。布莱克摩尔想要将萨尔训练成一个有教养的领袖，让他接管兽人部落，并靠着兽人军队来统治全世界。<br>　　 19 年后，萨尔成长为一个强壮、反应敏捷的兽人。他年轻的心知道他不能一辈子做奴隶，当他在城堡中逐渐长大时，外面的世界发生了许多变化。他知道他的人民，兽人–他从来都没有见过的同胞–被人类打败并关进了俘虏收容所中。兽人的领袖毁灭之锤从洛丹伦逃了出来并消失了。他知道只有一个流亡的氏族还在秘密活动，试图以此避开联盟的眼线。<br>　　学识丰富但毫无经验的萨尔决定从布莱克摩尔的堡垒中逃跑并寻找他的同胞。在旅途中，萨尔访问了俘虏收容所，并发现他那一度强大的族群变得懒散虚弱，在这里找不到他希望发现的值得骄傲的战士。萨尔继续寻找最后的兽人酋长，格罗姆·地狱咆哮，虽然人类在不断追捕格罗姆，但他仍然保持着兽人旺盛的战斗欲望。在他的战歌氏族的帮助下，地狱咆哮为解放他那些被压迫的同胞而不懈战斗。不幸的是，地狱咆哮永远也找不到解救他们的办法。萨尔被地狱咆哮的坚定所感动，下定决心要找回兽人的战斗传统。<br>　　为了找寻他自己的氏族，萨尔向北方旅行，期望能碰到传说中的霜狼氏族。萨尔了解到古尔丹曾经在第一次战争早期流放了霜狼氏族。他也了解到了他就是兽人英雄杜隆坦–在 20 年前被谋杀的霜狼氏族的酋长–的儿子和继承人 。<br>　　在值得尊敬的萨满祭司德雷克萨尔的保护下，萨尔学习了在古尔丹的邪恶统治下被兽人遗忘的古老萨满文化。一段时间之后，萨尔成为了一位强大的萨满祭司并成为了霜狼氏族的酋长。在元素的帮助下，萨尔决定解放被囚禁的氏族并将他们从恶魔的诱惑中解救出来。<br>　　萨尔在旅程中遇到了隐居多年的的酋长奥格瑞姆·毁灭之锤。作为萨尔的父亲最要好的朋友，毁灭之锤决定跟随年轻有为的萨尔并帮助他解放那些被囚禁的氏族。在许多经验丰富的酋长的帮助下，萨尔最终成功地使兽人重新充满了活力，并为他的人民确立了新的精神信仰。<br>　　作为他的人民所获得新生的象征，萨尔回到了布莱克摩尔的德恩霍尔德城堡并解放了收容所中的兽人。但是，在解放一座收容所的战斗中，毁灭之锤战死了。萨尔拿起了毁灭之锤那传奇般的战锤，穿上了他的黑色板甲，成为了新的兽人领袖。在接下来的几个月里，萨尔的部落扫平了许多收容所，并使联盟花费了极大精力来应付他精明的战术。在他最好的朋友兼顾问格罗姆·地狱咆哮的鼓励下，萨尔为了确保没有兽人再次成为奴隶–无论是人类还是恶魔的–而战斗。</p>\n","categories":[],"tags":["wow"]},{"title":"暗夜精灵历史:卡多雷和永恒之井","url":"https://fanhua.tech/2016/07/06/暗夜精灵历史-卡多雷和永恒之井/","content":"<h4 id=\"卡多雷和永恒之井\"><a href=\"#卡多雷和永恒之井\" class=\"headerlink\" title=\"卡多雷和永恒之井\"></a>卡多雷和永恒之井</h4><p>在人类与兽人爆发战争的数万年前，艾泽拉斯世界只有一块被无边的海洋包围的巨大陆地，这片大陆被称为卡利姆多。许多不同的种族和生物在这片土地上生存，与恶劣的自然环境作斗争。在这块黑暗的大陆中心是一片充满神秘能量的湖泊。这片湖泊——它后来被称为永恒之井——是整个世界的魔法和自然能量的源泉，在从这个世界以外无边的黑暗中汲取能量的同时，永恒之井向整个世界源源不断地释放它的能量，为世界上形形色色的生物提供营养。<br>　　不知从什么时候开始，一个由在夜间行动的类人生物组成的原始部落谨慎地在这片迷人的湖泊旁定居了下来，这些野生、游牧的类人生物被永恒之井的神秘能量吸引，在湖边修建了简易的住房。天长日久，永恒之井的和谐能量对这个奇怪的部落产生了影响，使他们变得强壮、聪明，并且几乎成为了不死之身。这个部落的名字叫卡多雷，意思是”众星之子”。为了庆祝部落的不断发展壮大，他们在永恒之井的周围修建了高大的建筑物和神庙。<br>　　卡多雷——也就是后来被称为暗夜精灵的种族——信奉月亮女神艾露尼，并认为每到白天的时候，女神就会在永恒之井的湖底沉睡。早期的暗夜精灵牧师和先知以极其谨慎的态度研究永恒之井，想要了解它的秘密和力量。当暗夜精灵社会逐渐壮大之后，他们就开始探索未知的卡利姆多大陆，并且遇到了许多同胞。唯一能使他们停止探索的就是古老而强大的龙。虽然这些巨兽通常是隐居的生物，但他们也会尽全力守护一些神秘的地方。暗夜精灵认为龙是世界的守护神，所以最好不要去侵犯他们，以及他们所守护的秘密。<br>　　暗夜精灵不断的探索使他们遇到了许多强大的生物并与他们成为了朋友，其中之一就是半神赛纳留斯，原始森林的守护神。伟大的赛纳留斯对好奇的暗夜精灵十分友好，并花了许多时间来向他们传授关于自然世界的知识。卡多雷与充满生机的森林建立了良好的关系，并且享受着和谐的自然平衡。<br>　　很久很久之后，暗夜精灵的文明在疆域和文化方面都有了巨大的进步。他们的神庙、道路和定居点遍布整个卡利姆多大陆。艾萨拉——暗夜精灵的美丽女王——在永恒之井旁边建造了一座壮观无比的宫殿，以供她宠爱的仆从居住。这些被她称为奎尔多雷（意思是”上层精灵”）的仆从对女王唯命是从，并且认为自己比其他身份低贱的同胞更加高贵。虽然艾萨拉女王受到所有人民的爱戴，但许多民众却对上层精灵十分憎恶。<br>　　艾萨拉和其他牧师一样对永恒之井的秘密拥有强烈的好奇心，她命令学识渊博的上层精灵解开它的秘密并揭示它的真正作用。上层精灵们夜以继日地对永恒之井进行研究，最终，他们发现了一种方法，使他们能够运用和控制永恒之井的强大能量。当他们的试验进一步进行时，上层精灵们发现他们可以运用这种新发现的力量任意创造或毁灭。上层精灵决定彻底掌握这些强大的魔法，虽然他们知道使用魔法不当可能带来的灾难性后果，但艾萨拉和她的上层精灵们仍然开始了鲁莽的魔法试验。赛纳留斯和许多资深暗夜精灵学者都警告道，拿反复无常的魔法能量开玩笑只能带来灾难，但是艾萨拉和她的追随者们仍然固执地想要增强她们的能量。当他们的能量增强之后，艾萨拉和上层精灵发生了明显的变化——高傲冷漠的上层暗夜精灵对他们的人民越来越严厉和残暴。艾萨拉用一层黑色的面纱蒙住了她的面孔，开始疏远她的人民，并且拒绝与任何人来往——除了她信任的上层精灵牧师。<br>　　一个年轻健壮的学者法瑞恩·暴风，在花费大量时间研究了永恒之井之后，认为有一股可怕的力量使上层精灵和他爱戴的女王堕落了。虽然他无法想象将要有什么样的邪恶降临，但他知道，暗夜精灵的生活将永远被改变……</p>\n<h4 id=\"上古战争\"><a href=\"#上古战争\" class=\"headerlink\" title=\"上古战争\"></a>上古战争</h4><p>上层精灵无节制地使用魔法，使得永恒之井的魔法波动传入了无边的黑暗宇宙中，并且传播到了扭曲虚空，最终被盘踞在那里的恶魔感觉到了。萨格拉斯——所有生命的大敌，世界的复仇者——感觉到了这股强大的魔法波动，并且找到了这股波动的来源。在观察了艾泽拉斯世界并感受了永恒之井的无限能量之后，萨格拉斯急切地渴望占有这一切，他要摧毁这个世界，将它的能量占为己有。<br>　　萨格拉斯纠集了他的恶魔大军——燃烧军团，并开始向艾泽拉斯进军。燃烧军团由数以百万计咆哮着的恶魔组成，他们来自宇宙的各个角落，思想中燃烧着征服的欲望。萨格拉斯的副官——污染者阿克蒙德和毁灭者玛诺洛斯——已经准备好率领他们的爪牙发起进攻了。<br>　　被自己强大的魔法能量折腾得筋疲力尽的艾萨拉女王成为了萨格拉斯的第一个牺牲品，并同意为他提供进入艾泽拉斯世界的入口，甚至连她的仆从都放弃了对魔法的追求，转而将萨格拉斯作为神来膜拜。为了表示对燃烧军团的忠诚，他们协助女王在永恒之井里打开了一扇巨大、漩涡般的传送门。<br>　　在所有的事情都准备妥当之后，萨格拉斯开始了他对艾泽拉斯的毁灭性入侵。燃烧军团的恶魔门从永恒之井中涌出来，对暗夜精灵的城市发动了突然袭击。在阿克蒙德和玛诺洛斯的率领下，燃烧军团横扫卡利姆多大陆，所到之处片瓦无存。恶魔巫师从天空中召唤灼热的地狱火，它们像陨石一样撞击优雅的暗夜精灵神庙。毁灭守卫——燃烧着的杀人魔王——穿过卡利姆多的原野，屠杀它们能看到的一切生物。狂暴的地狱犬在乡村中狂奔，没有遇到任何抵抗。虽然勇敢的卡多雷战士迅速组织起来，为保卫他们的古老家园而战，但是在势不可挡的燃烧军团面前，他们只能节节败退。</p>\n<h4 id=\"世界的分裂\"><a href=\"#世界的分裂\" class=\"headerlink\" title=\"世界的分裂\"></a>世界的分裂</h4><p>法里奥·暴风在此刻担任起了为他的那些被围困的同胞寻求帮助的任务，他的兄弟尤迪安曾经学习过上层精灵的魔法，但他因为对在上层阶级中逐渐滋生的堕落感到愤怒而离开了他们。在确信尤迪安已经放弃了对这种力量的追求之后，法里奥开始启程去寻找赛纳留斯并组织一支反抗军。年轻美丽的女祭司泰兰德同意在月亮女神艾露尼的的名义下与这两个兄弟同行。虽然法里奥和尤迪安都爱着这位美丽的女祭司，但泰兰德的芳心只属于法里奥。尤迪安很嫉妒他的兄弟与泰兰德的爱情，但他知道这点伤心与他嗜之如命的魔法给他带来的痛苦相比，是微不足道的事情……<br>　　尤迪安对魔法能量有很大的依赖性，他为了克制自己的强烈欲望——重新汲取永恒之井中的魔法能量的欲望——而时刻遭受着巨大的痛楚。尽管如此，在泰兰德的耐心帮助下，他仍然能够保持足够的理智来协助他的兄弟找到隐居的半神赛纳留斯。在遥远的海加尔山脉中的神月森林中，他们找到了定居于此的赛纳留斯。赛纳留斯决定帮助暗夜精灵找到古老的巨龙并寻求他们的帮助。由红龙阿莱克丝塔萨领导的巨龙答应派出它们强大的龙群，与恶魔和它们的主人作战。赛纳留斯通过呼唤森林的灵魂集结了一支由古老树人组成的部队，带领它们对燃烧军团发动了一次大胆的突袭。暗夜精灵的盟军都聚集在永恒之井和艾萨拉的神庙旁，准备进行战斗。虽然这些新的盟友拥有强大的力量，但法里奥和他的同伴们意识到仅靠军事力量是无法击败燃烧军团的。<br>　　当规模空前的战斗在艾萨拉的首都打响时，被迷惑的女王在静静地等待萨格拉斯的到来。燃烧军团的头领准备穿越永恒之井，来到这个饱经蹂躏的世界。当他那无比巨大的阴影在永恒之井那波涛澎湃的水面下出现时，艾萨拉召集了最强大的上层精灵。只有将他们的魔法能量集中在一起，才能打开一个足够巨大的传送门，让萨格拉斯顺利地踏入艾泽拉斯世界。<br>　　在确认永恒之井就是使恶魔进入这个世界的大门之后，法里奥坚持认为应该摧毁它。他的同伴们被他这个疯狂的想法惊呆了——永恒之井是他们长寿和力量的源泉。但是泰兰德知道这是一个明智的抉择，于是她请求赛纳留斯和巨龙摧毁艾萨拉的神庙，并找到关闭永恒之井传送门的方法。<br>　　尤迪安知道永恒之井的毁灭将使他再也无法从那里汲取魔法能量，于是他自私地背叛了自己的同胞，跑去向上层精灵告密。由于他对魔法能量的渴望和对法里奥的嫉妒，尤迪安对背叛他的兄弟丝毫没有感到内疚。不管怎么说，尤迪安发誓要不惜一切代价保护永恒之井的能量。<br>　　法里奥被尤迪安的背叛伤透了心，他带领着他的同伴们深入艾萨拉神庙，当他们闯入神庙的主厅时，上层精灵们正在吟唱他们最后的黑暗咒文，法术在永恒之井深处制造了一个巨大的漩涡。当萨格拉斯巨大的阴影即将露出水面时，法里奥和他的伙伴们发起了攻击。但是收到尤迪安警告的艾萨拉女王对此早有防备，法里奥的伙伴几乎全都被女王杀死。泰兰德试图从背后攻击女王，但女王的警卫阻止了她。虽然泰兰德击败了警卫，但她也受到了重创。法里奥眼睁睁地看着他的爱人倒下，在暴怒之中，他发誓要结束艾萨拉的生命。<br>　　在神殿内外战事正酣的时候，尤迪安出现在永恒之井的湖边。他带来了几个经过特殊处理的瓶子，并用它们装满了闪烁着光芒的湖水。他知道恶魔们会毁灭暗夜精灵的文明，于是他偷了一些圣水并将它的能量据为己有。<br>　　法里奥和艾萨拉之间的激烈战斗令上层精灵的法术陷入了混乱。永恒之井中的漩涡最终发生了爆炸，并且引发了一系列灾变。巨大的爆炸震撼了神庙的地基，并且使整个大陆发生了强烈的地震。在燃烧军团和暗夜精灵继续他们的血腥战斗的同时，波涛汹涌的永恒之井崩溃了。<br>　　这场灾难般的爆炸撕裂了大地，使天空中阴云密布……</p>\n<h4 id=\"海加尔山脉和尤迪安的礼物\"><a href=\"#海加尔山脉和尤迪安的礼物\" class=\"headerlink\" title=\"海加尔山脉和尤迪安的礼物\"></a>海加尔山脉和尤迪安的礼物</h4><p>永恒之井的爆炸引发的强烈地震摧毁了世界的骨架，海水呼啸着涌进了大陆的裂痕。卡利姆多大陆将近 80%的陆地被撕裂，只留下了少数分散的大陆，环绕着新形成的海洋。在新海的中心——那片曾经是永恒之井的地方——是一个翻腾着混乱能量的巨大漩涡。这个可怕的伤疤被称为大漩涡，永远也不会平息它那疯狂的旋转。这是那场大灾变的遗迹，也意味着一个理想时代的终结……<br>　　从大爆炸中幸存的暗夜精灵爬上做工粗糙的木筏，并且缓慢地向视野中唯一可见的陆地划去。值得庆幸的是，在月亮女神艾露尼的保佑下，法里奥、泰兰德和赛纳留斯在大灾变中幸存了下来。疲惫的英雄们同意领导他们幸存的人民，建立一个新的家园。在暗夜精灵们沉默的旅途中，他们看到了大地的残骸，并且意识到是他们对魔法的狂热导致了这场可怕的灾难。虽然萨格拉斯和他的燃烧军团被永恒之井的毁灭摧毁了，法里奥和他的同伴却不得不思考他们为这次胜利付出的代价。很明显艾萨拉和她的追随者都已经沉到了海底，但仍然有许多上层精灵幸存了下来。虽然法里奥并不相信这些上层精灵，但他知道，没有永恒之井，这些精灵无法兴风作浪。<br>　　当疲惫的暗夜精灵们在新大陆的海岸登陆时，他们发现圣山海加尔在大灾变中幸存了下来。为了寻找一片新的定居点，法里奥和其他暗夜精灵一起攀登到了海加尔山脉的最高峰顶端。当他们俯视山下无边的森林时，精灵们发现了一片平静的小湖泊。令他们恐惧的是，这片湖泊的湖水充满了魔法能量。<br>　　尤迪安也从大灾变中幸存了下来，并且在法里奥之前到达了海加尔山脉。尤迪安疯狂地想要延续这个世界上的魔法源泉，于是他将永恒之井的湖水倒入了这片小湖泊。这些湖水所蕴含的能量迅速溶入了这片小湖泊的湖水中，形成了一个新的永恒之井。<br>　　兴奋的尤迪安认为这个新的永恒之井是一个为他的后代准备的丰厚礼物，在他手舞足蹈时，法里奥击倒了他。法里奥向他的兄弟解释道，魔法是天生的混乱之源，使用魔法最终将导致堕落和纷争。但固执的尤迪安仍然不愿放弃他的魔法力量。<br>　　法里奥知道尤迪安的邪恶计划将会导致什么样的后果，于是他决定永远地解决他那疯狂的兄弟带来的问题。在赛纳留斯的帮助下，法里奥将尤迪安囚禁在一个巨大的地下室中，直到他生命的终结。考虑到摧毁这个新的永恒之井可能导致更大的灾难，暗夜精灵决定留下它。但是法里奥宣布，暗夜精灵永远都不能进行魔法研究。在赛纳留斯的关注下，他们开始学习古老的德鲁伊法术，学习如何治愈伤痕累累的大地并在海加尔山脉脚下种植他们喜爱的森林。</p>\n<h4 id=\"世界之树和翠绿之梦\"><a href=\"#世界之树和翠绿之梦\" class=\"headerlink\" title=\"世界之树和翠绿之梦\"></a>世界之树和翠绿之梦</h4><p>在这之后的许多年里，暗夜精灵们不知疲倦地为重建他们的古老家园而工作。他们遗弃了破损的神庙和道路，在海加尔山脚下的茂密丛林和隐蔽的山脉中修建了新的家园。一段时间之后，在大灾变中幸存下来的龙来到了暗夜精灵的家园。<br>　　红龙阿莱克丝塔萨，绿龙伊瑟拉，以及青龙诺兹多姆俯视着德鲁伊的宁静家园和暗夜精灵种植的水果。拥有强大力量的大德鲁伊法里奥欢迎这些巨龙的到来，并且将有关新永恒之井的事情告诉了他们。巨龙们在听到这个可怕的消息时大吃一惊，并认为只要永恒之井仍然存在，燃烧军团就不会放弃征服这个世界的念头。法里奥和三条巨龙定下了一条契约，以保证永恒之井的安全，并确保燃烧军团的爪牙永远也无法找到重回这个世界的门路。<br>生命的赐予者，红龙阿莱克丝塔萨，在永恒之井的中心投下了一颗附有魔法的橡子，这颗橡子一遇到充满魔法力量的湖水就开始生根发芽，长成了一棵巨大的橡树。大树的根须深入湖底，而巨大的树冠几乎要笼罩整个天空，这棵巨大的橡树是暗夜精灵与自然和谐关系的永恒象征，它所散发的生命能量可以慢慢地扩散并治愈整个世界的创伤。暗夜精灵将他们的世界之树命名为”诺达希尔”，这在暗夜精灵语中的意思是”苍穹之冠”。<br>　　时间之王诺兹多姆对世界之树附加了魔法——只要这棵世界之树仍然存在，暗夜精灵就永远不会衰老，也不会得病。梦境之王伊瑟拉也对世界之树附加了魔法。她在世界之树和她的梦境王国之间建立了连接，创造了一个被称为”翠绿之梦”的虚幻世界。翠绿之梦是一个巨大的、不断变幻的精神世界，独立于现实世界而存在。在梦境中，伊瑟拉可以调节自然的运转和世界的演化方向。包括法里奥在内的暗夜精灵德鲁伊都通过世界之树和翠绿之梦建立了连接。作为神秘契约的一部分，德鲁伊们同意进行每次持续时间长达数百年的睡眠，他们的灵魂可以在伊瑟拉的梦幻国度中自由徘徊。虽然暗夜精灵对耗费如此漫长的时间进行休眠感到惋惜，但他们仍然无私地接受了和伊瑟拉的契约。</p>\n<h4 id=\"流放高级精灵\"><a href=\"#流放高级精灵\" class=\"headerlink\" title=\"流放高级精灵\"></a>流放高级精灵</h4><p>数百年过去了，暗夜精灵的社会逐渐发展壮大，并从他们世代生活的灰谷拓展到更广阔的疆域。在大灾变前分布广泛的野生动物——比如野猪——在这片土地上重新出现并日益活跃起来。在德鲁伊的英明领导之下，暗夜精灵享受着与世无争的宁静生活。<br>　　但是，许多原先的上层精灵越来越不安分。他们无法忍受失去魔法能量的空虚感，并重新开始汲取永恒之井的能量并沉浸在使用魔法的喜悦之中。上层精灵的直率、急躁的领导人达斯雷玛开始公开抨击德鲁伊——称他们为不敢使用魔法的懦夫。法里奥和德鲁伊们对达斯雷玛的挑衅一笑了之，并警告上层精灵，任何使用魔法的行为都将招致死亡的惩罚。傲慢的达斯雷玛和他的追随者们对灰谷施放了一场可怕的魔法风暴，妄图迫使德鲁伊废除他们的法律。<br>　　德鲁伊们无法对数量如此众多的同胞痛下杀手，只好决定流放这些鲁莽的上层精灵。达斯雷玛和他的追随者们对摆脱他们保守的同胞感到十分高兴，他们登上了经过特殊加工的船只并驶向了大海。虽然他们之中没人知道在狂暴的大漩涡对面有什么样的命运在等待他们，但起码他们可以找到一片属于自己的家园，一片可以使他们在不受干扰的情况下尽情练习魔法的家园。上层精灵——或者说是数百年前艾萨拉女王所说”奎尔多雷”——最终登上了东方大陆的海岸，这块大陆后来被称为洛丹伦大陆。他们计划在这里建立他们自己的魔法王国——奎尔萨拉斯，并废除暗夜精灵对月亮女神的信仰和夜间活动的习惯。从此之后，他们的身份就只能是”高级精灵”。</p>\n<h4 id=\"哨兵和长期监视\"><a href=\"#哨兵和长期监视\" class=\"headerlink\" title=\"哨兵和长期监视\"></a>哨兵和长期监视</h4><p>在与他们的同胞决裂之后，暗夜精灵们将注意力转回了对他们家园的保护上。这些德鲁伊在感到他们的休眠期又将来临之后，准备离开他们的爱人和家人去进行睡眠。月亮女神艾露尼的首席女祭司泰兰德央求他的爱人法里奥不要离开她而陷入伊瑟拉的梦幻世界，但充满荣誉感的法里奥仍然坚持向女祭司告别，并且发誓在有生之年永远不会与她分离。<br>　　泰兰德独自承担起保护卡利姆多大陆的重任。她在她的暗夜精灵姐妹中挑选了一支强大的战斗力量，这些受过严格训练的无畏女战士宣誓成为卡利姆多的保卫者，也就是哨兵部队。虽然她们喜欢在灰谷周围的茂密森林中独自巡逻，但哨兵们也有许多在紧急关头可以提供帮助的同盟。<br>　　半神赛纳留斯一直住在海加尔山脉的神月森林附近。他的儿子——丛林守护者们对暗夜精灵保持着密切的关注，并帮助哨兵部队维持这片大地的平衡。赛纳留斯的女儿——树妖们也开始频频在公开场合露面。<br>　　虽然在灰谷巡逻的任务使泰兰德忙碌不已，但她仍然感到孤单寂寞。在德鲁伊们沉睡着的几百年中，泰兰德感到恶魔的第二次入侵不会太远了。她预感到燃烧军团仍然存在，预感到他们正在天外无边的黑暗中策划着对暗夜精灵和艾泽拉斯的复仇。</p>\n","categories":[],"tags":["wow"]},{"title":"魔兽英雄榜-燃烧军团","url":"https://fanhua.tech/2016/07/06/魔兽英雄榜-燃烧军团/","content":"<p>邪恶或正义，究竟谁是英雄？不同的解释，不同的答案以及不同的立场，就像部落或者联盟……<br>　也许你会说是仁慈的泰坦给艾泽拉斯世界带去了秩序与和谐。然而，整个魔兽世界的历史真正开始于黑暗泰坦——萨格拉斯的燃烧军团。</p>\n<h4 id=\"燃烧军团主要人物一览：\"><a href=\"#燃烧军团主要人物一览：\" class=\"headerlink\" title=\"燃烧军团主要人物一览：\"></a>燃烧军团主要人物一览：</h4><p><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/wow/%E7%87%83%E7%83%A7%E5%86%9B%E5%9B%A2%E4%B8%BB%E8%A6%81%E4%BA%BA%E7%89%A9%E4%B8%80%E8%A7%88.jpg\" alt=\"燃烧军团主要人物一览\"></p>\n<h5 id=\"名字：萨格拉斯（死亡）\"><a href=\"#名字：萨格拉斯（死亡）\" class=\"headerlink\" title=\"名字：萨格拉斯（死亡）\"></a>名字：萨格拉斯（死亡）</h5><p>英文：Sargeras<br>称号：恶魔之王<br>种族：黑暗泰坦</p>\n<p>萨格拉斯原是青铜铸成的泰坦，任务是守护世界。在长达数个世纪的时间里，他消灭了若干个妄图征服宇宙的恶魔种族，其中包括臭名昭著的埃瑞达（Eredar）和纳斯雷兹姆（Nathrezim）。尽管这些邪恶的生物拥有极其强大的黑暗力量，萨格拉斯最终制服了他们：一部分被关进牢笼，仅有少部残余势力逃回扭曲虚空。<br>虽然阴险狡诈的恶魔种族——纳斯雷兹姆被萨格拉斯击败，但正是其控制思想和类似催眠术的特殊能力，致使萨格拉斯最终陷入日益消沉的情绪之中。萨格拉斯渐渐失去了他的信仰和作为泰坦的理智。他开始认为只有混乱和堕落才是宇宙中唯一的真理。<br>　　疯狂的萨格拉斯背弃了他的灵魂，竟将之前关押的恶魔从牢笼中放了出来。恶魔一个个张牙舞爪，誓言要效忠新的主人——萨格拉斯理所当然成了恶魔之王（Daemonlord）。他从这些恶魔里面挑选了两个勇士——基尔加丹和阿克蒙德——作为自己的左右手，并建立起一支强大的恶魔军团，他把这支军团称为燃烧军团（Burning Legion），其任务是颠覆世界。<br>　　不知有多少个世界被这支可怖的军团蹂躏、征服。尽管如此，看似汹汹的邪恶远征却在泰坦世界艾泽拉斯（Azeroth）永远停住了脚步：虽说前后共有三次大规模入侵，但都因为种种原因而导致失败。萨格拉斯自己也在第二次入侵之前结束了他的邪恶之旅：在一次一对一的格斗中，萨格拉斯竟被提瑞斯法（Tirisfal）守护者艾格文（Aegwyn）奇迹般击败。然而，就在恶魔之王萨格拉斯倒下的同时，他的灵魂已悄悄侵入艾格文的体内。并将深深影响艾格文不久后出世的儿子麦迪文（Medivh）——世界最后的守护者的命运……<br>　　萨格拉斯的躯体残骸被艾格文秘密封印在无尽之海（The Great Sea）的海底。据说墓穴中隐藏着某种巨大的黑暗能量。<br>萨格拉斯之后基尔加丹成为恶魔之王。</p>\n<h5 id=\"名字：阿克蒙德（死亡）\"><a href=\"#名字：阿克蒙德（死亡）\" class=\"headerlink\" title=\"名字：阿克蒙德（死亡）\"></a>名字：阿克蒙德（死亡）</h5><p>英文：Archimonde<br>称号：污染者<br>种族：恶魔（埃瑞达）</p>\n<p>污染者阿克蒙德来自强大的恶魔种族埃瑞达，曾被萨格拉斯击败，后加入其麾下，为其所建之燃烧军团效力。阿克蒙德是一个狡诈而又冷血残暴的恶魔巫师，他拥有几乎无尽的黑暗能量和邪恶巫术。虽然他曾发誓，愿誓死效忠萨格拉斯及其可怖的燃烧军团。然而在他的内心深处却一直妄想着取代萨格拉斯，甚至成为一个拥有至高权力的神。<br>　　数世纪的等待之后他已做好一切准备，率领凶残的燃烧军团以萨格拉斯的名义再次入侵艾泽拉斯世界。尽管表面是为萨格拉斯效力，但阿克蒙德一心想将艾泽拉斯世界的所有能量据为己有。他想方设法接近世界之树，不料最终却以惨败告终。可怜的阿克蒙德与不可一世的燃烧军团几乎没有机会接近大树的根基，就被联合起来的英勇的戍卫者们——用诺达希尔（Nordrassil）的怒火——彻底击溃。<br>阿克蒙德之死意味着第三次入侵失败。这一战燃烧军团元气大伤。</p>\n<h5 id=\"名字：基尔加丹\"><a href=\"#名字：基尔加丹\" class=\"headerlink\" title=\"名字：基尔加丹\"></a>名字：基尔加丹</h5><p>英文：Kil’Jaeden<br>称号：欺诈者<br>种族：恶魔（埃瑞达）</p>\n<p>基尔加丹同样来自恶魔种族埃瑞达，与阿克蒙德一起是最先加入燃烧军团的两位恶魔勇士。他俩听命于恶魔之王萨格拉斯，率领燃烧军团与泰坦世界为敌。<br>　　欺诈者基尔加丹负责寻找宇宙中最黑暗的种族，并将它们收入萨格拉斯麾下。他先后曾用可怕的力量奴役另一支强大的恶魔种族——纳斯雷兹姆，以及生活在德拉诺（Draenor）世界的兽人氏族为其效力。为了征服强悍的兽人，基尔加丹用无尽的能量作为诱饵，使得野心勃勃的年轻兽人古尔丹（Gul’Dan）渐渐成为他邪恶巫术的贪婪的学徒。在基尔加丹进一步的利诱之下，整个兽人氏族——除霜狼氏族（Frostwolf Clan）外——都被他那嗜血的诅咒所控制。<br>　　吸取了第一次入侵艾泽拉斯世界失败的教训，基尔加丹决定用强悍的兽人作为远征的前锋，以削弱艾泽拉斯世界的抵抗力量，燃烧军团便可长驱而入。不想几番激战之后，此次入侵却以失败告终。兽人大军被击溃了。狂怒之下，基尔加丹竟用极其残忍的手段将幸存的萨满祭司——兽人耐奥祖（Ner’Zhul）变为巫妖王（the Lich King），命他统御亡灵大军着手准备第三次入侵。虽说这一次看似汹汹的入侵在刚开始时无可阻挡，不仅吞没了人类王国洛丹伦（Loraeron）和魔法王国达拉然（Dalaran），奎尔萨拉斯（Quel’thalas）的高等精灵也难逃此劫。然而不幸的是，燃烧军团海加尔圣山（Mount Hyjal）一战随着阿克蒙德之死，终于灰飞烟灭。<br>海加尔之战后，基尔加丹觉察到巫妖王耐奥祖变得过于强大而难以控制。他再也压抑不住心中的怒火，并再次以强大的能量作诱饵唆使伊利丹（Illidan）去终结耐奥祖并永远消灭亡灵天灾的力量。然而倒霉的伊利丹两次下手均未得逞。<br>　　或许基尔加丹算不上高明，事实上他屡遭失败。然而，他却有幸成为燃烧军团中唯一幸存的恶魔首领……</p>\n<h5 id=\"名字：玛诺洛斯（死亡）\"><a href=\"#名字：玛诺洛斯（死亡）\" class=\"headerlink\" title=\"名字：玛诺洛斯（死亡）\"></a>名字：玛诺洛斯（死亡）</h5><p>英文：Mannoroth<br>称号：破坏者<br>种族：恶魔（深渊领主）</p>\n<p>凶残的地狱犬（Felhound）是深渊领主（Pitlord）最好的伙伴，它们总是喜欢在撕碎敌人身体之前吸干其体内所有的魔法能量。破坏者玛诺洛斯——深渊领主的领导者，得于污染者阿克蒙德的“介绍”，率众加入燃烧军团。<br>　　玛诺洛斯是一个充满毁灭欲望的狂暴恶魔，他对仇恨与杀戮有着强烈的兴趣。在基尔加丹试图利诱兽人入侵艾泽拉斯时，玛诺洛斯曾担当重要角色。对于那次氏族首领的会盟，许多人猜测说是他促进了兽人的联合。一些人还强调说，玛诺洛斯是组建部落的关键人物。然而大多数却宁愿相信，是恶魔玛诺洛斯将无辜的兽人卷入了无尽的仇恨与厮杀。所有喝下玛诺洛斯之血的兽人开始变得狂躁不安，杀戮与征服的欲望在血液里极速流淌。<br>　　在恶魔之王萨格拉斯的利诱与唆使下，兽人古尔丹终于决定远征艾泽拉斯。然而眼看大军就要颠覆整个人类王国之时，古尔丹却为寻找萨格拉斯之墓不辞而别，致使形势急转直下。兽人大军的旗帜被折，往日强悍的部落分崩离析。<br>　　战争失败之后，有不少兽人被关押在联盟的俘虏收容所内。不久后，这些兽人发生了奇怪的变化：他们的身体变得愈加虚弱并开始丧失战斗的欲望。但事实证明，玛诺洛斯的嗜血诅咒远未真正消退。尽管兽人们在萨尔（Thrall）的领导下建立起新的部落，然而很多兽人还是不自主地屈服于折磨他们多年的杀戮欲。萨尔的副官——战歌氏族首领格罗姆·地狱咆哮（Grom Hellscream）甚至因此背叛了部落。<br>　　萨尔将地狱咆哮和他的战歌氏族从诅咒中解救出来，并与其合力击败了恶魔玛诺洛斯。随着玛诺洛斯的死去，兽人也从恶魔的诅咒中永远解脱出来。</p>\n<h5 id=\"名字：麦格瑟瑞多（死亡）\"><a href=\"#名字：麦格瑟瑞多（死亡）\" class=\"headerlink\" title=\"名字：麦格瑟瑞多（死亡）\"></a>名字：麦格瑟瑞多（死亡）</h5><p>英文：Magtheridon<br>称号：荒地之王<br>种族：恶魔（深渊领主）</p>\n<p>麦格瑟瑞多是玛诺洛斯的继任者。德拉诺世界大灾变后，他来到这荒凉之地（后被称做外域，Outland）。他将这里幸存的兽人聚集起来并用可怕的力量统治着他们，俨然成为外域的主宰。不仅如此，他还将以前耐奥祖时搭设的多座传送门重新恢复，四面八方的恶魔得以来到这个荒凉的世界。二十年后。伊利丹企图利用萨格拉斯之眼破坏冰封王座（巫妖王）未遂，为躲避基尔加丹逃到了这里。为增强自己的实力，利伊丹和他的同伴们决定与当地的德莱尼人（Draenei）联合起来击败恶魔麦格瑟瑞多和他的奴仆——那些幸存的兽人，进而控制整个外域成为新的主宰。伊利丹摧毁了所有的传送门。麦格瑟瑞多与其它世界失去了联系，无法得到燃烧军团的增援。尽管他迅速集结了仅有的军队并在黑堡进行最后的抵抗，但终不敌伊利丹的联军（包括那迦、血精灵和德莱尼人），战死。<br>　　阿克蒙德之死致使燃烧军团实力大减，就连麦格瑟瑞多——玛诺洛斯的继任者也成了故事的配角。</p>\n<h5 id=\"名字：提克迪奥斯（死亡）\"><a href=\"#名字：提克迪奥斯（死亡）\" class=\"headerlink\" title=\"名字：提克迪奥斯（死亡）\"></a>名字：提克迪奥斯（死亡）</h5><p>英文：Tichondrius<br>称号：黑暗魔王<br>种族：恶魔（纳斯雷兹姆）</p>\n<p>黑暗魔王提克迪奥斯，是恶魔种族纳斯雷兹姆（也被称为恐惧魔王）的首领。这些恶魔掌握着一种极其可怖的类似于催眠术的特殊能力（萨格拉斯正是因此而最终遁入魔道）。<br>　　这些邪恶的生物后来加入燃烧军团，听命于恶魔基尔加丹。在燃烧军团第三次入侵艾泽拉斯时，提克迪奥斯主要负责奉命监视巫妖王耐奥祖并确定后者完全服从燃烧军团的利益。<br>　　邪恶的黑暗力量与无尽的仇杀是他唯一的爱好。尽管提克迪奥斯非常敬重他的主人基尔加丹，但他并未完全尽心地履行他的职责。因为他心里清楚并感到害怕：燃烧军团会因为巫妖王而招致不幸。尽管有许多疑虑，提克迪奥斯最终还是圆满地完成了他的任务：监视巫妖王打开恶魔之门迎接阿克蒙德和燃烧军团的“光临”。<br>　　不久后，提克迪奥斯参加了那场燃烧军团主力与暗夜精灵在费伍德（Felwood）的战役。与此同时，为抵御燃烧军团的进攻，伊利丹被他的族人从地牢中放了出来一起参加战斗。不料，夺得神器古尔丹之颅的伊利丹此时变得异常强大——黑暗魔王提克迪奥斯竟被伊利丹杀死。<br>　　他在燃烧军团中的位子后被恐惧魔王艾勒瑟隆（Anetheron）取代。</p>\n<h5 id=\"名字：玛尔甘尼斯（死亡）\"><a href=\"#名字：玛尔甘尼斯（死亡）\" class=\"headerlink\" title=\"名字：玛尔甘尼斯（死亡）\"></a>名字：玛尔甘尼斯（死亡）</h5><p>英文：Mal’Ganis<br>称号：-<br>种族：恶魔（纳斯雷兹姆）</p>\n<p>你也许并不了解玛尔甘尼斯，但你一定不会忘记那次发生在斯塔索姆（Stratholem）的可怖的屠城。玛尔甘尼斯最大的功绩：诱使阿尔萨斯（Arthas）加入亡灵天灾，致使洛丹伦陷落。<br>　　玛尔甘尼斯来自恶魔种族——纳斯雷兹姆，是黑暗魔王提克迪奥斯的得力手下。在亡灵天灾入侵洛丹伦时玛尔甘斯扮演着重要角色。一方面，具体负责监督巫妖王是否老老实实地履行了它的职责：散布瘟疫和死亡以及制造混乱；另一方面，诱使洛丹伦王子阿尔萨斯加入亡灵天灾。<br>　　表面来看，这两个目的他都达到了：巫妖王循规蹈矩地履行着它的“义务”，阿尔萨斯王子也加入了亡灵天灾并协助巫妖王忠实的手下克尔苏加德（Khel’Thuzad）开启恶魔之门，迎接阿克蒙德和燃烧军团的到来。然而事实却非如此：不久后阿克蒙德战死、燃烧军团主力损失殆尽，不仅阿尔萨斯成为巫妖王的得力手下（最后成为新的巫妖王），亡灵天灾的实力也因战争和死亡而日益俱增——后竟成了燃烧军团最强大的敌人之一，害得基尔加丹愤怒不已，密遣伊利丹发誓要除掉巫妖王。<br>　　不言而喻，巫妖王和它心爱的亡灵天灾是这场战争的最终得益者。与此相反，最初控制巫妖王的燃烧军团却在圣山海加尔一战中损失惨重。如果说是基尔加丹杀死兽人耐奥祖并组建了亡灵大军，那么恶魔玛尔甘尼斯则是巫妖王“最大的功臣”。然而我们能去责怪玛尔甘尼斯？公平地说，他完成了他的使命。</p>\n<h5 id=\"名字：瓦瑞玛萨斯\"><a href=\"#名字：瓦瑞玛萨斯\" class=\"headerlink\" title=\"名字：瓦瑞玛萨斯\"></a>名字：瓦瑞玛萨斯</h5><p>英文：Varimathras<br>称号：-<br>种族：恶魔（纳斯雷兹姆）</p>\n<p>在黑暗魔王提克迪奥斯随阿克蒙德出征卡利姆多大陆（Kalimdor）之后，瓦瑞玛萨斯则与另外两位恐惧魔王——巴那泽尔（Balnazzar）和德瑟罗克（Detheroc）负责守卫洛丹伦。<br>　　数月后，就在三位魔王于王宫花园的废墟中喋喋不休之时，死亡骑士阿尔萨斯闯了进来并告知众人阿克蒙德全军覆灭的消息。恐惧魔王们十分惊恐。阿尔萨斯则扬言要驱逐恐惧魔王并颠覆整个洛丹伦大陆。瓦瑞玛萨斯与另两位魔王见势不妙，当即一起回到了提瑞斯法（Tirisfall）沼泽地。随后不久阿尔萨斯便开始了他那疯狂的杀戮与征服计划，并自封为洛丹伦大陆的国王。<br>　　次日深夜，阿尔萨斯的属下女妖王希尔瓦娜斯（Sylvanas Windrunner）为报“前事之仇”前来密访恶魔瓦瑞玛萨斯。瓦瑞玛萨斯则想利用这一机会与女妖王联手除掉阿尔萨斯——巫妖王的得力手下。当巫妖王的力量逐渐流失之际，阿尔萨斯不得不启程前往诺森德大陆（Northrend）。然而就在他准备起身之时，瓦瑞玛萨斯及另两位魔王伏击了阿尔萨斯。得于巫妖王忠实的手下克尔苏加德的全力相助，阿尔萨斯方才脱身逃往北方大陆诺森德（后继为新巫妖王）。<br>　　如此，阿尔萨斯的领地全然落入恐惧魔王的手中。瓦瑞玛萨斯提出让女妖王希尔瓦娜斯加入他们的阵营并听命于麾下。然而希尔瓦娜斯并不打算接受这样的“邀请”，还宣称不愿再成为另一种形式的奴隶或再次成为新的奴仆。瓦瑞玛萨斯异常愤怒，警告她不要与恐惧魔王作对。<br>　　虽然此时的希尔瓦娜斯实力较为薄弱，仅有一些女妖（Banshee）仍忠心耿耿地跟随着她。不过，在随后对食人魔（Ogre）和强盗团伙的战斗中却有所增强：她用黑暗魔法控制了强大的食人魔和人类强盗的意志，并借此组建起一支可与瓦瑞玛萨斯匹敌的部队。<br>　　在形势逐渐对希尔瓦娜斯有利之时，瓦瑞玛萨斯背弃了他的兄弟——另两位恐惧魔王，转而投靠女妖王并发誓效忠于她。为了证明他的忠心，瓦瑞玛萨斯“帮助”女妖王相继攻陷另两位恐惧魔王——巴那泽尔和德瑟罗克的城堡及领地。希尔瓦娜斯也终于夺得洛丹伦大部地区。</p>\n","categories":[],"tags":["wow"]},{"title":"Asp.Net之Excel下载模板、导入、导出操作","url":"https://fanhua.tech/2016/07/06/ASP-NET之Excel下载模板、导入、导出操作/","content":"<h4 id=\"0x00-下载模板\"><a href=\"#0x00-下载模板\" class=\"headerlink\" title=\"0x00.下载模板\"></a>0x00.下载模板</h4><p>前提是服务器某文件夹中有这个文件。</p>\n<h5 id=\"00-运行环境是-Visual-Studio-2015，界面采用-WebForm。\"><a href=\"#00-运行环境是-Visual-Studio-2015，界面采用-WebForm。\" class=\"headerlink\" title=\"00.运行环境是 Visual Studio 2015，界面采用 WebForm。\"></a>00.运行环境是 Visual Studio 2015，界面采用 WebForm。</h5><p>界面非常简单，2 个 button 按钮控件，1 个 FileUpload1 控件。如图<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Asp.Net%E4%B9%8BExcel%E4%B8%8B%E8%BD%BD%E6%A8%A1%E6%9D%BF%E3%80%81%E5%AF%BC%E5%85%A5%E3%80%81%E5%AF%BC%E5%87%BA%E6%93%8D%E4%BD%9C/Excel%E4%B8%8A%E4%BC%A0%E4%B8%8E%E4%B8%8B%E8%BD%BD.png\" alt=\"界面图\"></p>\n<h5 id=\"01-下载事件\"><a href=\"#01-下载事件\" class=\"headerlink\" title=\"01.下载事件\"></a>01.下载事件</h5><p>相关代码：</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">btnDownload_Click</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> path = Server.MapPath((<span class=\"string\">&quot;upfiles\\\\&quot;</span>) + <span class=\"string\">&quot;test.xlt&quot;</span>);      <span class=\"comment\">//upfiles-文件夹 test.xlt-文件</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> name = <span class=\"string\">&quot;test.xlt&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> file = <span class=\"keyword\">new</span> FileInfo(path);</span><br><span class=\"line\">        Response.Clear();</span><br><span class=\"line\">        Response.Charset = <span class=\"string\">&quot;GB2312&quot;</span>;</span><br><span class=\"line\">        Response.ContentEncoding = System.Text.Encoding.UTF8;</span><br><span class=\"line\">        Response.AddHeader(<span class=\"string\">&quot;Content-Disposition&quot;</span>, <span class=\"string\">&quot;attachment; filename=&quot;</span> + Server.UrlEncode(name)); <span class=\"comment\">//头信息，指定默认文件名</span></span><br><span class=\"line\">        Response.AddHeader(<span class=\"string\">&quot;Content-Length&quot;</span>, file.Length.ToString());<span class=\"comment\">//显示下载进度</span></span><br><span class=\"line\">        Response.ContentType = <span class=\"string\">&quot;application/ms-excel&quot;</span>;     <span class=\"comment\">// 指定返回的是一个不能被客户端读取的流，必须被下载</span></span><br><span class=\"line\">        Response.WriteFile(file.FullName);    <span class=\"comment\">// 把文件流发送到客户端</span></span><br><span class=\"line\"></span><br><span class=\"line\">        HttpContext.Current.ApplicationInstance.CompleteRequest();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Response.Write(<span class=\"string\">&quot;&lt;script&gt;alert(&#x27;错误:&quot;</span> + ex.Message + <span class=\"string\">&quot;,请尽快与管理员联系&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"0x02-导入数据\"><a href=\"#0x02-导入数据\" class=\"headerlink\" title=\"0x02.导入数据\"></a>0x02.导入数据</h4><p>首先准备好一个 Excel 模板。利用 FileUpload1 控件和 Button 按钮进行上传</p>\n<h5 id=\"00-点击导入按钮事件\"><a href=\"#00-点击导入按钮事件\" class=\"headerlink\" title=\"00.点击导入按钮事件\"></a>00.点击导入按钮事件</h5><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">btnImport_Click</span>(<span class=\"params\"><span class=\"built_in\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (FileUpload1.HasFile == <span class=\"literal\">false</span>)   <span class=\"comment\">//判断是否包含一个文件</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Response.Write(<span class=\"string\">&quot;&lt;script&gt;alert(&#x27;请您选择Excel文件！&#x27;)&lt;/script&gt;&quot;</span>);<span class=\"comment\">//未上传就点击了导入按钮</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">string</span> isXls = Path.GetExtension(FileUpload1.FileName).ToString().ToLower();<span class=\"comment\">//获得文件的扩展名</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> extenLen = isXls.Length;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!isXls.Contains(<span class=\"string\">&quot;.xls&quot;</span>))    <span class=\"comment\">//判断是否 是excel文件</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Response.Write(<span class=\"string\">&quot;&lt;script&gt;alert(&#x27;只可以选择Excel文件！&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">string</span> filename = FileUpload1.FileName;              <span class=\"comment\">//获取Excle文件名</span></span><br><span class=\"line\">    <span class=\"built_in\">string</span> savePath = Server.MapPath((<span class=\"string\">&quot;upfiles\\\\&quot;</span>) + filename);<span class=\"comment\">//Server.MapPath 获得虚拟服务器相对路径</span></span><br><span class=\"line\">    <span class=\"built_in\">string</span> savePath2 = Server.MapPath((<span class=\"string\">&quot;upfiles\\\\&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!Directory.Exists(savePath2))   <span class=\"comment\">//如果不存在upfiles文件夹则创建</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Directory.CreateDirectory(savePath2);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    FileUpload1.SaveAs(savePath);  <span class=\"comment\">//SaveAs 将上传的文件内容保存在服务器上</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> ds = ExcelSqlConnection(savePath, filename);           <span class=\"comment\">//将Excel转成DataSet</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> dtRows = ds.Tables[<span class=\"number\">0</span>].Rows.Count;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> dt = ds.Tables[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (dtRows == <span class=\"number\">0</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Response.Write(<span class=\"string\">&quot;&lt;script&gt;alert(&#x27;Excel表无数据！&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">try</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; dt.Rows.Count; i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"built_in\">string</span> ve = dt.Rows[i][<span class=\"string\">&quot;车号&quot;</span>].ToString();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">string</span>.IsNullOrEmpty(ve))   <span class=\"comment\">//因数据库中车号不能为空 所以表格中车号为空的跳过这行</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">//用自己的方式保存进数据库ADO/EF/...</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> model = <span class=\"keyword\">new</span> TEST(); <span class=\"comment\">//实体</span></span><br><span class=\"line\">            model.id = <span class=\"number\">1</span>;</span><br><span class=\"line\">            model.ve = ve;</span><br><span class=\"line\">            model.name = dt.Rows[i][<span class=\"string\">&quot;姓名&quot;</span>].ToString();</span><br><span class=\"line\">            model.Update();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;<span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Response.Write(<span class=\"string\">&quot;&lt;script&gt;alert(&#x27;&quot;</span> + ex.Message + <span class=\"string\">&quot;&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"01-Excel-转-DataSet\"><a href=\"#01-Excel-转-DataSet\" class=\"headerlink\" title=\"01.Excel 转 DataSet\"></a>01.Excel 转 DataSet</h5><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> DataSet <span class=\"title\">ExcelSqlConnection</span>(<span class=\"params\"><span class=\"built_in\">string</span> savePath, <span class=\"built_in\">string</span> tableName</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//string strCon = &quot;Provider=Microsoft.Jet.OLEDB.4.0;Data Source=&quot; + savePath + &quot;;Extended Properties=&#x27;Excel 8.0;HDR=YES;IMEX=1&#x27;&quot;;</span></span><br><span class=\"line\">    <span class=\"built_in\">string</span> strCon = <span class=\"string\">&quot;Provider=Microsoft.Ace.OLEDB.12.0;&quot;</span> + <span class=\"string\">&quot;data source=&quot;</span> + savePath + <span class=\"string\">&quot;;Extended Properties=&#x27;Excel 12.0; HDR=Yes; IMEX=1&#x27;&quot;</span>;    <span class=\"comment\">//HDR=YES Excel文件的第一行是列名而不是数据 IMEX=1可必免数据类型冲突</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> excelConn = <span class=\"keyword\">new</span> OleDbConnection(strCon);</span><br><span class=\"line\">    <span class=\"keyword\">try</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"built_in\">string</span> strCom = <span class=\"built_in\">string</span>.Format(<span class=\"string\">&quot;SELECT * FROM [Sheet1$]&quot;</span>);</span><br><span class=\"line\">        excelConn.Open();</span><br><span class=\"line\">        OleDbDataAdapter myCommand = <span class=\"keyword\">new</span> OleDbDataAdapter(strCom, excelConn);</span><br><span class=\"line\">        DataSet ds = <span class=\"keyword\">new</span> DataSet();</span><br><span class=\"line\">        myCommand.Fill(ds, <span class=\"string\">&quot;[&quot;</span> + tableName + <span class=\"string\">&quot;$]&quot;</span>);</span><br><span class=\"line\">        excelConn.Close();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ds;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">catch</span> (Exception)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        excelConn.Close();</span><br><span class=\"line\">        <span class=\"comment\">//Response.Write(&quot;&lt;script&gt;alert(&#x27;&quot; + ex.Message + &quot;&#x27;)&lt;/script&gt;&quot;);</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"10-导入操作如果报错\"><a href=\"#10-导入操作如果报错\" class=\"headerlink\" title=\"10.导入操作如果报错\"></a>10.导入操作如果报错</h5><p>错误代码为：未在本地计算机上注册“Microsoft.ACE.OLEDB.12.0”提供程序<br>解决办法(两者择其一)：</p>\n<blockquote>\n<ul>\n<li>1.将平台换成 X86</li>\n<li>2.安装 AccessDatabaseEngine.exe (详情百度)</li>\n</ul>\n</blockquote>\n<h4 id=\"0x03-导出到-Excel\"><a href=\"#0x03-导出到-Excel\" class=\"headerlink\" title=\"0x03.导出到 Excel\"></a>0x03.导出到 Excel</h4><p>插件采用 MyXLS.<br>引用 using org.in2bits.MyXls;<br>以下代码大部分基本不用改。</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Export</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    XlsDocument xls = <span class=\"keyword\">new</span> XlsDocument();</span><br><span class=\"line\">    org.in2bits.MyXls.Cell cell;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> rowIndex = <span class=\"number\">2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    xls.FileName = DateTime.Now.ToString().Replace(<span class=\"string\">&quot;-&quot;</span>, <span class=\"string\">&quot;&quot;</span>).Replace(<span class=\"string\">&quot;:&quot;</span>, <span class=\"string\">&quot;&quot;</span>).Replace(<span class=\"string\">&quot; &quot;</span>, <span class=\"string\">&quot;&quot;</span>) + HttpUtility.UrlEncode(<span class=\"string\">&quot;TEST&quot;</span>) + <span class=\"string\">&quot;.xls&quot;</span>; <span class=\"comment\">//TEST要改</span></span><br><span class=\"line\">    Worksheet sheet = xls.Workbook.Worksheets.AddNamed(<span class=\"string\">&quot;TEST&quot;</span>);<span class=\"comment\">//状态栏标题名称</span></span><br><span class=\"line\">    org.in2bits.MyXls.Cells cells = sheet.Cells;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">#<span class=\"keyword\">region</span> 导出Excel列宽</span></span><br><span class=\"line\">    ColumnInfo colInfo = <span class=\"keyword\">new</span> ColumnInfo(xls, sheet);</span><br><span class=\"line\">    colInfo.ColumnIndexStart = <span class=\"number\">0</span>;</span><br><span class=\"line\">    colInfo.ColumnIndexEnd = <span class=\"number\">2</span>;</span><br><span class=\"line\">    colInfo.Width = <span class=\"number\">15</span> * <span class=\"number\">300</span>;</span><br><span class=\"line\">    sheet.AddColumnInfo(colInfo);</span><br><span class=\"line\">    <span class=\"meta\">#<span class=\"keyword\">endregion</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">#<span class=\"keyword\">region</span> 表头</span></span><br><span class=\"line\">    MergeArea area = <span class=\"keyword\">new</span> MergeArea(<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>); <span class=\"comment\">//MergeArea(int rowMin, int rowMax, int colMin, int colMax)</span></span><br><span class=\"line\">    org.in2bits.MyXls.Cell cellTitle = cells.AddValueCell(<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"string\">&quot;TEST&quot;</span>);    <span class=\"comment\">//Excel 第一行第1到2列显示TEST</span></span><br><span class=\"line\">    sheet.AddMergeArea(area);</span><br><span class=\"line\">    cellTitle.Font.Height = <span class=\"number\">20</span> * <span class=\"number\">20</span>;</span><br><span class=\"line\">    cellTitle.Font.Bold = <span class=\"literal\">true</span>;<span class=\"comment\">//设置标题行的字体为粗体</span></span><br><span class=\"line\">    cellTitle.Font.FontFamily = FontFamilies.Roman;<span class=\"comment\">//设置标题行的字体为FontFamilies.Roman</span></span><br><span class=\"line\">    cellTitle.HorizontalAlignment = HorizontalAlignments.Centered;</span><br><span class=\"line\"></span><br><span class=\"line\">    area = <span class=\"keyword\">new</span> MergeArea(<span class=\"number\">2</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">    cellTitle = cells.AddValueCell(<span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"string\">&quot;车号&quot;</span>); <span class=\"comment\">//第二行第一列 显示车号</span></span><br><span class=\"line\">    sheet.AddMergeArea(area);</span><br><span class=\"line\">    cellTitle.Font.Bold = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    cellTitle.Font.Height = <span class=\"number\">16</span> * <span class=\"number\">16</span>;</span><br><span class=\"line\">    cellTitle.Font.FontFamily = FontFamilies.Roman;</span><br><span class=\"line\">    cellTitle.HorizontalAlignment = HorizontalAlignments.Centered;</span><br><span class=\"line\">    cellTitle.VerticalAlignment = VerticalAlignments.Centered;</span><br><span class=\"line\">    cellTitle.TopLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\">    cellTitle.BottomLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\">    cellTitle.LeftLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\">    cellTitle.RightLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    area = <span class=\"keyword\">new</span> MergeArea(<span class=\"number\">2</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">    cellTitle = cells.AddValueCell(<span class=\"number\">2</span>, <span class=\"number\">2</span>, <span class=\"string\">&quot;姓名&quot;</span>);</span><br><span class=\"line\">    sheet.AddMergeArea(area);</span><br><span class=\"line\">    cellTitle.Font.Bold = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    cellTitle.Font.Height = <span class=\"number\">16</span> * <span class=\"number\">16</span>;</span><br><span class=\"line\">    cellTitle.Font.FontFamily = FontFamilies.Roman;</span><br><span class=\"line\">    cellTitle.HorizontalAlignment = HorizontalAlignments.Centered;</span><br><span class=\"line\">    cellTitle.VerticalAlignment = VerticalAlignments.Centered;</span><br><span class=\"line\">    cellTitle.TopLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\">    cellTitle.BottomLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\">    cellTitle.LeftLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\">    cellTitle.RightLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">#<span class=\"keyword\">endregion</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> list = GetList();  <span class=\"comment\">//获取数据</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; list.Count; i++)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        rowIndex++;</span><br><span class=\"line\">        cell = cells.AddValueCell(rowIndex, <span class=\"number\">1</span>, list[i].VehicleNO);  <span class=\"comment\">//车号</span></span><br><span class=\"line\">        cell.TopLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\">        cell.BottomLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\">        cell.LeftLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\">        cell.RightLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        cell = cells.AddValueCell(rowIndex, <span class=\"number\">2</span>, list[i].Name);   <span class=\"comment\">//姓名</span></span><br><span class=\"line\">        cell.TopLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\">        cell.BottomLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\">        cell.LeftLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\">        cell.RightLineStyle = <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    xls.Send();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"00-导出报错’服务器无法在发送-HTTP-标头之后设置内容类型’\"><a href=\"#00-导出报错’服务器无法在发送-HTTP-标头之后设置内容类型’\" class=\"headerlink\" title=\"00.导出报错’服务器无法在发送 HTTP 标头之后设置内容类型’\"></a>00.导出报错’服务器无法在发送 HTTP 标头之后设置内容类型’</h5><p>详见：<a href=\"/2016/07/01/ASP-NET%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%A0%E6%B3%95%E5%9C%A8%E5%8F%91%E9%80%81HTTP%E6%A0%87%E5%A4%B4%E4%B9%8B%E5%90%8E%E8%AE%BE%E7%BD%AE%E5%86%85%E5%AE%B9%E7%B1%BB%E5%9E%8B/\">服务器无法在发送 HTTP 标头之后设置内容类型</a></p>\n","categories":[],"tags":["Asp.Net","Excel"]},{"title":"Asp.Net服务器无法在发送HTTP标头之后设置内容类型","url":"https://fanhua.tech/2016/07/01/ASP-NET服务器无法在发送HTTP标头之后设置内容类型/","content":"<h4 id=\"2016-年-12-月-2-日-10-35-46-更新\"><a href=\"#2016-年-12-月-2-日-10-35-46-更新\" class=\"headerlink\" title=\"2016 年 12 月 2 日 10:35:46 更新\"></a>2016 年 12 月 2 日 10:35:46 更新</h4><p>采用 Npoi 导出 Excel，前台页面依然是 aspx，然后报“未能从服务器收到消息”的错误。<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Asp.Net%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%A0%E6%B3%95%E5%9C%A8%E5%8F%91%E9%80%81HTTP%E6%A0%87%E5%A4%B4%E4%B9%8B%E5%90%8E%E8%AE%BE%E7%BD%AE%E5%86%85%E5%AE%B9%E7%B1%BB%E5%9E%8B/1.jpg\" alt=\"图片\"></p>\n<p>解决方案还是如下所说。</p>\n<h4 id=\"关于“服务器无法在发送-HTTP-标头之后设置内容类型”的错误：\"><a href=\"#关于“服务器无法在发送-HTTP-标头之后设置内容类型”的错误：\" class=\"headerlink\" title=\"关于“服务器无法在发送 HTTP 标头之后设置内容类型”的错误：\"></a>关于“服务器无法在发送 HTTP 标头之后设置内容类型”的错误：</h4><p>1.导出组件是用 MyXLS 2.页面采用 aspx 3.页面主要内容有：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;form id=&quot;form1&quot; runat=&quot;server&quot;&gt;</span><br><span class=\"line\">    &lt;asp:ScriptManager ID=&quot;Scriptmanager1&quot; runat=&quot;server&quot;&gt;</span><br><span class=\"line\">    &lt;/asp:ScriptManager&gt;</span><br><span class=\"line\">    &lt;asp:UpdatePanel ID=&quot;UpdatePanel1&quot; runat=&quot;server&quot;&gt;</span><br><span class=\"line\">        &lt;ContentTemplate&gt;</span><br><span class=\"line\">            &lt;asp:Button runat=&quot;server&quot; ID=&quot;btnExport&quot; Text=&quot;导出到Excel&quot; CssClass=&quot;btn_common&quot; OnClick=&quot;btnExport_Click&quot; /&gt;</span><br><span class=\"line\">        &lt;/ContentTemplate&gt;</span><br><span class=\"line\">    &lt;/asp:UpdatePanel&gt;</span><br><span class=\"line\">&lt;/form&gt;</span><br></pre></td></tr></table></figure>\n\n<p>这样写无法导出，会报标题所示的错误。解决办法就是给 btnExport 增加“全局刷新”的能力<br>在 &lt;asp:UpdatePanel ID=”UpdatePanel1” runat=”server”&gt;<ContentTemplate>之间增加如下代码即可解决问题</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Triggers&gt;</span><br><span class=\"line\">    &lt;%--&lt;asp:AsyncPostBackTrigger ControlID=&quot;&quot; /&gt;--%&gt; &lt;%--局部刷新 值刷新UpdatePanel内部 --%&gt;</span><br><span class=\"line\">    &lt;asp:PostBackTrigger ControlID=&quot;btnExport&quot; /&gt; &lt;%--全部刷新 --%&gt; &lt;%--2016年7月1日 解决点击导出按钮报错“服务器无法在发送HTTP标头之后设置内容类型”的错误--%&gt;</span><br><span class=\"line\">&lt;/Triggers&gt;</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Asp.Net"]},{"title":"燃烧军团的起源：泰坦和秩序","url":"https://fanhua.tech/2016/06/08/燃烧军团的起源：泰坦和秩序/","content":"<h5 id=\"泰坦和秩序\"><a href=\"#泰坦和秩序\" class=\"headerlink\" title=\"泰坦和秩序\"></a>泰坦和秩序</h5><p>没有人知道宇宙是如何产生的。一些人认为是一场巨大的爆炸制造了无边的宇宙，并最终孕育出各种形态的生命。另一些人认为宇宙是由一个强大的实体创造出来的。虽然有关这混乱的宇宙是如何产生的问题一直没有明确的回答，但可以肯定的是一个强大的种族为世界带来了秩序，以确保其他的种族能够沿着他们的脚印前进。</p>\n<p>泰坦是具有金属般坚硬皮肤的巨大天神，他们为了改变这个世界而从遥远的有序宇宙赶来。他们通过造出高大的山脉，挖掘广阔的海洋来塑造他们的世界，他们制造了风云变幻的大气层和无边的苍穹——这一切都是他们伟大计划的一部分，一个建立强大秩序计划。他们甚至向原始的种族传授技艺，并教导他们保持世界的平衡与和谐。</p>\n<p>在第一个创造之年代中，泰坦在诸神的统治下为散布在无边黑暗中的数以亿计的世界带去了秩序。仁慈的诸神为了保护他们建立的世界，时刻警惕着隐藏在邪恶的异度空间——扭曲虚空中的邪恶势力。扭曲虚空是充满了混乱的魔法力量的虚无空间，它将宇宙中的各个世界连接了起来，在这里盘踞着无数残暴、邪恶的生物，他们的脑中只想着摧毁生命并吞噬宇宙的能量。纯洁、无私的泰坦则为了解除恶魔的威胁而不懈奋斗。</p>\n<h5 id=\"萨格拉斯和背叛\"><a href=\"#萨格拉斯和背叛\" class=\"headerlink\" title=\"萨格拉斯和背叛\"></a>萨格拉斯和背叛</h5><p>为了与不断侵犯泰坦世界的邪恶力量作战，众神选中了他们最强大的战士萨格拉斯作为他们的第一道防线。由熔化的青铜铸造的高贵战士萨格拉斯在上百万年的时间里一丝不苟地履行着他的职责，搜寻并摧毁他能找到的任何恶魔。在永世之后，萨格拉斯遭遇了两支从实体世界中获得了巨大的能量的强大恶魔种族。</p>\n<p>邪恶的巫术种族埃瑞达使用他们的巫术控制了许多被他们入侵的世界，这些世界中的原住民都被埃瑞达的混乱力量变成了恶魔。虽然萨格拉斯几近无穷的力量完全能够轻易击败邪恶的埃瑞达，但他被这种生物的堕落和无比的邪恶感到十分费解。强大的泰坦无法感知这种恶毒和腐化到底有多么深重，他自己也陷入了不断膨胀的消极情绪之中。尽管如此，萨格拉斯仍然坚强地振作起来，尽全力与埃瑞达的巫师作战，并将他们逼到了扭曲虚空的一个角落里。</p>\n<p>在萨格拉斯的疑惑与消沉日益加深时，他又被迫与另一组试图破坏泰坦秩序的恶魔作战。黑暗的吸血恶魔纳斯雷兹姆（也被称作恐惧魔王）通过控制敌人的思想征服了许多世界，并将他们的敌人变成了自己的爪牙。邪恶、狡诈的恐惧魔王可以让整个国家的人由于莫名其妙的憎恨和不信任而互相杀戮，虽然萨格拉斯轻易击败了纳斯雷兹姆，但他们的引诱却对他产生了巨大的作用。</p>\n<p>高贵的萨格拉斯无法控制思想中不断翻腾的疑惑和失落，继而失去了他的信仰和作为泰坦的理智。萨格拉斯开始认为秩序的教条本身是愚蠢的——并且混乱和堕落是黑暗、寂寞的宇宙中唯一的真理。虽然他的泰坦伙伴们试图劝说他放弃错误的想法并平息愤怒的火焰，但他坚持认为他们的说辞都是谎言。在和泰坦永远决裂后，萨格拉斯开始寻找自己在宇宙中的位置。虽然诸神对他的背叛感到很悲伤，但他们永远也不会相信他们迷失的兄弟会变成什么样子。</p>\n<p>当萨格拉斯的疯狂吞噬了他最后的一点高贵的灵魂之后，他开始认为泰坦才是导致造物失败的罪魁祸首。他最终决定组织一支不可阻挡的大军，以地狱的烈焰毁灭所有的世界，以此来纠正泰坦们犯下的错误。</p>\n<p>萨格拉斯巨大的身躯也因为侵蚀他心智的堕落力量而发生了扭曲。他的眼睛、头发和胡须变成了燃烧的烈焰，他的青铜皮肤也裂开，从裂缝喷出无尽的仇恨和烈焰。</p>\n<p>疯狂的萨格拉斯摧毁了囚禁埃瑞达和纳斯瑞兹姆恶魔的牢笼，这些狡诈的恶魔在黑暗泰坦的暴怒和力量面前匍匐，发誓要用一切方法为他服务。萨格拉斯从强大的埃瑞达恶魔中挑选了两名勇士来领导他那邪恶的毁灭势力。</p>\n<p>欺诈者基尔加丹负责寻找宇宙中最黑暗的种族，并将他们收入萨格拉斯麾下。污染者阿克蒙德负责带领萨格拉斯的大军与任何胆敢抵抗黑暗泰坦的敌人作战。基尔加丹的第一步行动就是用他可怕的力量奴役了吸血的恐惧魔王。这些基尔加丹的精英卫队和散布在宇宙中的爪牙很乐意为他们的主人寻找可以引诱的原始种族。恐惧魔王的第一批战利品就是提克迪奥斯恶魔和达肯恶魔。提克迪奥斯恶魔是基尔加丹梦寐以求的优秀战士，他们也宣誓忠于萨格拉斯的意志。强大的阿克蒙德也有属于自己的强大军队。他控制着残暴的深渊恶魔和他们野蛮的领导——玛诺洛斯，并希望能建立一支可以毁灭一切活物的精英部队。</p>\n<p>萨格拉斯在看到他的部队已经足够强大，并且对他的所有命令都绝对服从之后，率领他的大军进入了无边的黑暗。他将这支部队称为燃烧军团，不知有多少世界被他们穿越整个宇宙的邪恶远征所毁灭。</p>\n<h5 id=\"艾泽拉斯的秩序\"><a href=\"#艾泽拉斯的秩序\" class=\"headerlink\" title=\"艾泽拉斯的秩序\"></a>艾泽拉斯的秩序</h5><p>泰坦似乎并没有察觉萨格拉斯的计划，他们继续从这个世界来到那个世界，按照他们的意愿塑造这些世界，并且让它们归于秩序。在旅途中他们来到了一个较小的世界——这个世界后来被称为艾泽拉斯，在这片混乱的土地上，泰坦们遇到了大量敌对的元素生物。这些元素生物信仰一个被称为上古之神的无比邪恶的种族，并且拒绝让泰坦改造它们的世界。<br>诸神对上古之神的邪恶嗜好感到忧虑，于是他们派出部队与元素生物和他们邪恶的主人作战。虽然元素生物狂暴地进行战斗，但它们的力量远远不敌强大的泰坦。诸神摧毁了上古之神的城堡，并把藏在城堡中的五个邪恶生物囚禁在远离地面的地下监狱中。元素生物失去了上古之神的力量，无法在实体世界中保持形态，纷纷化为乌有，溶入了大地。顿时，整个世界恢复了一派和谐的景象。为了帮助自己改造世界，泰坦创造了许多种族。为了在大地上挖掘深不可测的洞穴，泰坦用具有魔力的石头创造了矮人；为了创造海洋并将陆地从海床上搬走，泰坦创造了巨大、温顺的海巨人。</p>\n<p>泰坦花费了数个世纪来改造这个世界，直到最后，艾泽拉斯世界上只有一块完美的大陆。泰坦在这块大陆的中心凿出了一片充满能量的湖泊，并将它命名为永恒之井，以作为这个世界生命的源泉。湖中蕴含的无限能量可以支撑世界的骨架，并帮助生命在这片肥沃的土壤上生根发芽。随着时间的推移，树木、小草、怪物和各种生物都在这片大陆上繁盛起来。当夜色降临时，泰坦为这片大陆起了个名字：卡利姆多——“永烁星光之地”。</p>\n<p>泰坦对这片大陆上建立的秩序感到满意，于是他们决定启程离开艾泽拉斯。在他们动身之前，泰坦们突然决定为这片大陆上最强大的新物种提供奇特的力量，让他们负责保卫这里完美的平静不被破坏。于是五位神中的每一位都给在神话时代觉醒的巨龙附加了自身的一部分神力，于是有了生命之王阿莱克斯塔萨，魔法之王马利加斯，梦幻之王伊瑟拉，时间之王诺兹多姆，以及土地之王耐萨里奥，这五条巨龙都拥有一部分泰坦的神力，并且承担起了保护世界的责任。</p>\n<p>当巨龙们准备保护泰坦们的创造物时，泰坦们永远离开了艾泽拉斯。不幸的是，对这个刚刚成型的世界来说，萨格拉斯的到来只是一个时间问题……</p>\n","categories":[],"tags":["wow"]},{"title":"魔兽通史","url":"https://fanhua.tech/2016/06/08/魔兽通史/","content":"<table>\n<thead>\n<tr>\n<th></th>\n<th align=\"center\">种族历史与英雄：</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td align=\"center\"><a href=\"/2016/06/08/%E7%87%83%E7%83%A7%E5%86%9B%E5%9B%A2%E7%9A%84%E8%B5%B7%E6%BA%90%EF%BC%9A%E6%B3%B0%E5%9D%A6%E5%92%8C%E7%A7%A9%E5%BA%8F/\">燃烧军团来源：泰坦与秩序</a></td>\n</tr>\n<tr>\n<td><a href=\"/2016/07/06/%E9%AD%94%E5%85%BD%E8%8B%B1%E9%9B%84%E6%A6%9C-%E7%87%83%E7%83%A7%E5%86%9B%E5%9B%A2/\">魔兽英雄榜</a></td>\n<td align=\"center\">萨格拉斯　阿克蒙德　基尔加丹　玛诺洛斯　麦格瑟瑞多　提克迪奥斯　玛尔甘尼斯　瓦瑞玛萨斯　（以上共8人）</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"center\"><a href=\"/2016/07/06/%E6%9A%97%E5%A4%9C%E7%B2%BE%E7%81%B5%E5%8E%86%E5%8F%B2-%E5%8D%A1%E5%A4%9A%E9%9B%B7%E5%92%8C%E6%B0%B8%E6%81%92%E4%B9%8B%E4%BA%95/\">暗夜精灵历史： 卡多雷和永恒之井</a></td>\n</tr>\n<tr>\n<td>魔兽英雄榜</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td></td>\n<td align=\"center\"><a href=\"/2016/07/06/%E5%85%BD%E4%BA%BA%E5%8E%86%E5%8F%B2-%E5%8F%A4%E5%B0%94%E4%B8%B9%E5%92%8C%E8%83%8C%E5%8F%9B/\">兽族部落历史： 古尔丹和背叛</a></td>\n</tr>\n<tr>\n<td><a href=\"/2016/07/06/%E9%AD%94%E5%85%BD%E8%8B%B1%E9%9B%84%E6%A6%9C%E5%85%BD%E4%BA%BA%E9%83%A8%E8%90%BD%E4%B8%8A-%E5%85%BD%E4%BA%BA%E5%92%8C%E9%A3%9F%E4%BA%BA%E9%AD%94/\">兽人和食人魔</a></td>\n<td align=\"center\">耐奥祖　古尔丹　布莱克汉　奥格瑞姆·毁灭之锤　芬瑞斯　杜隆坦　萨尔　德雷克塔尔　格罗姆·地狱咆哮　奇尔洛格·死眼　卡格斯·拳刃　祖赫德　寇加尔　登塔　盖萝娜　雷克萨　（以上共16人）</td>\n</tr>\n<tr>\n<td><a href=\"/2016/07/06/%E9%AD%94%E5%85%BD%E8%8B%B1%E9%9B%84%E6%A6%9C%E5%85%BD%E4%BA%BA%E9%83%A8%E8%90%BD%E4%B8%8B-%E5%B7%A8%E9%AD%94%E5%92%8C%E7%89%9B%E5%A4%B4%E4%BA%BA/\">巨魔和牛头人</a></td>\n<td align=\"center\">祖金　森金　沃金　凯恩·血蹄　（以上共4人）</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"center\">人类联盟历史： 第二次战争的结束</td>\n</tr>\n<tr>\n<td>魔兽英雄榜</td>\n<td align=\"center\">安度因·洛萨　麦格娜·艾格文 麦迪文　卡德加　光明使者乌瑟尔　达纳斯　库德兰　艾蕾利亚·风行者　索拉斯·绰尔班　（以上共9人）</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"center\">不死亡灵历史： 萨满祭司耐奥祖：巫妖之王的前身</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"center\">魔兽世界正史：</td>\n</tr>\n<tr>\n<td>第一章：神 话</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td>- 10,000年前</td>\n<td align=\"center\">泰坦创世 　萨格拉斯的背叛　上古之神和艾泽拉斯的秩序　守护巨龙　世界的苏醒和永恒之井</td>\n</tr>\n<tr>\n<td>- 10,000年</td>\n<td align=\"center\">上古战争　世界的分裂　海加尔山和伊利丹的礼物</td>\n</tr>\n<tr>\n<td>- 9,000年</td>\n<td align=\"center\">世界之树和翡翠梦境</td>\n</tr>\n<tr>\n<td>- 7,300年</td>\n<td align=\"center\">流放高等精灵 　哨兵的长期卫戍</td>\n</tr>\n<tr>\n<td>第二章：新世界</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td>- 6,800年</td>\n<td align=\"center\">奎尔萨拉斯的建立</td>\n</tr>\n<tr>\n<td>- 2,800年</td>\n<td align=\"center\">阿拉索与巨魔战争</td>\n</tr>\n<tr>\n<td>- 2,700年</td>\n<td align=\"center\">提瑞斯法的守护者</td>\n</tr>\n<tr>\n<td>- 2,500年</td>\n<td align=\"center\">铁炉堡 - 矮人的觉醒</td>\n</tr>\n<tr>\n<td>- 1,200年</td>\n<td align=\"center\">七个王国</td>\n</tr>\n<tr>\n<td>- 823年</td>\n<td align=\"center\">艾格文和屠龙</td>\n</tr>\n<tr>\n<td>- 230年</td>\n<td align=\"center\">三锤之战</td>\n</tr>\n<tr>\n<td>- 45年</td>\n<td align=\"center\">最后的守护者</td>\n</tr>\n<tr>\n<td>第三章：德拉诺的毁灭</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td></td>\n<td align=\"center\">基尔加丹和影子契约　部落的崛起</td>\n</tr>\n<tr>\n<td>第四章：联盟与部落</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td>0年</td>\n<td align=\"center\">黑暗之门与暴风城的陷落</td>\n</tr>\n<tr>\n<td>6年</td>\n<td align=\"center\">洛丹伦人类联盟</td>\n</tr>\n<tr>\n<td>8年</td>\n<td align=\"center\">德拉诺的入侵　巫妖之王的诞生　寒冰皇冠和冰封王座　格瑞姆巴托之战　失去生机和活力的兽人　新的部落　蜘蛛之战　克尔苏加德和亡灵天灾的形成　联盟的分裂</td>\n</tr>\n<tr>\n<td>10年</td>\n<td align=\"center\">巨龙之日 (Richard A. Knaak)</td>\n</tr>\n<tr>\n<td>18年</td>\n<td align=\"center\">氏族之王 (Christie Golden)</td>\n</tr>\n<tr>\n<td>19年</td>\n<td align=\"center\">血与荣耀 (Chris Metzen)</td>\n</tr>\n<tr>\n<td>第五章：燃烧军团回归</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td>20年</td>\n<td align=\"center\">洛丹伦的天灾 　太阳之井 - 奎尔萨拉斯的沦陷　阿克蒙德的归来和卡利姆多之旅　海加尔山之战</td>\n</tr>\n<tr>\n<td>21年</td>\n<td align=\"center\">背叛者的行动　血精灵的崛起　瘟疫之地的内战　巫妖王的胜利　古老的仇恨 - 卡利姆多的开拓</td>\n</tr>\n<tr>\n<td>第六章：新纪元</td>\n<td align=\"center\">魔兽世界 [World of Warcraft] 开始…</td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>时间轴</th>\n<th align=\"center\">魔兽争霸战争简史</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>-14,000</td>\n<td align=\"center\">暗夜精灵在卡利姆多大陆的永恒之井周围建立了世界上的第一个文明社会，并且开始研究如何使用永恒之井那无尽的魔法能量。</td>\n</tr>\n<tr>\n<td>-10,000</td>\n<td align=\"center\">燃烧军团入侵艾泽拉斯世界，意欲夺取永恒之井。恶魔最终被击败，但他们发誓要卷土重来。</td>\n</tr>\n<tr>\n<td>-4,000</td>\n<td align=\"center\">在被流放了数个世纪之后，高等精灵在洛丹伦北部建立了奎尔萨拉斯王国。</td>\n</tr>\n<tr>\n<td>-2,800</td>\n<td align=\"center\">人类在洛丹伦建立了阿拉索帝国。高等精灵向人类传授使用魔法的技艺。</td>\n</tr>\n<tr>\n<td>-1,200</td>\n<td align=\"center\">阿拉索帝国分裂为七个独立的王国。</td>\n</tr>\n<tr>\n<td>-40</td>\n<td align=\"center\">燃烧军团控制了德拉诺世界的兽人，一度信奉萨满教的高贵的兽人氏族联合起来，成为了一支毁灭性的大军。</td>\n</tr>\n<tr>\n<td>1</td>\n<td align=\"center\">黑暗之门开启，兽人入侵艾泽拉斯世界。</td>\n</tr>\n<tr>\n<td>4</td>\n<td align=\"center\">兽人攻占暴风王国。洛丹伦的七个人类王国、高等精灵的奎尔萨拉斯王国和矮人的卡兹莫丹王国联合起来对抗兽人，在艾泽拉斯王国的摄政王安度因·洛萨爵士的领导下成立了洛丹伦联盟。</td>\n</tr>\n<tr>\n<td>6</td>\n<td align=\"center\">兽人入侵洛丹伦，几乎完全毁灭了奎尔萨拉斯。联盟发动了反攻，但洛萨爵士阵亡。愤怒的联盟军队击溃了兽人的残部并摧毁黑暗之门。联盟将兽人俘虏投入收容所。</td>\n</tr>\n<tr>\n<td>7</td>\n<td align=\"center\">萨满祭司耐奥祖重新开启了连接德拉诺和艾泽拉斯的黑暗之门，并派出兽人部队去偷取神器，意欲开启更多的传送门。联盟远征军深入德拉诺世界去阻止他。耐奥祖最终还是打开了新的传送门，但它们的能量却失去了控制。联盟远征军摧毁了黑暗之门，使得艾泽拉斯世界免于被失控的能量摧毁，德拉诺世界被炸得支离破碎。</td>\n</tr>\n<tr>\n<td>23</td>\n<td align=\"center\">被人类当作奴隶养大的兽人萨尔开始恢复他们那被遗忘的传统，他联合了许多兽人氏族，并领导他们与联盟抗争。</td>\n</tr>\n<tr>\n<td>24</td>\n<td align=\"center\">萨尔成为兽人部落新的酋长，让他的人民重新开始学习被遗弃的萨满教传统。</td>\n</tr>\n<tr>\n<td>25</td>\n<td align=\"center\">部落夺取了一些联盟的船只，穿越大漩涡来到了卡利姆多这片蛮荒之地。一场神秘的瘟疫席卷了洛丹伦北面的诺森德大陆；白银之手骑士团开始调查此事。　骑士团的一员，阿尔萨斯王子，因为狂热地想要追击和摧毁亡灵天灾而堕落了。他变成了死亡骑士，并领导天灾军团横扫洛丹伦，最终将燃烧军团再次带入艾泽拉斯世界。联盟的残余力量逃至卡利姆多，希望在那里找到打败恶魔的办法。部落和联盟携手对抗燃烧军团。他们在世界之树下击败了恶魔之王阿克蒙德和他的恶魔军队，并各自在卡利姆多建立了新的国度。</td>\n</tr>\n<tr>\n<td>26</td>\n<td align=\"center\">海加尔山战役后一年，恶魔猎手伊利丹·怒风接受了恶魔之王基尔加丹的指派，前往诺森德大陆消灭巫妖王耐奥祖。由于巫妖王的力量被削弱，黑暗游侠塞雯娜斯和一些亡灵摆脱了他的控制，成为了一支新的亡灵力量——被遗忘者。为了保护耐奥祖，死亡骑士阿尔萨斯从洛丹伦赶回诺森德，在寒冰王座下击败了伊利丹，最终与巫妖王合体，成为亡灵天灾的新领袖。　海军上将普罗德摩尔将军向卡利姆多的兽人发动了进攻，但是部落的酋长萨尔在兽王雷克萨的帮助下杀死了他，保卫了新兴的兽人国家。</td>\n</tr>\n<tr>\n<td>30</td>\n<td align=\"center\">《魔兽世界》的故事正式开始，新的史诗由你去谱写……</td>\n</tr>\n</tbody></table>\n","categories":[],"tags":["wow"]},{"title":"JS-JSON日期格式化","url":"https://fanhua.tech/2016/05/03/JS-JSON日期格式化/","content":"<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">///无时分秒</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">jsonDateFormat</span>(<span class=\"params\">jsonDate</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//json日期格式转换为正常格式</span></span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(</span><br><span class=\"line\">      <span class=\"built_in\">parseInt</span>(jsonDate.<span class=\"title function_\">replace</span>(<span class=\"string\">&quot;/Date(&quot;</span>, <span class=\"string\">&quot;&quot;</span>).<span class=\"title function_\">replace</span>(<span class=\"string\">&quot;)/&quot;</span>, <span class=\"string\">&quot;&quot;</span>), <span class=\"number\">10</span>)</span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"keyword\">var</span> month =</span><br><span class=\"line\">      date.<span class=\"title function_\">getMonth</span>() + <span class=\"number\">1</span> &lt; <span class=\"number\">10</span></span><br><span class=\"line\">        ? <span class=\"string\">&quot;0&quot;</span> + (date.<span class=\"title function_\">getMonth</span>() + <span class=\"number\">1</span>)</span><br><span class=\"line\">        : date.<span class=\"title function_\">getMonth</span>() + <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> day = date.<span class=\"title function_\">getDate</span>() &lt; <span class=\"number\">10</span> ? <span class=\"string\">&quot;0&quot;</span> + date.<span class=\"title function_\">getDate</span>() : date.<span class=\"title function_\">getDate</span>();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> date.<span class=\"title function_\">getFullYear</span>() + <span class=\"string\">&quot;-&quot;</span> + month + <span class=\"string\">&quot;-&quot;</span> + day;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span> (ex) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">///有时分秒</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">jsonDateFormat</span>(<span class=\"params\">jsonDate</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//json日期格式转换为正常格式</span></span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(</span><br><span class=\"line\">      <span class=\"built_in\">parseInt</span>(jsonDate.<span class=\"title function_\">replace</span>(<span class=\"string\">&quot;/Date(&quot;</span>, <span class=\"string\">&quot;&quot;</span>).<span class=\"title function_\">replace</span>(<span class=\"string\">&quot;)/&quot;</span>, <span class=\"string\">&quot;&quot;</span>), <span class=\"number\">10</span>)</span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"keyword\">var</span> month =</span><br><span class=\"line\">      date.<span class=\"title function_\">getMonth</span>() + <span class=\"number\">1</span> &lt; <span class=\"number\">10</span></span><br><span class=\"line\">        ? <span class=\"string\">&quot;0&quot;</span> + (date.<span class=\"title function_\">getMonth</span>() + <span class=\"number\">1</span>)</span><br><span class=\"line\">        : date.<span class=\"title function_\">getMonth</span>() + <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> day = date.<span class=\"title function_\">getDate</span>() &lt; <span class=\"number\">10</span> ? <span class=\"string\">&quot;0&quot;</span> + date.<span class=\"title function_\">getDate</span>() : date.<span class=\"title function_\">getDate</span>();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> hours = date.<span class=\"title function_\">getHours</span>();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> minutes = date.<span class=\"title function_\">getMinutes</span>();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> seconds = date.<span class=\"title function_\">getSeconds</span>();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> milliseconds = date.<span class=\"title function_\">getMilliseconds</span>();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      date.<span class=\"title function_\">getFullYear</span>() +</span><br><span class=\"line\">      <span class=\"string\">&quot;-&quot;</span> +</span><br><span class=\"line\">      month +</span><br><span class=\"line\">      <span class=\"string\">&quot;-&quot;</span> +</span><br><span class=\"line\">      day +</span><br><span class=\"line\">      <span class=\"string\">&quot; &quot;</span> +</span><br><span class=\"line\">      hours +</span><br><span class=\"line\">      <span class=\"string\">&quot;:&quot;</span> +</span><br><span class=\"line\">      minutes +</span><br><span class=\"line\">      <span class=\"string\">&quot;:&quot;</span> +</span><br><span class=\"line\">      seconds +</span><br><span class=\"line\">      <span class=\"string\">&quot;.&quot;</span> +</span><br><span class=\"line\">      milliseconds</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span> (ex) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["JavaScript"]},{"title":"C语言杂记","url":"https://fanhua.tech/2016/03/11/C语言杂记/","content":"<h4 id=\"0x03-查找算法之折半查找-2016-年-3-月-18-日-16-46-13\"><a href=\"#0x03-查找算法之折半查找-2016-年-3-月-18-日-16-46-13\" class=\"headerlink\" title=\"0x03.查找算法之折半查找-2016 年 3 月 18 日 16:46:13\"></a>0x03.查找算法之折半查找-2016 年 3 月 18 日 16:46:13</h4><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//a[] 数组</span></span><br><span class=\"line\"><span class=\"comment\">//len数组长度</span></span><br><span class=\"line\"><span class=\"comment\">//key要查的值</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">BinarySearch</span><span class=\"params\">(<span class=\"type\">int</span> a[], <span class=\"type\">int</span> len, <span class=\"type\">int</span> key)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> low = <span class=\"number\">0</span>, high = len - <span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (a[low]==key)\t<span class=\"comment\">//恰好等于数组第一个</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> low;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (a[high] == key)\t<span class=\"comment\">//等于数组最大一个</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> high;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (low &lt;= high) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"type\">int</span> mid = (low + ((high - low) / <span class=\"number\">2</span>));<span class=\"comment\">// (low + high) / 2 会有整数溢出问题</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (a[mid] == key)\t<span class=\"comment\">//如果中间值恰好等于查找值 则返回</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> mid;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (key &gt; a[mid])\t<span class=\"comment\">//如果查找的值大于中间值 则在[mid+1,high]区间找</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tlow = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"comment\">// 如果查找的值小于中间值 则在[low, mid-1]区间找</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\thigh = mid - <span class=\"number\">1</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">-1</span>;\t<span class=\"comment\">//没有找到返回-1</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"0x02-获取数组长度\"><a href=\"#0x02-获取数组长度\" class=\"headerlink\" title=\"0x02.获取数组长度\"></a>0x02.获取数组长度</h4><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GET_ARRAY_LEN(array,len)&#123;len = (sizeof(array) / sizeof(array[0]));&#125;\t<span class=\"comment\">//获取数组长度</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//用法</span></span><br><span class=\"line\"><span class=\"type\">int</span> len;</span><br><span class=\"line\"><span class=\"type\">int</span> a[] = &#123;<span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">66</span>&#125;;</span><br><span class=\"line\">GET_ARRAY_LEN(a, len);</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"0x01-LINUX-下编译运行指令\"><a href=\"#0x01-LINUX-下编译运行指令\" class=\"headerlink\" title=\"0x01.LINUX 下编译运行指令\"></a>0x01.LINUX 下编译运行指令</h4><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc -o hello hello.c\t//gcc c; hello.c是源文件; -o hello 代表生成hello 如果不用-o会默认生成a.out</span><br><span class=\"line\">g++ -o hello hello.c\t//g++ c++;</span><br><span class=\"line\"></span><br><span class=\"line\">./hello\t\t//运行hello</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"0x00-”-”和”-gt-”区别\"><a href=\"#0x00-”-”和”-gt-”区别\" class=\"headerlink\" title=\"0x00.”.”和”-&gt;”区别\"></a>0x00.”.”和”-&gt;”区别</h4><p>-&gt;是指针指向其成员的运算符<br>.是结构体的成员运算符 如:</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">A</span></span></span><br><span class=\"line\"><span class=\"class\">&#123;</span></span><br><span class=\"line\">   <span class=\"type\">int</span> a;</span><br><span class=\"line\">   <span class=\"type\">int</span> b;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">A *point = <span class=\"built_in\">malloc</span>(<span class=\"keyword\">sizeof</span>(<span class=\"keyword\">struct</span> A));</span><br><span class=\"line\">point-&gt;a = <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">A object;</span><br><span class=\"line\">object.a = <span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["C","Cpp"]},{"title":"Sublime Text","url":"https://fanhua.tech/2016/02/17/Sublime-Text/","content":"<h4 id=\"0x02-Sublime-Text-2-Package-Control\"><a href=\"#0x02-Sublime-Text-2-Package-Control\" class=\"headerlink\" title=\"0x02.Sublime-Text-2-Package Control\"></a>0x02.Sublime-Text-2-Package Control</h4><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import urllib2,os,hashlib; h = <span class=\"string\">&#x27;2915d1851351e5ee549c20394736b442&#x27;</span> + <span class=\"string\">&#x27;8bc59f460fa1548d1514676163dafc88&#x27;</span>; pf = <span class=\"string\">&#x27;Package Control.sublime-package&#x27;</span>; ipp = sublime.installed_packages_path(); os.makedirs( ipp ) <span class=\"keyword\">if</span> not os.path.exists(ipp) <span class=\"keyword\">else</span> None; urllib2.install_opener( urllib2.build_opener( urllib2.ProxyHandler()) ); by = urllib2.urlopen( <span class=\"string\">&#x27;http://packagecontrol.io/&#x27;</span> + pf.replace(<span class=\"string\">&#x27; &#x27;</span>, <span class=\"string\">&#x27;%20&#x27;</span>)).read(); dh = hashlib.sha256(by).hexdigest(); open( os.path.join( ipp, pf), <span class=\"string\">&#x27;wb&#x27;</span> ).write(by) <span class=\"keyword\">if</span> dh == h <span class=\"keyword\">else</span> None; print(<span class=\"string\">&#x27;Error validating download (got %s instead of %s), please try manual install&#x27;</span> % (dh, h) <span class=\"keyword\">if</span> dh != h <span class=\"keyword\">else</span> <span class=\"string\">&#x27;Please restart Sublime Text to finish installation&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"0x01-Sublime-Text-3-Package-Control\"><a href=\"#0x01-Sublime-Text-3-Package-Control\" class=\"headerlink\" title=\"0x01.Sublime-Text-3-Package Control\"></a>0x01.Sublime-Text-3-Package Control</h4><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import urllib.request,os,hashlib; h = <span class=\"string\">&#x27;2915d1851351e5ee549c20394736b442&#x27;</span> + <span class=\"string\">&#x27;8bc59f460fa1548d1514676163dafc88&#x27;</span>; pf = <span class=\"string\">&#x27;Package Control.sublime-package&#x27;</span>; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); by = urllib.request.urlopen( <span class=\"string\">&#x27;http://packagecontrol.io/&#x27;</span> + pf.replace(<span class=\"string\">&#x27; &#x27;</span>, <span class=\"string\">&#x27;%20&#x27;</span>)).read(); dh = hashlib.sha256(by).hexdigest(); print(<span class=\"string\">&#x27;Error validating download (got %s instead of %s), please try manual install&#x27;</span> % (dh, h)) <span class=\"keyword\">if</span> dh != h <span class=\"keyword\">else</span> open(os.path.join( ipp, pf), <span class=\"string\">&#x27;wb&#x27;</span> ).write(by)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"0x00-Sublime-Text-3-3103-注册码\"><a href=\"#0x00-Sublime-Text-3-3103-注册码\" class=\"headerlink\" title=\"0x00.Sublime-Text-3-3103 注册码\"></a>0x00.Sublime-Text-3-3103 注册码</h4><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">—– BEGIN LICENSE —–</span><br><span class=\"line\">Free Communities Consultoria em Informática Ltda</span><br><span class=\"line\">Single User License</span><br><span class=\"line\">EA7E-<span class=\"number\">801302</span></span><br><span class=\"line\">C154C122 <span class=\"number\">4</span>EFA4415 F1AAEBCC <span class=\"number\">315</span>F3A7D</span><br><span class=\"line\"><span class=\"number\">2580735</span>A <span class=\"number\">7955</span>AA57 <span class=\"number\">850</span>ABD88 <span class=\"number\">72</span>A1DDD8</span><br><span class=\"line\"><span class=\"number\">8</span>D2CE060 CF980C29 <span class=\"number\">890</span>D74F2 <span class=\"number\">53131895</span></span><br><span class=\"line\"><span class=\"number\">281</span>E324E <span class=\"number\">98</span>EA1FEF <span class=\"number\">7</span>FF69A12 <span class=\"number\">17</span>CA7784</span><br><span class=\"line\"><span class=\"number\">490862</span>AF <span class=\"number\">833</span>E133D FD22141D D8C89B94</span><br><span class=\"line\"><span class=\"number\">4</span>C10A4D2 <span class=\"number\">24693</span>D70 AE37C18F <span class=\"number\">72</span>EF0BE5</span><br><span class=\"line\"><span class=\"number\">1</span>ED60704 <span class=\"number\">651</span>BC71F <span class=\"number\">16</span>CA1B77 <span class=\"number\">496</span>A0B19</span><br><span class=\"line\"><span class=\"number\">463</span>EDFF9 <span class=\"number\">6</span>BEB1861 CA5BAD96 <span class=\"number\">89</span>D0118E</span><br><span class=\"line\">—— END LICENSE ——</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Sublime Text"]},{"title":"(转)VIM命令","url":"https://fanhua.tech/2016/02/14/转-VIM命令/","content":"<p>以下内容转自<a href=\"http://www.oschina.net/news/43167/130-essential-vim-commands\">http://www.oschina.net/news/43167/130-essential-vim-commands</a></p>\n<h4 id=\"0x00-基础\"><a href=\"#0x00-基础\" class=\"headerlink\" title=\"0x00.基础\"></a>0x00.基础</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:e filename</td>\n<td align=\"right\">Open filename for edition</td>\n</tr>\n<tr>\n<td>:w</td>\n<td align=\"right\">Save file</td>\n</tr>\n<tr>\n<td>:q</td>\n<td align=\"right\">Exit Vim</td>\n</tr>\n<tr>\n<td>:q!</td>\n<td align=\"right\">Quit without saving</td>\n</tr>\n<tr>\n<td>:x</td>\n<td align=\"right\">Write file (if changes has been made) and exit</td>\n</tr>\n<tr>\n<td>:sav filename</td>\n<td align=\"right\">Saves file as filename</td>\n</tr>\n<tr>\n<td>.</td>\n<td align=\"right\">Repeats the last change made in normal mode</td>\n</tr>\n<tr>\n<td>5.</td>\n<td align=\"right\">Repeats 5 times the last change made in normal mode</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x01-在文件中移动\"><a href=\"#0x01-在文件中移动\" class=\"headerlink\" title=\"0x01.在文件中移动\"></a>0x01.在文件中移动</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>k or Up Arrow</td>\n<td align=\"right\">move the cursor up one line</td>\n</tr>\n<tr>\n<td>j or Down Arrow</td>\n<td align=\"right\">move the cursor down one line</td>\n</tr>\n<tr>\n<td>e</td>\n<td align=\"right\">move the cursor to the end of the word</td>\n</tr>\n<tr>\n<td>b</td>\n<td align=\"right\">move the cursor to the begining of the word</td>\n</tr>\n<tr>\n<td>0</td>\n<td align=\"right\">move the cursor to the begining of the line</td>\n</tr>\n<tr>\n<td>G</td>\n<td align=\"right\">move the cursor to the end of the line</td>\n</tr>\n<tr>\n<td>gg</td>\n<td align=\"right\">move the cursor to the begining of the file</td>\n</tr>\n<tr>\n<td>L</td>\n<td align=\"right\">move the cursor to the end of the file</td>\n</tr>\n<tr>\n<td>:59</td>\n<td align=\"right\">move cursor to line 59. Replace 59 by the desired line number.</td>\n</tr>\n<tr>\n<td>20 &brvbar;</td>\n<td align=\"right\">move cursor to column 20.</td>\n</tr>\n<tr>\n<td>%</td>\n<td align=\"right\">Move cursor to matching parenthesis</td>\n</tr>\n<tr>\n<td>[[</td>\n<td align=\"right\">Jump to function start</td>\n</tr>\n<tr>\n<td>[{</td>\n<td align=\"right\">Jump to block start</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x02-剪切、复制和粘贴\"><a href=\"#0x02-剪切、复制和粘贴\" class=\"headerlink\" title=\"0x02.剪切、复制和粘贴\"></a>0x02.剪切、复制和粘贴</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>y</td>\n<td align=\"right\">Copy the selected text to clipboard</td>\n</tr>\n<tr>\n<td>p</td>\n<td align=\"right\">Paste clipboard</td>\n</tr>\n<tr>\n<td>dd</td>\n<td align=\"right\">Cut current line</td>\n</tr>\n<tr>\n<td>yy</td>\n<td align=\"right\">Copy current line</td>\n</tr>\n<tr>\n<td>y$</td>\n<td align=\"right\">Copy to end of line</td>\n</tr>\n<tr>\n<td>D</td>\n<td align=\"right\">Cut to end of line</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x03-搜索\"><a href=\"#0x03-搜索\" class=\"headerlink\" title=\"0x03.搜索\"></a>0x03.搜索</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>/word</td>\n<td align=\"right\">Search word from top to bottom</td>\n</tr>\n<tr>\n<td>?word</td>\n<td align=\"right\">Search word from bottom to top</td>\n</tr>\n<tr>\n<td>*</td>\n<td align=\"right\">Search the word under cursor</td>\n</tr>\n<tr>\n<td>/\\cstring</td>\n<td align=\"right\">Search STRING or string, case insensitive</td>\n</tr>\n<tr>\n<td>/jo[ha]n</td>\n<td align=\"right\">Search john or joan</td>\n</tr>\n<tr>\n<td>/&lt; the</td>\n<td align=\"right\">Search the, theatre or then</td>\n</tr>\n<tr>\n<td>/the&gt;</td>\n<td align=\"right\">Search the or breathe</td>\n</tr>\n<tr>\n<td>/&lt; the&gt;</td>\n<td align=\"right\">Search the</td>\n</tr>\n<tr>\n<td>/&lt; ¦.&gt;</td>\n<td align=\"right\">Search all words of 4 letters</td>\n</tr>\n<tr>\n<td>// Search</td>\n<td align=\"right\">fred but not alfred or frederick</td>\n</tr>\n<tr>\n<td>/fred\\ \\ &brvbar; joe</td>\n<td align=\"right\">Search fred or joe</td>\n</tr>\n<tr>\n<td>/&lt;\\d\\d\\d\\d&gt;</td>\n<td align=\"right\">Search exactly 4 digits</td>\n</tr>\n<tr>\n<td>/^\\n{3}</td>\n<td align=\"right\">Find 3 empty lines</td>\n</tr>\n<tr>\n<td>:bufdo /searchstr/</td>\n<td align=\"right\">Search in all open files</td>\n</tr>\n<tr>\n<td>bufdo %s/something/somethingelse/g</td>\n<td align=\"right\">Search something in all the open buffers and replace it with somethingelse</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x04-替换\"><a href=\"#0x04-替换\" class=\"headerlink\" title=\"0x04.替换\"></a>0x04.替换</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:%s/old/new/g</td>\n<td align=\"right\">Replace all occurences of old by new in file</td>\n</tr>\n<tr>\n<td>:%s/onward/forward/gi</td>\n<td align=\"right\">Replace onward by forward, case unsensitive</td>\n</tr>\n<tr>\n<td>:%s/old/new/gc</td>\n<td align=\"right\">Replace all occurences with confirmation</td>\n</tr>\n<tr>\n<td>:2,35s/old/new/g</td>\n<td align=\"right\">Replace all occurences between lines 2 and 35</td>\n</tr>\n<tr>\n<td>:5,$s/old/new/g</td>\n<td align=\"right\">Replace all occurences from line 5 to EOF</td>\n</tr>\n<tr>\n<td>:%s/^/hello/g</td>\n<td align=\"right\">Replace the begining of each line by hello</td>\n</tr>\n<tr>\n<td>:%s/$/Harry/g</td>\n<td align=\"right\">Replace the end of each line by Harry</td>\n</tr>\n<tr>\n<td>:%s/onward/forward/gi</td>\n<td align=\"right\">Replace onward by forward, case unsensitive</td>\n</tr>\n<tr>\n<td>:%s/ *$//g</td>\n<td align=\"right\">Delete all white spaces</td>\n</tr>\n<tr>\n<td>:g/string/d</td>\n<td align=\"right\">Delete all lines containing string</td>\n</tr>\n<tr>\n<td>:v/string/d</td>\n<td align=\"right\">Delete all lines containing which didn’t contain string</td>\n</tr>\n<tr>\n<td>:s/Bill/Steve/</td>\n<td align=\"right\">Replace the first occurence of Bill by Steve in current line</td>\n</tr>\n<tr>\n<td>:s/Bill/Steve/g</td>\n<td align=\"right\">Replace Bill by Steve in current line</td>\n</tr>\n<tr>\n<td>:%s/Bill/Steve/g</td>\n<td align=\"right\">Replace Bill by Steve in all the file</td>\n</tr>\n<tr>\n<td>:%s/^M//g</td>\n<td align=\"right\">Delete DOS carriage returns (^M)</td>\n</tr>\n<tr>\n<td>:%s/\\r/\\r/g</td>\n<td align=\"right\">Transform DOS carriage returns in returns</td>\n</tr>\n<tr>\n<td>:%s#&lt;[^&gt;]+&gt;##g</td>\n<td align=\"right\">Delete HTML tags but keeps text</td>\n</tr>\n<tr>\n<td>:%s/^(.*)\\n\\1$/\\1/</td>\n<td align=\"right\">Delete lines which appears twice</td>\n</tr>\n<tr>\n<td>Ctrl+a</td>\n<td align=\"right\">Increment number under the cursor</td>\n</tr>\n<tr>\n<td>Ctrl+x</td>\n<td align=\"right\">Decrement number under cursor</td>\n</tr>\n<tr>\n<td>ggVGg?</td>\n<td align=\"right\">Change text to Rot13</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x05-大小写\"><a href=\"#0x05-大小写\" class=\"headerlink\" title=\"0x05.大小写\"></a>0x05.大小写</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Vu</td>\n<td align=\"right\">Lowercase line</td>\n</tr>\n<tr>\n<td>VU</td>\n<td align=\"right\">Uppercase line</td>\n</tr>\n<tr>\n<td>g~~</td>\n<td align=\"right\">Invert case</td>\n</tr>\n<tr>\n<td>vEU</td>\n<td align=\"right\">Switch word to uppercase</td>\n</tr>\n<tr>\n<td>vE~</td>\n<td align=\"right\">Modify word case</td>\n</tr>\n<tr>\n<td>ggguG</td>\n<td align=\"right\">Set all text to lowercase</td>\n</tr>\n<tr>\n<td>gggUG</td>\n<td align=\"right\">Set all text to uppercase</td>\n</tr>\n<tr>\n<td>:set ignorecase</td>\n<td align=\"right\">Ignore case in searches</td>\n</tr>\n<tr>\n<td>:set smartcase</td>\n<td align=\"right\">Ignore case in searches excepted if an uppercase letter is used</td>\n</tr>\n<tr>\n<td>:%s/&lt;./\\u&amp;/g</td>\n<td align=\"right\">Sets first letter of each word to uppercase</td>\n</tr>\n<tr>\n<td>:%s/&lt;./\\l&amp;/g</td>\n<td align=\"right\">Sets first letter of each word to lowercase</td>\n</tr>\n<tr>\n<td>:%s/.*/\\u&amp;</td>\n<td align=\"right\">Sets first letter of each line to uppercase</td>\n</tr>\n<tr>\n<td>:%s/.*/\\l&amp;</td>\n<td align=\"right\">Sets first letter of each line to lowercase</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x06-读写文件\"><a href=\"#0x06-读写文件\" class=\"headerlink\" title=\"0x06.读写文件\"></a>0x06.读写文件</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:1,10 w outfile</td>\n<td align=\"right\">Saves lines 1 to 10 in outfile</td>\n</tr>\n<tr>\n<td>:1,10 w &gt;&gt; outfile</td>\n<td align=\"right\">Appends lines 1 to 10 to outfile</td>\n</tr>\n<tr>\n<td>:r infile</td>\n<td align=\"right\">Insert the content of infile</td>\n</tr>\n<tr>\n<td>:23r infile</td>\n<td align=\"right\">Insert the content of infile under line 23</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x07-文件浏览器\"><a href=\"#0x07-文件浏览器\" class=\"headerlink\" title=\"0x07.文件浏览器\"></a>0x07.文件浏览器</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:e .</td>\n<td align=\"right\">Open integrated file explorer</td>\n</tr>\n<tr>\n<td>:Sex</td>\n<td align=\"right\">Split window and open integrated file explorer</td>\n</tr>\n<tr>\n<td>:Sex!</td>\n<td align=\"right\">Same as :Sex but split window vertically</td>\n</tr>\n<tr>\n<td>:browse e</td>\n<td align=\"right\">Graphical file explorer</td>\n</tr>\n<tr>\n<td>:ls</td>\n<td align=\"right\">List buffers</td>\n</tr>\n<tr>\n<td>:cd ..</td>\n<td align=\"right\">Move to parent directory</td>\n</tr>\n<tr>\n<td>:args</td>\n<td align=\"right\">List files</td>\n</tr>\n<tr>\n<td>:args *.php</td>\n<td align=\"right\">Open file list</td>\n</tr>\n<tr>\n<td>:grep expression *.php</td>\n<td align=\"right\">Returns a list of .php files contening expression</td>\n</tr>\n<tr>\n<td>gf</td>\n<td align=\"right\">Open file name under cursor</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x08-和-Unix-系统交互\"><a href=\"#0x08-和-Unix-系统交互\" class=\"headerlink\" title=\"0x08.和 Unix 系统交互\"></a>0x08.和 Unix 系统交互</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:!pwd</td>\n<td align=\"right\">Execute the pwd unix command, then returns to Vi</td>\n</tr>\n<tr>\n<td>!!pwd</td>\n<td align=\"right\">Execute the pwd unix command and insert output in file</td>\n</tr>\n<tr>\n<td>:sh</td>\n<td align=\"right\">Temporary returns to Unix</td>\n</tr>\n<tr>\n<td>$exit</td>\n<td align=\"right\">Retourns to Vi</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x09-对齐\"><a href=\"#0x09-对齐\" class=\"headerlink\" title=\"0x09.对齐\"></a>0x09.对齐</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:%!fmt</td>\n<td align=\"right\">Align all lines</td>\n</tr>\n<tr>\n<td>!}fmt</td>\n<td align=\"right\">Align all lines at the current position</td>\n</tr>\n<tr>\n<td>5!!fmt</td>\n<td align=\"right\">Align the next 5 lines</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x0A-Tabs-Windows\"><a href=\"#0x0A-Tabs-Windows\" class=\"headerlink\" title=\"0x0A.Tabs/Windows\"></a>0x0A.Tabs/Windows</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:tabnew</td>\n<td align=\"right\">Creates a new tab</td>\n</tr>\n<tr>\n<td>gt</td>\n<td align=\"right\">Show next tab</td>\n</tr>\n<tr>\n<td>:tabfirst</td>\n<td align=\"right\">Show first tab</td>\n</tr>\n<tr>\n<td>:tablast</td>\n<td align=\"right\">Show last tab</td>\n</tr>\n<tr>\n<td>:tabm n(position)</td>\n<td align=\"right\">Rearrange tabs</td>\n</tr>\n<tr>\n<td>:tabdo %s/foo/bar/g</td>\n<td align=\"right\">Execute a command in all tabs</td>\n</tr>\n<tr>\n<td>:tab ball</td>\n<td align=\"right\">Puts all open files in tabs</td>\n</tr>\n<tr>\n<td>:new abc.txt</td>\n<td align=\"right\">Edit abc.txt in new window</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x0B-分屏显示\"><a href=\"#0x0B-分屏显示\" class=\"headerlink\" title=\"0x0B.分屏显示\"></a>0x0B.分屏显示</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:e filename</td>\n<td align=\"right\">Edit filename in current window</td>\n</tr>\n<tr>\n<td>:split filename</td>\n<td align=\"right\">Split the window and open filename</td>\n</tr>\n<tr>\n<td>ctrl-w up arrow</td>\n<td align=\"right\">Puts cursor in top window</td>\n</tr>\n<tr>\n<td>ctrl-w ctrl-w</td>\n<td align=\"right\">Puts cursor in next window</td>\n</tr>\n<tr>\n<td>ctrl-w_</td>\n<td align=\"right\">Maximize current window vertically</td>\n</tr>\n<tr>\n<td>ctrl-w &brvbar;</td>\n<td align=\"right\">Maximize current window horizontally</td>\n</tr>\n<tr>\n<td>ctrl-w=</td>\n<td align=\"right\">Gives the same size to all windows</td>\n</tr>\n<tr>\n<td>10 ctrl-w+</td>\n<td align=\"right\">Add 10 lines to current window</td>\n</tr>\n<tr>\n<td>:vsplit file</td>\n<td align=\"right\">Split window vertically</td>\n</tr>\n<tr>\n<td>:sview file</td>\n<td align=\"right\">Same as :split in readonly mode</td>\n</tr>\n<tr>\n<td>:hide</td>\n<td align=\"right\">Close current window</td>\n</tr>\n<tr>\n<td>:­nly</td>\n<td align=\"right\">Close all windows, excepted current</td>\n</tr>\n<tr>\n<td>:b 2</td>\n<td align=\"right\">Open #2 in this window</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x0C-自动完成\"><a href=\"#0x0C-自动完成\" class=\"headerlink\" title=\"0x0C.自动完成\"></a>0x0C.自动完成</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Ctrl+n Ctrl+p (in insert mode)</td>\n<td align=\"right\">Complete word</td>\n</tr>\n<tr>\n<td>Ctrl+x Ctrl+l</td>\n<td align=\"right\">Complete line</td>\n</tr>\n<tr>\n<td>:set dictionary=dict</td>\n<td align=\"right\">Define dict as a dictionnary</td>\n</tr>\n<tr>\n<td>Ctrl+x Ctrl+k</td>\n<td align=\"right\">Complete with dictionnary</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x0D-Marks\"><a href=\"#0x0D-Marks\" class=\"headerlink\" title=\"0x0D.Marks\"></a>0x0D.Marks</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>m {a-z}</td>\n<td align=\"right\">Marks current position as {a-z}</td>\n</tr>\n<tr>\n<td>‘ {a-z}</td>\n<td align=\"right\">Move to position {a-z}</td>\n</tr>\n<tr>\n<td>‘’</td>\n<td align=\"right\">Move to previous position</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x0E-缩写\"><a href=\"#0x0E-缩写\" class=\"headerlink\" title=\"0x0E.缩写\"></a>0x0E.缩写</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:ab mail <a href=\"mailto:&#x6d;&#x61;&#105;&#x6c;&#64;&#112;&#x72;&#x6f;&#118;&#105;&#x64;&#x65;&#114;&#46;&#x6f;&#x72;&#x67;\">&#x6d;&#x61;&#105;&#x6c;&#64;&#112;&#x72;&#x6f;&#118;&#105;&#x64;&#x65;&#114;&#46;&#x6f;&#x72;&#x67;</a></td>\n<td align=\"right\">Define mail as abbreviation of <a href=\"mailto:&#109;&#x61;&#x69;&#x6c;&#x40;&#112;&#x72;&#111;&#118;&#105;&#100;&#x65;&#x72;&#46;&#x6f;&#114;&#103;\">&#109;&#x61;&#x69;&#x6c;&#x40;&#112;&#x72;&#111;&#118;&#105;&#100;&#x65;&#x72;&#46;&#x6f;&#114;&#103;</a></td>\n</tr>\n</tbody></table>\n<h4 id=\"0x0F-文本缩进\"><a href=\"#0x0F-文本缩进\" class=\"headerlink\" title=\"0x0F.文本缩进\"></a>0x0F.文本缩进</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:set autoindent</td>\n<td align=\"right\">Turn on auto-indent</td>\n</tr>\n<tr>\n<td>:set smartindent</td>\n<td align=\"right\">Turn on intelligent auto-indent</td>\n</tr>\n<tr>\n<td>:set shiftwidth=4</td>\n<td align=\"right\">Defines 4 spaces as indent size</td>\n</tr>\n<tr>\n<td>ctrl-t, ctrl-d</td>\n<td align=\"right\">Indent/un-indent in insert mode</td>\n</tr>\n<tr>\n<td>&gt;&gt;</td>\n<td align=\"right\">Indent</td>\n</tr>\n<tr>\n<td>&lt;&lt;</td>\n<td align=\"right\">Un-indent</td>\n</tr>\n<tr>\n<td>=%</td>\n<td align=\"right\">Indent the code between parenthesis</td>\n</tr>\n<tr>\n<td>1GVG=</td>\n<td align=\"right\">Indent the whole file</td>\n</tr>\n</tbody></table>\n<h4 id=\"0x10-语法高亮\"><a href=\"#0x10-语法高亮\" class=\"headerlink\" title=\"0x10.语法高亮\"></a>0x10.语法高亮</h4><table>\n<thead>\n<tr>\n<th>命令</th>\n<th align=\"right\">用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>:syntax on</td>\n<td align=\"right\">Turn on syntax highlighting</td>\n</tr>\n<tr>\n<td>:syntax off</td>\n<td align=\"right\">Turn off syntax highlighting</td>\n</tr>\n<tr>\n<td>:set syntax=perl</td>\n<td align=\"right\">Force syntax highlighting</td>\n</tr>\n</tbody></table>\n","categories":[],"tags":["Vim"]},{"title":"Windows强制修改密码方法","url":"https://fanhua.tech/2016/02/04/Windows强制修改密码方法/","content":"<h5 id=\"0000\"><a href=\"#0000\" class=\"headerlink\" title=\"0000\"></a>0000</h5><p>在开机时，按下 F8 进入”带命令提示符的安全”模式<br>输入”NET USER+用户名+123456/ADD”可把某用户的密码强行设置为”123456″</p>\n<h5 id=\"0001\"><a href=\"#0001\" class=\"headerlink\" title=\"0001\"></a>0001</h5><p>如用户忘记登入密码可按下列方法解决</p>\n<blockquote>\n<ul>\n<li>在计算机启动时按〔F8〕及选〔Safe Mode With Command Prompt〕</li>\n<li>选〔Administrator〕后便会跳出〔Command Prompt〕的窗口</li>\n<li>用〔Net〕的命令增加一个用户，例：增加一个用户名为 alanhkg888，命令语法如下：</li>\n</ul>\n</blockquote>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">net</span> user alanhkg888/add</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>将新增用户提升至 Administrator 的权力，例：提升刚才增加用户 alanhkg888 的权力，命令语法如下</li>\n</ul>\n</blockquote>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">net</span> localgroup administrators alanhkg888/add</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>完成上列步骤后重新启动计算机，在启动画面上便增加了一个用户 alanhkg888 了，选 alanhkg888 进入</li>\n<li>登入后在〔控制台〕→〔使用者账户〕→ 选忘记密码的用户，然后选〔移除密码〕后〔等出〕</li>\n<li>在登入画面中选原来的用户便可不需密码情况下等入(因已移除了)</li>\n<li>删除刚才新增的用户，在〔控制台〕→〔使用者账户〕→ 选〔alanhkg888〕，然后选〔移除账户〕便可</li>\n</ul>\n</blockquote>\n<p><em>不适用于忘记安装时所设定〔administrator〕的密码</em></p>\n<h5 id=\"0010\"><a href=\"#0010\" class=\"headerlink\" title=\"0010\"></a>0010</h5><blockquote>\n<ul>\n<li>重新启动 Windows XP，在启动画面出现后的瞬间，按 F8，选择”带命令行的安全模式”运行。</li>\n<li>运行过程停止时，系统列出了超级用户 administrator 和本地用户 owner 的选择菜单，鼠标点击 administrator，进入命令行模式。</li>\n<li>键入命令：”net user owner 123456/add”，强制性将 OWNER 用户的口令更改为”123456″。若想在此添加某一用户(如：用户名为 abcdef，口令为 123456) 的话,请键入”net user abcdef 123456/add”,添加后可用”net localgroup administrators abcdef/add”命令将用户提升为系统管理组 administrators 用户,具有超级权限。</li>\n<li>DOS 下删 windows\\system32\\config 里面的 SAM 档就可以了</li>\n<li>开机后按键盘的 Delete 键进入 BIOS 界面。找到 User Password 选项，其默认为关闭状态。启动并输入用户密码(1~8 位，英文或者数字)。计算机提示请再输入一遍以确认密码无误，保存退出后重新启动机器，这时就会在开机时出现密码菜单</li>\n</ul>\n</blockquote>\n<h5 id=\"0011\"><a href=\"#0011\" class=\"headerlink\" title=\"0011\"></a>0011</h5><p>如果是 FAT32，进入 DOS，删除 c：winntsystem32configsam*.*就可以了。<br>登陆只要输入 administrator 不输密码即可。然后创建一个新的。要是 NTFS 则无效</p>\n<p>另外如果你的系统没有加过微软的输入法补丁的话也可以利用输入法的漏洞去做一个管理员权限账号，<br>具体方法如下：<br>开机后，Win2000 自启动，出现登录窗口，显示用户名，并要求输入密码(当然这时你不会有密码)。<br>这时请将输入焦点置于用户名一项，用 Ctrl+Shift 切换输入法(随便选上一种，只要能出现输入法工具条的就行)。在出现的输入法提示工具条上单击右键，选择帮助，会弹出一个帮助窗口。接下来你需要在这个窗口里找到一个(绿色带下划线)超级链接，并用 SHIFT+鼠标左键单击，打开它会弹出一个 IE 窗口，请在窗口地址栏里输入 c：，到这步你应该很清楚怎么做了。只要点击标准按键的”向上”，会发现你可以进入”控制面板”了，进入后你可以直奔”用户和密码”.</p>\n","categories":[],"tags":["电脑日常"]},{"title":"Windows更改软件默认安装位置","url":"https://fanhua.tech/2016/02/04/Windows更改软件默认安装位置/","content":"<blockquote>\n<ul>\n<li>0000.运行(Windows+R)</li>\n<li>0001.输入”regedit”</li>\n<li>0010.定位到</li>\n</ul>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\windows\\CurrentVersion</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>0011.找到 ProgramFilesDir 键</li>\n<li>0100.双击更改默认值. 如 D:\\Program Files (x86)</li>\n</ul>\n</blockquote>\n","categories":[],"tags":["电脑日常"]},{"title":"Linux初体验之Windows Linux双系统","url":"https://fanhua.tech/2016/01/31/Linux初体验之Windows-Linux双系统/","content":"<h2 id=\"0000-工具\"><a href=\"#0000-工具\" class=\"headerlink\" title=\"0000.工具\"></a>0000.工具</h2><blockquote>\n<ul>\n<li><a href=\"http://www.ezbsystems.com/ultraiso/\">ultraiso</a> 百度下一个</li>\n<li>本文用<a href=\"http://www.linuxmint.com/\">Linux mint</a>发行版</li>\n<li>一个大于等于 4G 的 U 盘</li>\n</ul>\n</blockquote>\n<h2 id=\"0001-写入硬盘映像\"><a href=\"#0001-写入硬盘映像\" class=\"headerlink\" title=\"0001.写入硬盘映像\"></a>0001.写入硬盘映像</h2><blockquote>\n<ul>\n<li>插入 U 盘,打开已经安装好的 Ultraiso,选择下载好的 Linux mint 镜像文件(ISO 扩展名)打开。</li>\n<li>然后,选择菜单栏中”启动”-“写入硬盘镜像”,”硬盘驱动器”选择 U 盘,写入方式”USB_HDD+”,其余默认。</li>\n<li>最后,点击”写入”</li>\n</ul>\n</blockquote>\n<p>![ultraiso](/uploads/Linux 初体验之 Windows Linux 双系统/Linux-install-ultraiso.jpg)<br>![ultraiso](/uploads/Linux 初体验之 Windows Linux 双系统/Linux-install-ultraiso-2.jpg)</p>\n<h2 id=\"0010-为-Linux-mint-分好分区\"><a href=\"#0010-为-Linux-mint-分好分区\" class=\"headerlink\" title=\"0010.为 Linux mint 分好分区\"></a>0010.为 Linux mint 分好分区</h2><p>右键点击 我的电脑,选择 管理,找到 磁盘管理,之后选择 压缩卷,分区大小不能小于 8G<br>![ultraiso](/uploads/Linux 初体验之 Windows Linux 双系统/Linux-install-ultraiso-3.jpg)</p>\n<h2 id=\"0011-设置-BIOS-启动方式为-U-盘启动\"><a href=\"#0011-设置-BIOS-启动方式为-U-盘启动\" class=\"headerlink\" title=\"0011.设置 BIOS 启动方式为 U 盘启动\"></a>0011.设置 BIOS 启动方式为 U 盘启动</h2><p>具体方法 可以百度 google.一般机器重启按 F1/F2/DEL,可以进入设置启动项,设置 USB:”你的 U 盘名字”为第一项,之后会进入 Linux 安装界面</p>\n<h2 id=\"0100-Linux-mint-安装\"><a href=\"#0100-Linux-mint-安装\" class=\"headerlink\" title=\"0100.Linux mint 安装\"></a>0100.Linux mint 安装</h2><p>重启计算机,设置 U 盘为第一启动项之后</p>\n<blockquote>\n<ul>\n<li>进入安装界面,选择第一个<br>![linux](/uploads/Linux 初体验之 Windows Linux 双系统/Linux-install-1.PNG)</li>\n<li>双击 Install Linux Mint<br>![linux](/uploads/Linux 初体验之 Windows Linux 双系统/Linux-install-2.PNG)</li>\n<li>安装类型,选”其他选项”,<br>![linux](/uploads/Linux 初体验之 Windows Linux 双系统/Linux-install-3.PNG)</li>\n<li>分区,分两个就好,一个用于交换空间,也就是内存不足时使用的,不用太大.另一个选”Ext4 日志文件系统”,挂载点为’/‘<br>![linux](/uploads/Linux 初体验之 Windows Linux 双系统/Linux-install-4.PNG)<br>![linux](/uploads/Linux 初体验之 Windows Linux 双系统/Linux-install-5.PNG)</li>\n<li>设置用户名密码<br>![linux](/uploads/Linux 初体验之 Windows Linux 双系统/Linux-install-6.PNG)</li>\n<li>安装完后,重启计算机,出现如下图后则表明安装完成.<br>第一个进入 linux,最后一个进入 windows<br>![linux](/uploads/Linux 初体验之 Windows Linux 双系统/Linux-install-7.PNG)</li>\n</ul>\n</blockquote>\n","categories":[],"tags":["Linux"]},{"title":"Github hexo+Next搭建个人静态博客","url":"https://fanhua.tech/2016/01/28/Github-hexo-Next搭建个人静态博客/","content":"<h2 id=\"0000-环境配置\"><a href=\"#0000-环境配置\" class=\"headerlink\" title=\"0000.环境配置\"></a>0000.环境配置</h2><h3 id=\"0x00-windows-下\"><a href=\"#0x00-windows-下\" class=\"headerlink\" title=\"0x00.windows 下\"></a>0x00.windows 下</h3><blockquote>\n<ul>\n<li><a href=\"https://nodejs.org/en/\">Node.js</a>(必须) 一路默认安装即可。</li>\n<li>安装<a href=\"http://git-scm.com/download/\">Git</a>(必须) 一路默认安装即可。</li>\n<li><a href=\"http://github.com/\">Github</a>账号(必须)</li>\n</ul>\n</blockquote>\n<h3 id=\"0x01-linux-下-Linux-mint\"><a href=\"#0x01-linux-下-Linux-mint\" class=\"headerlink\" title=\"0x01.linux 下(Linux mint)\"></a>0x01.linux 下(Linux mint)</h3><blockquote>\n<ul>\n<li><a href=\"http://git-scm.com/download\">Git</a>安装</li>\n</ul>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install git</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li><a href=\"https://nodejs.org/en/\">Node.js</a>下载 然后打开终端输入以下命令进行解压</li>\n</ul>\n</blockquote>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tar -zxf node-vxxx.tar.gz</span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> node-vxxx</span><br><span class=\"line\">$ sudo cp -r bin/* /usr/local/bin/</span><br><span class=\"line\">$ sudo cp -r lib/* /usr/local/lib/</span><br><span class=\"line\">$ sudo cp -r include/* /usr/local/include/</span><br><span class=\"line\">Nodejs安装完成</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"0001-安装-Hexo\"><a href=\"#0001-安装-Hexo\" class=\"headerlink\" title=\"0001.安装 Hexo\"></a>0001.安装 Hexo</h2><p>nodejs 和 git 安装完成后，打开’git bash’安装 hexo</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x00-Start\"><a href=\"#0x00-Start\" class=\"headerlink\" title=\"0x00.Start\"></a>0x00.Start</h3><p>新建一个文件夹(如 E:\\Hexo)，在此文件夹中执行命令</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init</span><br><span class=\"line\">npm install</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x01-本地查看\"><a href=\"#0x01-本地查看\" class=\"headerlink\" title=\"0x01.本地查看\"></a>0x01.本地查看</h3><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo server //(等价的命令)hexo s</span><br></pre></td></tr></table></figure>\n\n<p>后在浏览器中输入</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://localhost:4000/</span><br></pre></td></tr></table></figure>\n\n<p>此时，会有一篇文章 hello world,对应的文件为 E:\\Hexo\\source_posts\\hello-world.md<br>文章用<a href=\"https://www.zybuluo.com/mdeditor\">markdown</a>语法写.</p>\n<h3 id=\"0x02-新建文章\"><a href=\"#0x02-新建文章\" class=\"headerlink\" title=\"0x02.新建文章\"></a>0x02.新建文章</h3><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new &quot;New article&quot;</span><br></pre></td></tr></table></figure>\n\n<p>会新建一个名为’New article’的文章，执行以下命令之后查看。</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo generate   //生成静态网页以及css js文件</span><br><span class=\"line\">hexo server</span><br></pre></td></tr></table></figure>\n\n<p>至此，本地博客搭建完毕。下一步移植到 Github</p>\n<h2 id=\"0010-Github\"><a href=\"#0010-Github\" class=\"headerlink\" title=\"0010.Github\"></a>0010.Github</h2><p>新建 repository,项目名必须是:name.github.io(name 是你的账号名)。<br>我的账号名是 cnfanhua,新建的项目名也就是 cnfanhua.github.io</p>\n<h2 id=\"0011-部署\"><a href=\"#0011-部署\" class=\"headerlink\" title=\"0011.部署\"></a>0011.部署</h2><p>在你的 hexo 文件夹中有个重要的文件<font color='#f4871f'>_config.yml</font>,打开编辑,把’userame’换成你的账号名</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy:</span><br><span class=\"line\">  type: git</span><br><span class=\"line\">  repository: https:<span class=\"comment\">//github.com/userame/username.github.io.git</span></span><br><span class=\"line\">  branch: master</span><br></pre></td></tr></table></figure>\n\n<p>执行下列命令后部署(部署前，需要配置 SSh，否则失败)。</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo generate</span><br><span class=\"line\">hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>至此，个人博客搭建完成。<br>注意:每次修改后 需要 hexo g 命令保存 然后 hexo d 命令上传</p>\n<h3 id=\"0x00-外配置-SSh\"><a href=\"#0x00-外配置-SSh\" class=\"headerlink\" title=\"0x00.外配置 SSh\"></a>0x00.外配置 SSh</h3><p>打开 git bash</p>\n<blockquote>\n<ul>\n<li>设置 username 和 email</li>\n</ul>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global user.name &quot;test&quot;</span><br><span class=\"line\">git config --global user.email &quot;test@gmail.com&quot;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>生成秘钥</li>\n</ul>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -C &quot;test@gmail.com&quot;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>最后得到 id_rsa 和 id_rsa.pub 两个文件，把 id_rsa.pub 的内容粘贴到 github 中即可</li>\n</ul>\n</blockquote>\n<h2 id=\"0100-NexT-主题\"><a href=\"#0100-NexT-主题\" class=\"headerlink\" title=\"0100.NexT 主题\"></a>0100.NexT 主题</h2><h3 id=\"0x00-下载\"><a href=\"#0x00-下载\" class=\"headerlink\" title=\"0x00.下载\"></a>0x00.下载</h3><p><a href=\"https://github.com/iissnan/hexo-theme-next\">gitHub</a>,clone 到你的博客目录\\themes 目录下(E:\\Hexo\\themes 下)</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone git@github.com:iissnan/hexo-theme-next.git</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x01-使用\"><a href=\"#0x01-使用\" class=\"headerlink\" title=\"0x01.使用\"></a>0x01.使用</h3><p>打开站点总配置_config.yml(即 E:\\Hexo 下的_config.yml),找到 theme 换成 next 即可(theme: next),记得每一个冒号后面要有一个<strong>空格</strong></p>\n<h2 id=\"0101-NexT-配置\"><a href=\"#0101-NexT-配置\" class=\"headerlink\" title=\"0101.NexT-配置\"></a>0101.NexT-配置</h2><h3 id=\"0x00-插件安装\"><a href=\"#0x00-插件安装\" class=\"headerlink\" title=\"0x00.插件安装\"></a>0x00.插件安装</h3><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install &lt;插件名&gt;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x01-卸载插件\"><a href=\"#0x01-卸载插件\" class=\"headerlink\" title=\"0x01.卸载插件\"></a>0x01.卸载插件</h3><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm uninstall &lt;插件名&gt;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x02-多说评论\"><a href=\"#0x02-多说评论\" class=\"headerlink\" title=\"0x02.多说评论\"></a>0x02.多说评论</h3><p>使用多说前需要先在 多说 创建一个站点。具体步骤如下：</p>\n<blockquote>\n<ul>\n<li>登录后在首页选择 “我要安装”。</li>\n<li>创建站点，填写表单。多说域名 这一栏填写的即是你的 duoshuo_shortname<br><font color='red'>主题配置文件</font> 中设置：</li>\n</ul>\n</blockquote>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 多说热评文章 true 或者 false</span><br><span class=\"line\"><span class=\"function\">duoshuo_shortname: &#x27;多说域名&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x03-Google-分析\"><a href=\"#0x03-Google-分析\" class=\"headerlink\" title=\"0x03.Google 分析\"></a>0x03.Google 分析</h3><p>登陆 google 分析<a href=\"https://www.google.com/intl/zh-CN/analytics/\">网站</a>获取 ID<br>编辑 站点配置文件，新增字段 google_analytics，值设置成你的 Google 跟踪 ID。</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">google_analytics: <span class=\"title\">UA</span>-<span class=\"title\">XXX</span>...</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x04-社交链接，将在侧栏中显示\"><a href=\"#0x04-社交链接，将在侧栏中显示\" class=\"headerlink\" title=\"0x04.社交链接，将在侧栏中显示\"></a>0x04.社交链接，将在侧栏中显示</h3><p>将以下代码放到<font color='red'>站点配置文件</font></p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">social:</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">GitHub</span>: <span class=\"title\">your</span>-<span class=\"title\">github</span>-<span class=\"title\">url</span></span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">Twitter</span>: <span class=\"title\">your</span>-<span class=\"title\">twitter</span>-<span class=\"title\">url</span></span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">Weibo</span>: <span class=\"title\">your</span>-<span class=\"title\">weibo</span>-<span class=\"title\">url</span></span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">DouBan</span>: <span class=\"title\">your</span>-<span class=\"title\">douban</span>-<span class=\"title\">url</span></span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">ZhiHu</span>: <span class=\"title\">your</span>-<span class=\"title\">zhihu</span>-<span class=\"title\">url</span></span></span><br><span class=\"line\"><span class=\"function\">  # 等等</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x05-文章目录\"><a href=\"#0x05-文章目录\" class=\"headerlink\" title=\"0x05.文章目录\"></a>0x05.文章目录</h3><p><font color='red'>主题配置文件</font> 中设置：</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">sidebar: <span class=\"title\">post</span>   #自动展示有目录的文章的目录</span></span><br><span class=\"line\"><span class=\"function\">#<span class=\"title\">sidebar</span>: <span class=\"title\">always</span>    #总是展示</span></span><br><span class=\"line\"><span class=\"function\">#<span class=\"title\">sidebar</span>: <span class=\"title\">hide</span>      #隐藏</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x06-添加云标签\"><a href=\"#0x06-添加云标签\" class=\"headerlink\" title=\"0x06.添加云标签\"></a>0x06.添加云标签</h3><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new page &quot;tags&quot;        //新增tags页面</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>编辑刚才的页面(path\\source\\tags\\index.md)</li>\n</ul>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: TagCloud</span><br><span class=\"line\">date: <span class=\"number\">2016</span><span class=\"number\">-01</span><span class=\"number\">-21</span> <span class=\"number\">16</span>:<span class=\"number\">12</span>:<span class=\"number\">58</span></span><br><span class=\"line\">type: <span class=\"string\">&quot;tags&quot;</span></span><br><span class=\"line\">comments: <span class=\"literal\">false</span>     <span class=\"comment\">//关闭评论</span></span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>编辑<font color='red'>主题配置文件</font>,添加 tags 到 menu 中</li>\n</ul>\n</blockquote>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">menu:</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">home</span>: /</span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">archives</span>: /<span class=\"title\">archives</span></span></span><br><span class=\"line\"><span class=\"function\">  <span class=\"title\">tags</span>: /<span class=\"title\">tags</span></span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x07-添加-high-一下\"><a href=\"#0x07-添加-high-一下\" class=\"headerlink\" title=\"0x07.添加 high 一下\"></a>0x07.添加 high 一下</h3><p>在 Hexo\\themes\\next\\layout_partials\\header.swig 中的 ul 标签加入如下 li 代码：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">a</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">title</span>=<span class=\"string\">&quot;把这个链接拖到你的Chrome收藏夹工具栏中&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">href</span>=<span class=\"string\">&#x27;javascript:(function() &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    function c() &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        var e = document.createElement(&quot;link&quot;);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.setAttribute(&quot;type&quot;, &quot;text/css&quot;);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.setAttribute(&quot;rel&quot;, &quot;stylesheet&quot;);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.setAttribute(&quot;href&quot;, f);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.setAttribute(&quot;class&quot;, l);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        document.body.appendChild(e)</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\"> </span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    function h() &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        var e = document.getElementsByClassName(l);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        for (var t = 0; t &lt; e.length; t++) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            document.body.removeChild(e[t])</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\"> </span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    function p() &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        var e = document.createElement(&quot;div&quot;);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.setAttribute(&quot;class&quot;, a);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        document.body.appendChild(e);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        setTimeout(function() &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            document.body.removeChild(e)</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        &#125;, 100)</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\"> </span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    function d(e) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        return &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            height : e.offsetHeight,</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            width : e.offsetWidth</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\"> </span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    function v(i) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        var s = d(i);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        return s.height &gt; e &amp;&amp; s.height &lt; n &amp;&amp; s.width &gt; t &amp;&amp; s.width &lt; r</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\"> </span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    function m(e) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        var t = e;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        var n = 0;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        while (!!t) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            n += t.offsetTop;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            t = t.offsetParent</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        return n</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\"> </span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    function g() &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        var e = document.documentElement;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        if (!!window.innerWidth) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            return window.innerHeight</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        &#125; else if (e &amp;&amp; !isNaN(e.clientHeight)) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            return e.clientHeight</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        return 0</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\"> </span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    function y() &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        if (window.pageYOffset) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            return window.pageYOffset</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        return Math.max(document.documentElement.scrollTop, document.body.scrollTop)</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\"> </span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    function E(e) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        var t = m(e);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        return t &gt;= w &amp;&amp; t &lt;= b + w</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\"> </span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    function S() &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        var e = document.createElement(&quot;audio&quot;);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.setAttribute(&quot;class&quot;, l);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.src = i;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.loop = false;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.addEventListener(&quot;canplay&quot;, function() &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            setTimeout(function() &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                x(k)</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            &#125;, 500);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            setTimeout(function() &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                N();</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                p();</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                for (var e = 0; e &lt; O.length; e++) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                    T(O[e])</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            &#125;, 15500)</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        &#125;, true);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.addEventListener(&quot;ended&quot;, function() &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            N();</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            h()</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        &#125;, true);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.innerHTML = &quot; &lt;p&gt;If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.&lt;/p&gt; &lt;p&gt;&quot;;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        document.body.appendChild(e);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.play()</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\"> </span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    function x(e) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.className += &quot; &quot; + s + &quot; &quot; + o</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\"> </span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    function T(e) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        e.className += &quot; &quot; + s + &quot; &quot; + u[Math.floor(Math.random() * u.length)]</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\"> </span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    function N() &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        var e = document.getElementsByClassName(s);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        var t = new RegExp(&quot;\\\\b&quot; + s + &quot;\\\\b&quot;);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        for (var n = 0; n &lt; e.length; ) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            e[n].className = e[n].className.replace(t, &quot;&quot;)</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\"> </span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var e = 30;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var t = 30;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var n = 350;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var r = 350;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var i = &quot;//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.mp3&quot;;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var s = &quot;mw-harlem_shake_me&quot;;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var o = &quot;im_first&quot;;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var u = [&quot;im_drunk&quot;, &quot;im_baked&quot;, &quot;im_trippin&quot;, &quot;im_blown&quot;];</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var a = &quot;mw-strobe_light&quot;;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var f = &quot;//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css&quot;;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var l = &quot;mw_added_css&quot;;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var b = g();</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var w = y();</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var C = document.getElementsByTagName(&quot;*&quot;);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var k = null;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    for (var L = 0; L &lt; C.length; L++) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        var A = C[L];</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        if (v(A)) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            if (E(A)) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                k = A;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                break</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    if (A === null) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        console.warn(&quot;Could not find a node of the right size. Please try a different page.&quot;);</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        return</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    c();</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    S();</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    var O = [];</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    for (var L = 0; L &lt; C.length; L++) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        var A = C[L];</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        if (v(A)) &#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">            O.push(A)</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">        &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">&#125;)()    &#x27;</span></span></span><br><span class=\"line\"><span class=\"tag\">    &gt;</span>High一下&lt;/a</span><br><span class=\"line\">  &gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x08-开启-RSS-功能\"><a href=\"#0x08-开启-RSS-功能\" class=\"headerlink\" title=\"0x08.开启 RSS 功能\"></a>0x08.开启 RSS 功能</h3><p>安装插件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure>\n\n<p>后编辑<font color='red'>主题配置文件_config.yml</font>,添加如下代码</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rss: /atom.xml #rss地址  默认即可</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"0110-报错\"><a href=\"#0110-报错\" class=\"headerlink\" title=\"0110.报错\"></a>0110.报错</h2><h3 id=\"0x00-找不到-git-部署\"><a href=\"#0x00-找不到-git-部署\" class=\"headerlink\" title=\"0x00.找不到 git 部署\"></a>0x00.找不到 git 部署</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ERROR Deployer not found: git</span><br></pre></td></tr></table></figure>\n\n<p>解决办法</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x01-部署类型设置-git\"><a href=\"#0x01-部署类型设置-git\" class=\"headerlink\" title=\"0x01.部署类型设置 git\"></a>0x01.部署类型设置 git</h3><p>hexo 3.0 部署类型不再是 github,而是 git,修改<font color='red'>主题配置文件_config.yml</font>中 deploy 中的 type 为 git</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deploy:</span><br><span class=\"line\">  type: git</span><br><span class=\"line\">  repository: git@cnfanhua.github.com:cnfanhua/cnfanhua.github.io.git</span><br><span class=\"line\">  branch: master</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"0111-参考\"><a href=\"#0111-参考\" class=\"headerlink\" title=\"0111.参考\"></a>0111.参考</h2><p>1.<a href=\"https://hexo.io/\">hexo</a> 2.<a href=\"http://blog.csdn.net/renfufei/article/details/37725057/\">创建 GitHub 技术博客全攻略</a> 3.<a href=\"http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html\">搭建一个免费的，无限流量的 Blog—-github Pages 和 Jekyll 入门</a> 4.<a href=\"http://www.jianshu.com/p/465830080ea9\">HEXO+Github,搭建属于自己的博客</a> 5.<a href=\"http://www.cnblogs.com/zhcncn/p/4097881.html\">Hexo 搭建 Github 静态博客</a> 6.<a href=\"http://zipperary.com/2013/05/29/hexo-guide-3/\">hexo 系列教程：（三）hexo 博客的配置、使用</a> 7.<a href=\"http://zipperary.com/2013/05/28/hexo-guide-2/\">hexo 系列教程：（二）搭建 hexo 博客</a> 8.<a href=\"http://theme-next.iissnan.com/\">NexT</a> 9.<a href=\"http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000\">廖雪峰 Git 教程</a></p>\n<h2 id=\"1000-2016-11-11-16-50-16-更新\"><a href=\"#1000-2016-11-11-16-50-16-更新\" class=\"headerlink\" title=\"1000.2016.11.11 16:50:16 更新\"></a>1000.2016.11.11 16:50:16 更新</h2><h3 id=\"0x00-绑定个人域名\"><a href=\"#0x00-绑定个人域名\" class=\"headerlink\" title=\"0x00.绑定个人域名\"></a>0x00.绑定个人域名</h3><blockquote>\n<ul>\n<li>Step1.我是从<a href=\"https://wanwang.aliyun.com/\">万网</a>购买的域名。</li>\n<li>Step2.在你的个人博客目录下/source 新建 CNAME(PS，无扩展名)，文件内容为你的域名(如：xxx.com 不带“http://”和“www”)</li>\n<li>Step3.重要的一步，在域名控制台新增解析设置，如下</li>\n<li>—–3.1.记录类型 A 主机记录 www 记录值 192.30.252.154 其他默认</li>\n<li>—–3.2.记录类型 A 主机记录@ 记录值 192.30.252.154 其他默认</li>\n<li>Step4.更新你的博客，依次执行 hexo clean\\ hexo g -d</li>\n<li>Step5.waiting</li>\n</ul>\n</blockquote>\n<h3 id=\"0x01-hexo-g-d-之后报-404-错误\"><a href=\"#0x01-hexo-g-d-之后报-404-错误\" class=\"headerlink\" title=\"0x01.hexo g -d 之后报 404 错误\"></a>0x01.hexo g -d 之后报 404 错误</h3><p>本地测试 hexo s 正常，但是提交到服务器之后报 404 的错误，一些资源加载失败。原因是 github 升级了 jekyll<br>解决方案：<a href=\"https://github.com/iissnan/hexo-theme-next/issues/1220\">@Issues1220</a><br>在博客文件夹根目录.deploy_git 文件夹下新增.nojekyll 文件。<br>How to Create it?</p>\n<blockquote>\n<ul>\n<li>Step1.CMD-&gt;notepad</li>\n<li>Step1.文件-另存为-选择目录输入”.nojekyll”-保存</li>\n</ul>\n</blockquote>\n","categories":[],"tags":["Github博客","Hexo"]},{"title":"MVC.NET 学习笔记","url":"https://fanhua.tech/2015/11/09/MVC-NET-学习笔记/","content":"<p>MVC（Model-View-Controller）</p>\n<blockquote>\n<ul>\n<li>Model（模型）是应用程序中用于处理应用程序数据逻辑的部分。<br>　　通常模型对象负责在数据库中存取数据。</li>\n<li>View（视图）是应用程序中处理数据显示的部分。<br>　　通常视图是依据模型数据创建的。</li>\n<li>Controller（控制器）是应用程序中处理用户交互的部分。<br>　　通常控制器负责从视图读取数据，控制用户输入，并向模型发送数据。(百度百科)</li>\n</ul>\n</blockquote>\n<h3 id=\"0x00-控制器约定\"><a href=\"#0x00-控制器约定\" class=\"headerlink\" title=\"0x00.控制器约定\"></a>0x00.控制器约定</h3><blockquote>\n<ul>\n<li>必须以 Controller 结尾</li>\n<li>控制器下的 Action 方法一定是 Public，否则回报 404</li>\n<li>action 对应的页面是：views 下面和控制器同名文件夹下和 action 同名的视图</li>\n</ul>\n</blockquote>\n<h3 id=\"0x01-四种传值方式\"><a href=\"#0x01-四种传值方式\" class=\"headerlink\" title=\"0x01.四种传值方式\"></a>0x01.四种传值方式</h3><blockquote>\n<ul>\n<li>ViewData<br>　　　　后台: ViewData[“TEST1”] = “TEST1”;<br>　　　　前台(cshtml):ViewData[“TEST1”] = @ViewData[“TEST1”]</li>\n<li>ViewBag（实际上是通过 ViewData 来传递，所以相同 key 的值会被覆盖）<br>　　　　后台: ViewBag.TEST2 = “TEST2”;　　　　<br>　　　　前台(cshtml):ViewBag.TEST2 = @ViewBag.TEST2</li>\n<li>TempData<br>　　　　后台：TempData[“TEST3”] = “TEST3”;<br>　　　　前台(cshtml)：TempData[“TEST3”] = @TempData[“TEST3”]</li>\n<li>View()</li>\n</ul>\n</blockquote>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Cat cat = <span class=\"keyword\">new</span> Cat()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Name=<span class=\"string\">&quot;TEST&quot;</span>,</span><br><span class=\"line\">    Age=<span class=\"number\">100</span></span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> View(cat);</span><br><span class=\"line\">前台</span><br><span class=\"line\">@&#123;</span><br><span class=\"line\">    Cat cat = Model <span class=\"keyword\">as</span> Cat;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    @cat.Name-----@cat.Age</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x02-Razor-视图\"><a href=\"#0x02-Razor-视图\" class=\"headerlink\" title=\"0x02.Razor 视图\"></a>0x02.Razor 视图</h3><p>01.扩展名:cshtml<br>02.@:Razor 语法, 在@{}中所写的代码都是 c#代码 03.强类型视图：指定当前 view 使用某个实体对象<br>04._layout.cshtml</p>\n<blockquote>\n<ul>\n<li>001.整个网站的布局，相当于 asp.net 中的母版页。</li>\n<li>002.@RenderBody(),布局页的占位符，会被子页面中的内容替换。</li>\n<li><a href=\"mailto:&#48;&#48;&#51;&#x2e;&#x40;&#83;&#116;&#x79;&#x6c;&#101;&#115;&#x2e;&#82;&#x65;&#x6e;&#100;&#101;&#114;\">&#48;&#48;&#51;&#x2e;&#x40;&#83;&#116;&#x79;&#x6c;&#101;&#115;&#x2e;&#82;&#x65;&#x6e;&#100;&#101;&#114;</a>(“某虚拟路径名”) 作用，根据虚拟路径名查找物理路径对应的 css 文件</li>\n<li><a href=\"mailto:&#x30;&#48;&#52;&#46;&#64;&#x53;&#99;&#x72;&#x69;&#112;&#116;&#x73;&#x2e;&#x52;&#x65;&#x6e;&#x64;&#101;&#x72;\">&#x30;&#48;&#52;&#46;&#64;&#x53;&#99;&#x72;&#x69;&#112;&#116;&#x73;&#x2e;&#x52;&#x65;&#x6e;&#x64;&#101;&#x72;</a>(“某虚拟路径名”) 作用，根据虚拟路径名查找物理路径对应的 js 文件</li>\n<li>005.003 和 004 使用的条件是，存在 BundleConfig.cs 文件并在 Global.asax 文件中注册过。优点是，压缩 css 和 js 文件的大小</li>\n<li>006.RenderSection(“scripts”, required: false) RenderSection 所定义的标签可以被子页面重写，如果 required 为 true，则子页面必须重写，否则可以重写，也可以不重写。</li>\n</ul>\n</blockquote>\n<p>05._viewstart.cshtml</p>\n<blockquote>\n<ul>\n<li>001.此文件的作用是，将_layout.cshtml 文件自动加载到所有的.cshtml 文件中。当然如果页面指定了@{layout=null}，则不会加载</li>\n<li>002.如果 Views 文件夹下的文件夹下也存在_layout.cshtml，则加载顺序是 Views 文件夹下的_layout.cshtml–&gt;Views 文件夹下的文件夹下的_layout.cshtml</li>\n</ul>\n</blockquote>\n<p>06.移除 aspx 视图引擎：MVC 使用两套视图引擎，排序为 1.aspx 2.razor<br>移除方法，在 Global.asax 文件的 Application_Start()方法中添加 ViewEngines.Engines.Remove(0); 即可<br>07.HtmlHelper 扩展<br>扩展 HtmlHelper:三要素 静态类、静态方法、this 关键字。最后将命名空间改成 System.Web.Mvc，目的是为了防止重复引入命名空间<br>08.@helper 扩展<br>在.cshtml 文件中使用。类似 C#中方法的定义、js 中定义 function<br>定义如下：</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@helper A(<span class=\"built_in\">string</span> a, <span class=\"built_in\">string</span> b)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  &lt;h1&gt;@A+@b&lt;h1&gt;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//使用</span></span><br><span class=\"line\">@A(<span class=\"string\">&quot;a&quot;</span>, <span class=\"string\">&quot;b&quot;</span>)    <span class=\"comment\">/*输出 a+b*/</span></span><br></pre></td></tr></table></figure>\n\n<p>09.分部视图引用</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Html.Partial(<span class=\"string\">&quot;PartialViewName&quot;</span>)</span><br><span class=\"line\">@&#123; Html.RenderPartial(<span class=\"string\">&quot;PartialViewName&quot;</span>); &#125;</span><br><span class=\"line\"><span class=\"comment\">//Partial有返回值MvcHtmlString;RenderPartial没有返回值</span></span><br><span class=\"line\"><span class=\"comment\">//Partial是将视图内容直接生成一个字符串并返回，RenderPartial方法是直接输出至当前HttpContext</span></span><br><span class=\"line\"><span class=\"comment\">//return PartialView()不会执行 _ViewStart.cshtml</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x03-路由规则–2018-年-3-月-30-日\"><a href=\"#0x03-路由规则–2018-年-3-月-30-日\" class=\"headerlink\" title=\"0x03.路由规则–2018 年 3 月 30 日\"></a>0x03.路由规则–2018 年 3 月 30 日</h3><p>01.mvc 程序第一次启动时，会执行 Global.asax 文件中 Application_Start()方法，调用 RouteConfig.RegisterRoutes()注册好的路由规则 02.路由的主要作用是，mvc 会根据路由规则来解析 url，以确定由哪个 Controller-action 执行 03.创建以及默认路由</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//001.在App_Start文件夹中新建RouteConfig.cs</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">RouteConfig</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">RegisterRoute</span>(<span class=\"params\">RouteCollection routes</span>)</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//忽略对.axd文件的路由</span></span><br><span class=\"line\">        routes.IgnoreRoute(<span class=\"string\">&quot;&#123;resource&#125;.axd/&#123;*pathInfo&#125;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        routes.MapRoute(</span><br><span class=\"line\">            name: <span class=\"string\">&quot;default&quot;</span>,</span><br><span class=\"line\">            url: <span class=\"string\">&quot;&#123;controller&#125;/&#123;action&#125;/&#123;id&#125;&quot;</span>,</span><br><span class=\"line\">            <span class=\"literal\">default</span>: <span class=\"keyword\">new</span> &#123;controller = <span class=\"string\">&quot;Home&quot;</span>, action = <span class=\"string\">&quot;Index&quot;</span>, id = UrlParameter.Optional&#125;  <span class=\"comment\">//id表示可选参数；程序会默认加载Home控制器下的Index方法</span></span><br><span class=\"line\">        );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//002.在Global文件中注册路由</span></span><br><span class=\"line\"><span class=\"comment\">//在Application_Start()方法中添加 RouteConfig.RegisterRoutes(RouteTable.Routes);</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//003.路由约束</span></span><br><span class=\"line\"><span class=\"comment\">//在MapRoute方法中添加</span></span><br><span class=\"line\"><span class=\"comment\">//contraints: new&#123; id= @&quot;\\\\d+&quot;&#125; //约束当前路由规则的id参数只能是数字</span></span><br><span class=\"line\"><span class=\"comment\">//namespaces: new string[] &#123;&quot;namespaceName&quot;&#125; //会去指定的命名空间下查找对应的控制器</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x04-ActionResult-子类\"><a href=\"#0x04-ActionResult-子类\" class=\"headerlink\" title=\"0x04.ActionResult 子类\"></a>0x04.ActionResult 子类</h3><p>01.ViewResult() –&gt; 返回想返回的视图。<br>02.ContentResult() –&gt; 返回内容、不需要有对应的视图<br>03.JsonResult() –&gt; 可以用作 ajax 请求，如果是 get 请求则一定要在 Json()中写入 JsonRequestBehavior.AllowGet<br>04.HttpStatusCodeResult() –&gt; 用户自己设置需要相应的状态码<br>05.JavaScriptResult() –&gt; 配合视图中<script src='/Controller/action'></script>用<br>06.FileResult() –&gt; 文件的操作，如下载，验证码等<br>07.RedirectResult() –&gt; 执行页面跳转。本质在响应报文头中产生了 Location:路径的命令<br>08.RedirectToRouteResult() –&gt; 使用某路由规则进行跳转</p>\n<h3 id=\"0x05-模型注解\"><a href=\"#0x05-模型注解\" class=\"headerlink\" title=\"0x05.模型注解\"></a>0x05.模型注解</h3><p>01.Required:可以现实对视图页面上对应的模型特性属性文本框进行非空验证<br>当属性为空或者为 null 时，会引发一个验证错误<br>02.StringLength:约束属性值的长度<br>[stringLength(160, mininumlength=3)]表示至少输入 3 个字符，最多 160 个字符才有效<br>03.DisplayName:在视图上可以利用@Html.DisplayName() @Html.DisplayNameFor() @Html.LabelFor 来显示具体的值<br>04.Compare:将当前度假了此特性的属性值与目标值比对<br>05.RegularExpression:使用正则表达式来对属性值进行约束<br>06.DataType:标示附加的类型<br>07.Remote:实现对当前属性值内容的检查。通过 ajax 请求验证</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">Remote(<span class=\"string\">&quot;Check&quot;</span>, <span class=\"string\">&quot;Home&quot;</span>, ErrorMessage = <span class=\"string\">&quot;当前名字已存在，请更换一个&quot;</span>, HttpMethod = <span class=\"string\">&quot;POST&quot;</span>)</span>]</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"built_in\">string</span> Name&#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> ActionResult <span class=\"title\">Check</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">string</span> name = Request[<span class=\"string\">&quot;Name&quot;</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(name == <span class=\"string\">&quot;A&quot;</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Content(<span class=\"string\">&quot;false&quot;</span>);   <span class=\"comment\">//说明：返回false说明此name已存在，此name不可用</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Content(<span class=\"string\">&quot;true&quot;</span>);    <span class=\"comment\">//此name可用</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>08.Rang:约束数值型类型的数值范围、可以是 int/double<br>09.DataType:标示附加的类型</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DataTypeDomo</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    [<span class=\"meta\">DataType(DataType.Text)</span>]</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">string</span> Name&#123;<span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>;&#125;</span><br><span class=\"line\">    [<span class=\"meta\">DataType(DataType.Password)</span>]</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">string</span> password&#123;<span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>;&#125;</span><br><span class=\"line\">    [<span class=\"meta\">DataType(DataType.PhoneNumber)</span>]</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">string</span> PhoneNumber&#123;<span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>10.错误信息提示：</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(ErrorMessage = <span class=\"string\">&quot;tishi&quot;</span>) <span class=\"comment\">//可以使用&#123;0&#125;,&#123;0&#125;会使用当前属性的属性名</span></span><br></pre></td></tr></table></figure>\n\n<p>11.自定义注解：<br>所有的注解都派生自基类 ValidationAttribute，一个抽象类，在命名空间 System.ComponentModel.DataAnnotaticns 下。需要重写基类中提供的 IsValid 方法的其中一个版本。</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span>参数1是要验证的对象的值</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> ValidationResult <span class=\"title\">IsValid</span>(<span class=\"params\"><span class=\"built_in\">object</span> obj, ValidationContext validationContext</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ValidationResult.Success;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x05-区域\"><a href=\"#0x05-区域\" class=\"headerlink\" title=\"0x05.区域\"></a>0x05.区域</h3><p>区域位于项目主站 Areas 文件夹中<br>区域下都有一个继承自 AreaRegistration 的子类，假设区域名称叫”Study”,其重写了两个方法</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">xx</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">StudyAreaRegistration</span> : <span class=\"title\">AreaRegistration</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">string</span> AreaName</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">get</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">&quot;Sdtdy&quot;</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">RegisterArea</span>(<span class=\"params\">AreaRegistrationContext context</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            context.MapRoute(</span><br><span class=\"line\">                <span class=\"string\">&quot;Study_default&quot;</span>,</span><br><span class=\"line\">                <span class=\"string\">&quot;Study/&#123;controller&#125;/&#123;action&#125;/&#123;id&#125;&quot;</span>,</span><br><span class=\"line\">                <span class=\"keyword\">new</span> &#123; action = <span class=\"string\">&quot;Index&quot;</span>, id = UrlParameter.Optional &#125;</span><br><span class=\"line\">            );</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x06-过滤器\"><a href=\"#0x06-过滤器\" class=\"headerlink\" title=\"0x06.过滤器\"></a>0x06.过滤器</h3><table>\n<thead>\n<tr>\n<th>方法</th>\n<th>说明</th>\n<th>执行顺序</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>OnAuthentication</td>\n<td>认证</td>\n<td>1</td>\n</tr>\n<tr>\n<td>OnAuthorization</td>\n<td>授权</td>\n<td>2</td>\n</tr>\n<tr>\n<td>OnActionExecuting</td>\n<td>方法执行之前</td>\n<td>3</td>\n</tr>\n<tr>\n<td>OnActionExecuted</td>\n<td>方法执行之后</td>\n<td>4</td>\n</tr>\n<tr>\n<td>OnResultExecuting</td>\n<td>结果返回之前</td>\n<td>5</td>\n</tr>\n<tr>\n<td>OnResultExecuted</td>\n<td>结果返回之后</td>\n<td>7</td>\n</tr>\n<tr>\n<td>–</td>\n<td>–</td>\n<td>–</td>\n</tr>\n<tr>\n<td>View()</td>\n<td>–</td>\n<td>6</td>\n</tr>\n</tbody></table>\n","categories":[],"tags":["Asp.Net","Mvc"]},{"title":"DBHelper--C#","url":"https://fanhua.tech/2015/08/11/DBHelper/","content":"<h2 id=\"0000-链接字符串配置信息保存于App-config中\"><a href=\"#0000-链接字符串配置信息保存于App-config中\" class=\"headerlink\" title=\"0000.链接字符串配置信息保存于App.config中\"></a>0000.链接字符串配置信息保存于App.config中</h2><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--连接数据库字符串--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">connectionStrings</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">add</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;DBStrConn&quot;</span> <span class=\"attr\">connectionString</span>=<span class=\"string\">&quot;Data Source=.; initial Catalog=数据库名; user id=用户名; password=密码&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">connectionStrings</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"0001-添加-System-configuration-引用\"><a href=\"#0001-添加-System-configuration-引用\" class=\"headerlink\" title=\"0001.添加 System.configuration 引用\"></a>0001.添加 System.configuration 引用</h2><h2 id=\"0010-在DBHelper中获取链接字符串\"><a href=\"#0010-在DBHelper中获取链接字符串\" class=\"headerlink\" title=\"0010.在DBHelper中获取链接字符串\"></a>0010.在DBHelper中获取链接字符串</h2><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"built_in\">string</span> strConnection = ConfigurationManager.ConnectionStrings[<span class=\"string\">&quot;DBStrConn&quot;</span>].ConnectionString;<span class=\"comment\">//注意:此处的&quot;DBStrConn&quot;应与1中的name名字相对应。</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"0011-相关代码\"><a href=\"#0011-相关代码\" class=\"headerlink\" title=\"0011.相关代码\"></a>0011.相关代码</h2><h3 id=\"0x00-执行SQL语句，返回影响的记录数-带参数\"><a href=\"#0x00-执行SQL语句，返回影响的记录数-带参数\" class=\"headerlink\" title=\"0x00.执行SQL语句，返回影响的记录数-带参数\"></a>0x00.执行SQL语句，返回影响的记录数-带参数</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">ExecuteSql</span>(<span class=\"params\"><span class=\"built_in\">string</span> SQLString, <span class=\"keyword\">params</span> SqlParameter[] cmdParms</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> (SqlConnection connection = <span class=\"keyword\">new</span> SqlConnection(connectionString))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">using</span> (SqlCommand cmd = <span class=\"keyword\">new</span> SqlCommand(SQLString, connection))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (cmdParms != <span class=\"literal\">null</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    cmd.Parameters.AddRange(cmdParms);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                connection.Open();</span><br><span class=\"line\">                <span class=\"keyword\">return</span> cmd.ExecuteNonQuery();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">catch</span> (System.Data.SqlClient.SqlException e)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">throw</span> e;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"0x01-执行SQL语句，返回影响的记录数-无参数\"><a href=\"#0x01-执行SQL语句，返回影响的记录数-无参数\" class=\"headerlink\" title=\"0x01.执行SQL语句，返回影响的记录数-无参数\"></a>0x01.执行SQL语句，返回影响的记录数-无参数</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">ExecuteSql</span>(<span class=\"params\"><span class=\"built_in\">string</span> SQLString</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ExecuteSql(SQLString, <span class=\"literal\">null</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"0x02-执行一条计算查询结果语句，返回查询结果（object）-带参数\"><a href=\"#0x02-执行一条计算查询结果语句，返回查询结果（object）-带参数\" class=\"headerlink\" title=\"0x02.执行一条计算查询结果语句，返回查询结果（object）-带参数\"></a>0x02.执行一条计算查询结果语句，返回查询结果（object）-带参数</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">object</span> <span class=\"title\">ExecuteScalar</span>(<span class=\"params\"><span class=\"built_in\">string</span> SQLString, <span class=\"keyword\">params</span> SqlParameter[] cmdParms</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> (SqlConnection connection = <span class=\"keyword\">new</span> SqlConnection(connectionString))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">using</span> (SqlCommand cmd = <span class=\"keyword\">new</span> SqlCommand(SQLString, connection))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (cmdParms != <span class=\"literal\">null</span>)</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    cmd.Parameters.AddRange(cmdParms);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                connection.Open();</span><br><span class=\"line\">                <span class=\"keyword\">return</span> cmd.ExecuteScalar();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">catch</span> (System.Data.SqlClient.SqlException e)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">throw</span> e;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"0x03-执行一条计算查询结果语句，返回查询结果（object）-无参\"><a href=\"#0x03-执行一条计算查询结果语句，返回查询结果（object）-无参\" class=\"headerlink\" title=\"0x03.执行一条计算查询结果语句，返回查询结果（object）-无参\"></a>0x03.执行一条计算查询结果语句，返回查询结果（object）-无参</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">object</span> <span class=\"title\">ExecuteScalar</span>(<span class=\"params\"><span class=\"built_in\">string</span> SQLString</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ExecuteScalar(SQLString, <span class=\"literal\">null</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"0x04-执行查询，返回SqlDataReader-注意：调用该方法后，一定要对SqlDataReader进行Close-有参数\"><a href=\"#0x04-执行查询，返回SqlDataReader-注意：调用该方法后，一定要对SqlDataReader进行Close-有参数\" class=\"headerlink\" title=\"0x04.执行查询，返回SqlDataReader(注意：调用该方法后，一定要对SqlDataReader进行Close)-有参数\"></a>0x04.执行查询，返回SqlDataReader(注意：调用该方法后，一定要对SqlDataReader进行Close)-有参数</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> SqlDataReader <span class=\"title\">ExecuteReader</span>(<span class=\"params\"><span class=\"built_in\">string</span> SQLString, <span class=\"keyword\">params</span> SqlParameter[] cmdParms</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    SqlConnection connection = <span class=\"keyword\">new</span> SqlConnection(connectionString);</span><br><span class=\"line\">    SqlCommand cmd = <span class=\"keyword\">new</span> SqlCommand(SQLString, connection);</span><br><span class=\"line\">    <span class=\"keyword\">try</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (cmdParms != <span class=\"literal\">null</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            cmd.Parameters.AddRange(cmdParms);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        connection.Open();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cmd.ExecuteReader(CommandBehavior.CloseConnection);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">catch</span> (System.Data.SqlClient.SqlException e)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> e;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">finally</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        cmd.Dispose();</span><br><span class=\"line\">        connection.Close();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"0x05-执行查询，返回SqlDataReader-注意：调用该方法后，一定要对SqlDataReader进行Close-无参数\"><a href=\"#0x05-执行查询，返回SqlDataReader-注意：调用该方法后，一定要对SqlDataReader进行Close-无参数\" class=\"headerlink\" title=\"0x05.执行查询，返回SqlDataReader(注意：调用该方法后，一定要对SqlDataReader进行Close)-无参数\"></a>0x05.执行查询，返回SqlDataReader(注意：调用该方法后，一定要对SqlDataReader进行Close)-无参数</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> SqlDataReader <span class=\"title\">ExecuteReader</span>(<span class=\"params\"><span class=\"built_in\">string</span> SQLString</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ExecuteReader(SQLString, <span class=\"literal\">null</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"0x06-执行查询语句，返回DataSet-有参数\"><a href=\"#0x06-执行查询语句，返回DataSet-有参数\" class=\"headerlink\" title=\"0x06.执行查询语句，返回DataSet-有参数\"></a>0x06.执行查询语句，返回DataSet-有参数</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> DataSet <span class=\"title\">GetDataSet</span>(<span class=\"params\"><span class=\"built_in\">string</span> SQLString, <span class=\"keyword\">params</span> SqlParameter[] cmdParms</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> (SqlConnection connection = <span class=\"keyword\">new</span> SqlConnection(connectionString))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        SqlCommand cmd = <span class=\"keyword\">new</span> SqlCommand(SQLString, connection);</span><br><span class=\"line\">        <span class=\"keyword\">using</span> (SqlDataAdapter da = <span class=\"keyword\">new</span> SqlDataAdapter(cmd))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (cmdParms != <span class=\"literal\">null</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                da.SelectCommand.Parameters.AddRange(cmdParms);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            DataSet ds = <span class=\"keyword\">new</span> DataSet();</span><br><span class=\"line\">            <span class=\"keyword\">try</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                da.Fill(ds);</span><br><span class=\"line\">                cmd.Parameters.Clear();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">catch</span> (System.Data.SqlClient.SqlException ex)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> Exception(ex.Message);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ds;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"0x07-执行查询语句，返回DataSet-无参数\"><a href=\"#0x07-执行查询语句，返回DataSet-无参数\" class=\"headerlink\" title=\"0x07.执行查询语句，返回DataSet-无参数\"></a>0x07.执行查询语句，返回DataSet-无参数</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> DataSet <span class=\"title\">GetDataSet</span>(<span class=\"params\"><span class=\"built_in\">string</span> SQLString</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> GetDataSet(SQLString, <span class=\"literal\">null</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"0x08-执行查询语句，返回DataTable-有参数\"><a href=\"#0x08-执行查询语句，返回DataTable-有参数\" class=\"headerlink\" title=\"0x08.执行查询语句，返回DataTable-有参数\"></a>0x08.执行查询语句，返回DataTable-有参数</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> DataTable <span class=\"title\">GetDataTable</span>(<span class=\"params\"><span class=\"built_in\">string</span> SQLString, <span class=\"keyword\">params</span> SqlParameter[] cmdParms</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> GetDataSet(SQLString, cmdParms).Tables[<span class=\"number\">0</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"0x09-执行查询语句，返回DataTable-无参数\"><a href=\"#0x09-执行查询语句，返回DataTable-无参数\" class=\"headerlink\" title=\"0x09.执行查询语句，返回DataTable-无参数\"></a>0x09.执行查询语句，返回DataTable-无参数</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> DataTable <span class=\"title\">GetDataTable</span>(<span class=\"params\"><span class=\"built_in\">string</span> SQLString</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> GetDataTable(SQLString, <span class=\"literal\">null</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":[".Net"]},{"title":"SQL相关错误","url":"https://fanhua.tech/2015/05/29/SQL-Related-Error/","content":"<h2 id=\"16\"><a href=\"#16\" class=\"headerlink\" title=\"16.\"></a>16.</h2><h2 id=\"15-”SQL-SERVER-2012-尝试读取或写入受保护的内存。这通常指示其他内存已损坏”-2016-年-02-月-14-日-17-15-13\"><a href=\"#15-”SQL-SERVER-2012-尝试读取或写入受保护的内存。这通常指示其他内存已损坏”-2016-年-02-月-14-日-17-15-13\" class=\"headerlink\" title=\"15.”SQL SERVER 2012 尝试读取或写入受保护的内存。这通常指示其他内存已损坏”-2016 年 02 月 14 日 17:15:13\"></a>15.”SQL SERVER 2012 尝试读取或写入受保护的内存。这通常指示其他内存已损坏”-2016 年 02 月 14 日 17:15:13</h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">解决方案: netsh winsock reset</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"14-MYSQL-中文乱码–2016-年-02-月-13-日-19-01-21\"><a href=\"#14-MYSQL-中文乱码–2016-年-02-月-13-日-19-01-21\" class=\"headerlink\" title=\"14.MYSQL 中文乱码–2016 年 02 月 13 日 19:01:21\"></a>14.MYSQL 中文乱码–2016 年 02 月 13 日 19:01:21</h2><blockquote>\n<ul>\n<li>mysql5.5 及以上</li>\n<li>Linux 下，修改/etc/mysql/my.cnf 文件，在指定位置添加如下代码</li>\n</ul>\n</blockquote>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[client]</span><br><span class=\"line\">default-character-<span class=\"built_in\">set</span>=utf8</span><br><span class=\"line\">[mysqld]</span><br><span class=\"line\">character_set_server=utf8</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>-重启 mysql 服务</p>\n</blockquote>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo /etc/init.d/mysql restart</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>-查看 mysql 数据库字符集</p>\n</blockquote>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; show variables like &#x27;character%&#x27;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"13-SQL-拼接字段查询–2015-年-10-月-16-日\"><a href=\"#13-SQL-拼接字段查询–2015-年-10-月-16-日\" class=\"headerlink\" title=\"13.SQL 拼接字段查询–2015 年 10 月 16 日\"></a>13.SQL 拼接字段查询–2015 年 10 月 16 日</h2><blockquote>\n<ul>\n<li>Sql Server</li>\n</ul>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"built_in\">CAST</span>(COLUMN1 <span class=\"keyword\">AS</span> <span class=\"type\">VARCHAR</span>(<span class=\"number\">10</span>)) <span class=\"operator\">+</span> <span class=\"string\">&#x27;-&#x27;</span> <span class=\"operator\">+</span> <span class=\"built_in\">CAST</span>(COLUMN2 <span class=\"keyword\">AS</span> <span class=\"type\">VARCHAR</span>(<span class=\"number\">10</span>) ...)  <span class=\"keyword\">as</span> P <span class=\"keyword\">FROM</span> <span class=\"keyword\">TABLE</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>Oracle</li>\n</ul>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> (COLUMN1 <span class=\"operator\">||</span> <span class=\"string\">&#x27;-&#x27;</span> <span class=\"operator\">||</span> COLUMN2) <span class=\"keyword\">AS</span> P <span class=\"keyword\">FROM</span> <span class=\"keyword\">TABLE</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"12-SQL-TRUNC-截取字符串-日期–2015-年-12-月-10-日-11-29-48\"><a href=\"#12-SQL-TRUNC-截取字符串-日期–2015-年-12-月-10-日-11-29-48\" class=\"headerlink\" title=\"12.SQL TRUNC() 截取字符串/日期–2015 年 12 月 10 日 11:29:48\"></a>12.SQL TRUNC() 截取字符串/日期–2015 年 12 月 10 日 11:29:48</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">有个需求就是 查询 相同日期(不同时间) 的 数量总和，这时就可以用到 TRUNC()函数把<span class=\"string\">&#x27;时间&#x27;</span>去掉</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"built_in\">SUM</span>(A.QTY) <span class=\"keyword\">OVER</span>(<span class=\"keyword\">PARTITION</span> <span class=\"keyword\">BY</span> TRUNC(A.DATE)) <span class=\"keyword\">FROM</span> TEST A <span class=\"keyword\">WHERE</span> A.DATE <span class=\"operator\">&gt;=</span> TO_DATE(<span class=\"string\">&#x27;DATE1&#x27;</span>,<span class=\"string\">&#x27;YYYY-MM-DD&#x27;</span>) <span class=\"keyword\">AND</span> A.DATE<span class=\"operator\">&lt;=</span>TO_DATE(<span class=\"string\">&#x27;DATE2&#x27;</span>,<span class=\"string\">&#x27;YYYY-MM-DD&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"11-DISTINCT-去重复–2015-年-12-月-10-日-11-28-12\"><a href=\"#11-DISTINCT-去重复–2015-年-12-月-10-日-11-28-12\" class=\"headerlink\" title=\"11.DISTINCT 去重复–2015 年 12 月 10 日 11:28:12\"></a>11.DISTINCT 去重复–2015 年 12 月 10 日 11:28:12</h2><h2 id=\"10-查询数据库中某一字段重复值–2015-年-10-月-16-日\"><a href=\"#10-查询数据库中某一字段重复值–2015-年-10-月-16-日\" class=\"headerlink\" title=\"10.查询数据库中某一字段重复值–2015 年 10 月 16 日\"></a>10.查询数据库中某一字段重复值–2015 年 10 月 16 日</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> 表 <span class=\"keyword\">where</span> b <span class=\"keyword\">in</span> (<span class=\"keyword\">select</span> b <span class=\"keyword\">from</span> 表 <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> b <span class=\"keyword\">having</span> <span class=\"built_in\">count</span>(<span class=\"operator\">*</span>)<span class=\"operator\">&gt;</span><span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"09-sql-分页获取数据的-存储过程代码–2015-年-8-月-12-日-13-41-34\"><a href=\"#09-sql-分页获取数据的-存储过程代码–2015-年-8-月-12-日-13-41-34\" class=\"headerlink\" title=\"09.sql 分页获取数据的 存储过程代码–2015 年 8 月 12 日 13:41:34\"></a>09.sql 分页获取数据的 存储过程代码–2015 年 8 月 12 日 13:41:34</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">PROCEDURE</span> GetListByPage</span><br><span class=\"line\">     <span class=\"variable\">@pageSize</span> <span class=\"type\">int</span> ,</span><br><span class=\"line\">     <span class=\"variable\">@pageIndex</span> <span class=\"type\">int</span>,</span><br><span class=\"line\">     <span class=\"variable\">@total</span> <span class=\"type\">int</span> <span class=\"keyword\">out</span></span><br><span class=\"line\"><span class=\"keyword\">AS</span></span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span></span><br><span class=\"line\">    <span class=\"keyword\">SET</span> NOCOUNT <span class=\"keyword\">ON</span>;</span><br><span class=\"line\">    <span class=\"keyword\">declare</span> <span class=\"variable\">@startIndex</span> <span class=\"type\">int</span> ,<span class=\"variable\">@endIndex</span> <span class=\"type\">int</span></span><br><span class=\"line\">    <span class=\"keyword\">set</span> <span class=\"variable\">@startIndex</span> <span class=\"operator\">=</span>(<span class=\"variable\">@pageIndex</span> <span class=\"operator\">-</span> <span class=\"number\">1</span>)<span class=\"operator\">*</span><span class=\"variable\">@pageSize</span><span class=\"operator\">+</span><span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">set</span> <span class=\"variable\">@endIndex</span> <span class=\"operator\">=</span> <span class=\"variable\">@pageIndex</span><span class=\"operator\">*</span><span class=\"variable\">@pageSize</span></span><br><span class=\"line\">    <span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span>(</span><br><span class=\"line\">        <span class=\"keyword\">select</span> <span class=\"keyword\">rows</span><span class=\"operator\">=</span><span class=\"built_in\">ROW_NUMBER</span>() <span class=\"keyword\">over</span>(<span class=\"keyword\">order</span> <span class=\"keyword\">by</span> id <span class=\"keyword\">desc</span>),<span class=\"operator\">*</span> <span class=\"keyword\">from</span> DR_Type <span class=\"keyword\">where</span> <span class=\"number\">1</span><span class=\"operator\">=</span><span class=\"number\">1</span> ) t</span><br><span class=\"line\">    <span class=\"keyword\">where</span> t.rows<span class=\"operator\">&gt;=</span><span class=\"variable\">@startIndex</span> <span class=\"keyword\">and</span> t.rows<span class=\"operator\">&lt;=</span><span class=\"variable\">@endIndex</span></span><br><span class=\"line\">    <span class=\"comment\">--total</span></span><br><span class=\"line\">    <span class=\"keyword\">select</span> <span class=\"variable\">@total</span><span class=\"operator\">=</span><span class=\"built_in\">COUNT</span>(<span class=\"number\">1</span>) <span class=\"keyword\">from</span> DR_Type <span class=\"keyword\">where</span> <span class=\"number\">1</span><span class=\"operator\">=</span><span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">END</span></span><br><span class=\"line\">GO</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"08-sql-server-的-sql-分页代码–2015-年-7-月-22-日-13-27-49\"><a href=\"#08-sql-server-的-sql-分页代码–2015-年-7-月-22-日-13-27-49\" class=\"headerlink\" title=\"08.sql server 的 sql 分页代码–2015 年 7 月 22 日 13:27:49\"></a>08.sql server 的 sql 分页代码–2015 年 7 月 22 日 13:27:49</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> (<span class=\"keyword\">select</span> <span class=\"operator\">*</span>,<span class=\"built_in\">row_number</span>() <span class=\"keyword\">over</span>(<span class=\"keyword\">order</span> <span class=\"keyword\">by</span> p.Id <span class=\"keyword\">desc</span>) <span class=\"keyword\">as</span> num <span class=\"keyword\">from</span> qunlist p <span class=\"keyword\">where</span> <span class=\"number\">1</span><span class=\"operator\">=</span><span class=\"number\">1</span> ) s <span class=\"keyword\">where</span> s.num <span class=\"keyword\">between</span> <span class=\"variable\">@startIndex</span> <span class=\"keyword\">and</span> <span class=\"variable\">@endIndex</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"07-sql-从其他数据库中复制数据到另一个数据库-错误–2015-年-7-月-3-日-19-08-39\"><a href=\"#07-sql-从其他数据库中复制数据到另一个数据库-错误–2015-年-7-月-3-日-19-08-39\" class=\"headerlink\" title=\"07.sql 从其他数据库中复制数据到另一个数据库 错误–2015 年 7 月 3 日 19:08:39\"></a>07.sql 从其他数据库中复制数据到另一个数据库 错误–2015 年 7 月 3 日 19:08:39</h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;仅当使用了列列表并且 IDENTITY_INSERT 为 ON 时，才能为表&#x27;stulnfo&#x27;中的标识列指定显式值。&quot;</span></span><br><span class=\"line\">说明有一列为自动增长，自动增长列为系统自己设定，不需要复制</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"06-Oracle-SQL-分页–2015-年-7-月-18-日-18-32-31\"><a href=\"#06-Oracle-SQL-分页–2015-年-7-月-18-日-18-32-31\" class=\"headerlink\" title=\"06.Oracle SQL 分页–2015 年 7 月 18 日 18:32:31\"></a>06.Oracle SQL 分页–2015 年 7 月 18 日 18:32:31</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span></span><br><span class=\"line\">  <span class=\"keyword\">FROM</span> (<span class=\"keyword\">SELECT</span> ROWNUM <span class=\"keyword\">AS</span> rowno, t.<span class=\"operator\">*</span></span><br><span class=\"line\">          <span class=\"keyword\">FROM</span> emp t ROWNUM <span class=\"operator\">&lt;=</span> indexEnd) s</span><br><span class=\"line\"> <span class=\"keyword\">WHERE</span> s.rowno <span class=\"operator\">&gt;=</span> indexStart;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"05-Oracle-报-SQL-大小写转换\"><a href=\"#05-Oracle-报-SQL-大小写转换\" class=\"headerlink\" title=\"05.Oracle 报 SQL 大小写转换\"></a>05.Oracle 报 SQL 大小写转换</h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">转换为大写:UPPER(字段名)</span><br><span class=\"line\">转换为小写:LOWER(字段名)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"04-如何把查询到的结果插入到另一个表中\"><a href=\"#04-如何把查询到的结果插入到另一个表中\" class=\"headerlink\" title=\"04.如何把查询到的结果插入到另一个表中\"></a>04.如何把查询到的结果插入到另一个表中</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> OEM_ORDER(OEM_CODE) <span class=\"keyword\">select</span> OEM_CODE <span class=\"keyword\">from</span> BASE_OEM <span class=\"keyword\">where</span> OEM_NAME <span class=\"operator\">=</span><span class=\"string\">&#x27;阳光&#x27;</span>  <span class=\"comment\">--OEM_CODE为相同字段</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"03-Oracle-报-ORA-01861-文字与格式字符串不匹配’\"><a href=\"#03-Oracle-报-ORA-01861-文字与格式字符串不匹配’\" class=\"headerlink\" title=\"03.Oracle 报 ORA-01861: 文字与格式字符串不匹配’\"></a>03.Oracle 报 ORA-01861: 文字与格式字符串不匹配’</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">查询 oracle 中 <span class=\"type\">date</span> 属性的值时，必须用 to_date(<span class=\"string\">&#x27;2015/05/29&#x27;</span>,<span class=\"string\">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span>)转换，否则 会报错！</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> book <span class=\"keyword\">where</span> PRD_DATE <span class=\"operator\">&gt;=</span>to_date(<span class=\"string\">&#x27;2015/05/29&#x27;</span>,<span class=\"string\">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span>) <span class=\"keyword\">and</span> PRD_DATE <span class=\"operator\">&lt;=</span>to_date(<span class=\"string\">&#x27;2015/05/30&#x27;</span>,<span class=\"string\">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span>)  <span class=\"keyword\">order</span> <span class=\"keyword\">by</span> PRD_DATE <span class=\"keyword\">desc</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"02-Oracle-替换符号\"><a href=\"#02-Oracle-替换符号\" class=\"headerlink\" title=\"02.Oracle 替换符号\"></a>02.Oracle 替换符号</h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Oracle 替换符 用 <span class=\"string\">&#x27;:&#x27;</span> sql Server 中用 <span class=\"string\">&#x27;@&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"01-Oracle-报-ORA-01745-无效的主机-赋值变量名\"><a href=\"#01-Oracle-报-ORA-01745-无效的主机-赋值变量名\" class=\"headerlink\" title=\"01.Oracle 报 ORA-01745: 无效的主机/赋值变量名\"></a>01.Oracle 报 ORA-01745: 无效的主机/赋值变量名</h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">可能原因:</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; - 在 sql 语句中少了<span class=\"string\">&#x27;,&#x27;</span>分隔符。</span><br><span class=\"line\">&gt; - 在绑定变量时,出现变量名和 SQL 保留字相同的情况。(我当时用 替换符<span class=\"string\">&quot;:date&quot;</span> 报这种错误)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Mysql","Oracle","Sql Server"]},{"title":"Apache-windows免安装版配置","url":"https://fanhua.tech/2015/04/23/Apache-windows-免安装版配置/","content":"<h2 id=\"0000-网址\"><a href=\"#0000-网址\" class=\"headerlink\" title=\"0000.网址\"></a>0000.网址</h2><figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://httpd.apache.org/</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>win-32:</li>\n</ul>\n</blockquote>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://www.apachehaus.com/downloads/httpd-2.4.18-x86-vc11.zip</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>win-64:</li>\n</ul>\n</blockquote>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://www.apachehaus.com/downloads/httpd-2.4.18-x64-vc11.zip</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"0001-下载完后解压\"><a href=\"#0001-下载完后解压\" class=\"headerlink\" title=\"0001.下载完后解压.\"></a>0001.下载完后解压.</h2><h3 id=\"我的解压目录是：\"><a href=\"#我的解压目录是：\" class=\"headerlink\" title=\"我的解压目录是：\"></a>我的解压目录是：</h3><figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">D:\\Program Files\\apache-2.4.12-x64-r2\\Apache24</span><br></pre></td></tr></table></figure>\n\n<p>进入 目录下面的 “conf” 文件夹 ，找到 “httpd.conf”文件，用记事本打开，需要修改两个地方。如图<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Apache-windows%E5%85%8D%E5%AE%89%E8%A3%85%E7%89%88%E9%85%8D%E7%BD%AE/apache_httpd.conf.png\" alt=\"apache_http.conf\"><br>第一个 必须改，第二个端口号 可改，可不改。但是你的机器上有 IIS 等其他占用 80 端口的软件，则需要改</p>\n<h2 id=\"0010-注册服务\"><a href=\"#0010-注册服务\" class=\"headerlink\" title=\"0010.注册服务\"></a>0010.注册服务</h2><p>cmd 以管理员方式运行，进入 “D:\\Program Files\\apache-2.4.12-x64-r2\\Apache24\\bin”下<br>输入命令:</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">httpd -k install -n apache</span><br></pre></td></tr></table></figure>\n\n<p>注册服务”-n apache” 的意思是将服务名改为 apache.<br>如下图，则安装服务成功.<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Apache-windows%E5%85%8D%E5%AE%89%E8%A3%85%E7%89%88%E9%85%8D%E7%BD%AE/apache_serverS.png\" alt=\"apache_serverS\"><br>下图是安装失败的.<br><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Apache-windows%E5%85%8D%E5%AE%89%E8%A3%85%E7%89%88%E9%85%8D%E7%BD%AE/apache_serverF.png\" alt=\"apache_serverF\"></p>\n<h2 id=\"0011-启动服务\"><a href=\"#0011-启动服务\" class=\"headerlink\" title=\"0011.启动服务\"></a>0011.启动服务</h2><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">net</span> <span class=\"built_in\">start</span> apache</span><br></pre></td></tr></table></figure>\n\n<p>在地址栏输入如下，出现如下图则表明成功</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://localhost:8088/</span><br></pre></td></tr></table></figure>\n\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/Apache-windows%E5%85%8D%E5%AE%89%E8%A3%85%E7%89%88%E9%85%8D%E7%BD%AE/apache_localhost.png\" alt=\"apache_server\"></p>\n<h2 id=\"0100-移除-apache-服务\"><a href=\"#0100-移除-apache-服务\" class=\"headerlink\" title=\"0100.移除 apache 服务\"></a>0100.移除 apache 服务</h2><figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sc delete apache</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"至此安装完毕\"><a href=\"#至此安装完毕\" class=\"headerlink\" title=\"至此安装完毕\"></a>至此安装完毕</h2>","categories":[],"tags":["Apache"]},{"title":"Visual studio重置","url":"https://fanhua.tech/2015/04/05/Visual-studio重置/","content":"<p>0000.开始-&gt;Microsoft Visual Studio 2013-&gt;Visual Studio Tools-&gt;VS2013 x64 兼容工具命令提示<br>0001.cd C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\Common7\\IDE<br>然后输入：</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">devenv.exe /setup /resetuserdata /resetsettings</span><br></pre></td></tr></table></figure>\n\n<p>0010.重启 vs2012 就可以了。</p>\n","categories":[],"tags":["Visual Studio"]},{"title":"关于重装系统后的0xc000000e的问题","url":"https://fanhua.tech/2015/04/01/3221225486/","content":"<h2 id=\"0000B-错误如图\"><a href=\"#0000B-错误如图\" class=\"headerlink\" title=\"0000B.错误如图\"></a>0000B.错误如图</h2><p><img src= \"/img/loading.gif\" data-lazy-src=\"/uploads/computer/0xc000000e.jpg\" alt=\"0xc000000e\"><br>相信很多朋友 都出现过这种问题。</p>\n<h2 id=\"0001B-解决办法\"><a href=\"#0001B-解决办法\" class=\"headerlink\" title=\"0001B.解决办法\"></a>0001B.解决办法</h2><p>抛开 BIOS 不说，进 PE 找到隐藏分区，从隐藏分区中找到有关 Boot 的文件夹（文件），将其删掉，重新分区（不分也可以），重新安装操作系统，重启，解决问题，就这么简单。</p>\n<blockquote>\n<p>=============================<br>今天(2015-3-9)重装，又遇到了此问题，删除 boot 文件夹不行了。不知道什么原因。</p>\n</blockquote>\n","categories":[],"tags":["电脑日常"]},{"title":"MYSQL免安装版配置","url":"https://fanhua.tech/2015/02/21/MYSQL免安装版配置/","content":"<h4 id=\"0-下载-mysql-免安装版（解压版）\"><a href=\"#0-下载-mysql-免安装版（解压版）\" class=\"headerlink\" title=\"0.下载 mysql 免安装版（解压版）\"></a>0.下载 mysql 免安装版（解压版）</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://dev.mysql.com/downloads/mysql/</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"1-解压到目录-我这解压到-D-Program-Files\"><a href=\"#1-解压到目录-我这解压到-D-Program-Files\" class=\"headerlink\" title=\"1.解压到目录.我这解压到 D:\\Program Files\"></a>1.解压到目录.我这解压到 D:\\Program Files</h4><h4 id=\"2-找到-mysql-目录下的-my-default-ini-复制一份改名为-my-ini\"><a href=\"#2-找到-mysql-目录下的-my-default-ini-复制一份改名为-my-ini\" class=\"headerlink\" title=\"2.找到 mysql 目录下的 my-default.ini 复制一份改名为 my.ini\"></a>2.找到 mysql 目录下的 my-default.ini 复制一份改名为 my.ini</h4><p><del><font color= red>打开 my.ini 需要改动的地方是：basedir、datadir 和 port.注意 basedir 和 datadir 的区别.配置更改为以下红字部分</font></del></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#########旧配置</span><br><span class=\"line\"># There are commonly <span class=\"built_in\">set</span>, remove the <span class=\"meta\"># and set as required.</span></span><br><span class=\"line\"><span class=\"meta\"># basedir = D:\\Program Files\\mysql-advanced-5.6.18-winx64</span></span><br><span class=\"line\"><span class=\"meta\"># datadir = D:\\Program Files\\mysql-advanced-5.6.18-winx64\\data</span></span><br><span class=\"line\"><span class=\"meta\"># port = 3306</span></span><br><span class=\"line\"># server_id = .....</span><br><span class=\"line\"></span><br><span class=\"line\">################ 新配置<span class=\"number\">-2017</span><span class=\"number\">-11</span><span class=\"number\">-25</span>更新 #################</span><br><span class=\"line\">################ 新建 my.ini ##########################</span><br><span class=\"line\">#绑定IPv4</span><br><span class=\"line\">bind-address = <span class=\"number\">0.0</span><span class=\"number\">.0</span><span class=\"number\">.0</span></span><br><span class=\"line\"># 设置mysql的安装目录,即你解压缩安装包的位置</span><br><span class=\"line\">basedir = D:\\Program Files\\mysql</span><br><span class=\"line\"># 设置mysql数据库的数据的存放目录</span><br><span class=\"line\">datadir = D:\\Program Files\\mysql\\data</span><br><span class=\"line\"># 设置端口号</span><br><span class=\"line\">port = <span class=\"number\">3306</span></span><br><span class=\"line\"># 允许最大连接数</span><br><span class=\"line\">max_connections = <span class=\"number\">200</span></span><br><span class=\"line\"># 设置字符集为utf8</span><br><span class=\"line\">loose-<span class=\"keyword\">default</span>-character-<span class=\"built_in\">set</span> = utf8</span><br><span class=\"line\">#开启查询缓存</span><br><span class=\"line\">explicit_defaults_for_timestamp = <span class=\"literal\">true</span></span><br><span class=\"line\">sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</span><br><span class=\"line\">[client]</span><br><span class=\"line\">#设置客户端字符集</span><br><span class=\"line\">port=<span class=\"number\">3306</span></span><br><span class=\"line\"><span class=\"keyword\">default</span>-character-<span class=\"built_in\">set</span> = utf8</span><br><span class=\"line\">Server = D:\\Program Files\\mysql\\bin\\mysqld.exe</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"3-环境变量配置\"><a href=\"#3-环境变量配置\" class=\"headerlink\" title=\"3.环境变量配置\"></a>3.环境变量配置</h4><blockquote>\n<ul>\n<li>0x01.我的电脑-属性-高级-环境变量-新建</li>\n<li>0x02.变量 MYSQL_HOME 值 path\\mysql-advanced-5.6.18-winx64</li>\n<li>0x03.找到变量 path 编辑，在后面加上 ;%MYSQL_HOME%\\bin;</li>\n</ul>\n</blockquote>\n<h4 id=\"4-以管理员方式运行-cmd-进入-mysql-文件夹下的-bin-文件夹-输入-mysqld-install-注册服务\"><a href=\"#4-以管理员方式运行-cmd-进入-mysql-文件夹下的-bin-文件夹-输入-mysqld-install-注册服务\" class=\"headerlink\" title=\"4.以管理员方式运行 cmd 进入 mysql 文件夹下的 bin 文件夹　输入 mysqld -install 注册服务\"></a><del><font color= red>4.以管理员方式运行 cmd 进入 mysql 文件夹下的 bin 文件夹　输入 mysqld -install 注册服务</font></del></h4><h4 id=\"5-启动服务-net-start-mysql\"><a href=\"#5-启动服务-net-start-mysql\" class=\"headerlink\" title=\"5.启动服务 net start mysql\"></a>5.启动服务 net start mysql</h4><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#2017-11-25 21:51更新-解决新版无法启动的问题</span></span><br><span class=\"line\"><span class=\"comment\">#注册服务</span></span><br><span class=\"line\">mysqld -install</span><br><span class=\"line\">mysqld --initialize-insecure --user=mysql</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"6-停止服务-net-stop-mysql\"><a href=\"#6-停止服务-net-stop-mysql\" class=\"headerlink\" title=\"6.停止服务 net stop mysql\"></a>6.停止服务 net stop mysql</h4><h4 id=\"7-移除服务-mysqld-remove\"><a href=\"#7-移除服务-mysqld-remove\" class=\"headerlink\" title=\"7.移除服务 mysqld -remove\"></a>7.移除服务 mysqld -remove</h4><h4 id=\"8-修改-mysql-密码-以修改密码为-root-例\"><a href=\"#8-修改-mysql-密码-以修改密码为-root-例\" class=\"headerlink\" title=\"8.修改 mysql 密码:(以修改密码为 root 例)\"></a>8.修改 mysql 密码:(以修改密码为 root 例)</h4><p><del><font color= red>以<font color= red>管理员</font>方式运行 cmd，输入 mysql -uroot 后依次输入 <font color= red>注意分号</font><font color= red></del></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql<span class=\"operator\">&gt;</span><span class=\"keyword\">show</span> databases;</span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span>use mysql;</span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span><span class=\"keyword\">delete</span> <span class=\"keyword\">from</span> <span class=\"keyword\">User</span> <span class=\"keyword\">where</span> <span class=\"keyword\">User</span><span class=\"operator\">=</span>&quot;&quot;;</span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span><span class=\"keyword\">update</span> <span class=\"keyword\">User</span> <span class=\"keyword\">set</span> Password<span class=\"operator\">=</span>PASSWORD(<span class=\"string\">&#x27;root&#x27;</span>) <span class=\"keyword\">where</span> <span class=\"keyword\">User</span><span class=\"operator\">=</span><span class=\"string\">&#x27;root&#x27;</span>;</span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span>FLUSH PRIVILEGES;</span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span>quit;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">#<span class=\"number\">2017</span><span class=\"number\">-11</span><span class=\"number\">-25</span>更新</span><br><span class=\"line\">#以 <span class=\"operator\">&gt;</span>管理员<span class=\"operator\">&lt;</span> 方式运行cmd，输入mysql <span class=\"operator\">-</span>uroot 后依次输入</span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span><span class=\"keyword\">show</span> databases;</span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span>use mysql;</span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span><span class=\"keyword\">update</span> <span class=\"keyword\">User</span> <span class=\"keyword\">set</span> authentication_string<span class=\"operator\">=</span>PASSWORD(<span class=\"string\">&#x27;root&#x27;</span>) <span class=\"keyword\">where</span> <span class=\"keyword\">User</span><span class=\"operator\">=</span><span class=\"string\">&#x27;root&#x27;</span>;</span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span>FLUSH PRIVILEGES;</span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span>quit;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"9-修改默认字符集–2018-年-04-月-06-日\"><a href=\"#9-修改默认字符集–2018-年-04-月-06-日\" class=\"headerlink\" title=\"9.修改默认字符集–2018 年 04 月 06 日\"></a>9.修改默认字符集–2018 年 04 月 06 日</h4><p>ubuntu16.04 mysql5.7</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#1.</span></span><br><span class=\"line\">sudo vi /etc/mysql/conf.d/mysql.cnf</span><br><span class=\"line\"></span><br><span class=\"line\">[mysql]</span><br><span class=\"line\">...</span><br><span class=\"line\">default-character-set=utf8</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#2.</span></span><br><span class=\"line\">sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf</span><br><span class=\"line\"></span><br><span class=\"line\">[mysqld]</span><br><span class=\"line\">...</span><br><span class=\"line\">character-ser-server=utf8</span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["Mysql"]},{"title":"jQuery(easyUI)学习杂记","url":"https://fanhua.tech/2015/02/04/jQuery-easyUI-学习杂记/","content":"<h4 id=\"21-ajax-结合-FormData-向后台（asp-net-mvc）传送文件–2018-年-3-月-30-日\"><a href=\"#21-ajax-结合-FormData-向后台（asp-net-mvc）传送文件–2018-年-3-月-30-日\" class=\"headerlink\" title=\"21.ajax 结合 FormData 向后台（asp.net mvc）传送文件–2018 年 3 月 30 日\"></a>21.ajax 结合 FormData 向后台（asp.net mvc）传送文件–2018 年 3 月 30 日</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;frm&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;age&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;age&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;address&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;address&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;photo&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;photo&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;file&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;submit&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script type=<span class=\"string\">&quot;text/javascript&quot;</span>&gt;</span><br><span class=\"line\">     $(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">          $(<span class=\"string\">&#x27;#submit&#x27;</span>).<span class=\"title function_\">bind</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123; <span class=\"title class_\">Upload</span>(); &#125;)</span><br><span class=\"line\">     &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">function</span> <span class=\"title function_\">Upload</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">          <span class=\"keyword\">var</span> frm = <span class=\"keyword\">new</span> <span class=\"title class_\">FormData</span>(<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;frm&#x27;</span>));</span><br><span class=\"line\">          $.<span class=\"title function_\">ajax</span>(&#123;</span><br><span class=\"line\">               <span class=\"attr\">url</span>: <span class=\"string\">&#x27;@Url.Action(&quot;Import&quot;, &quot;Home&quot;)&#x27;</span>,</span><br><span class=\"line\">               <span class=\"attr\">type</span>: <span class=\"string\">&quot;post&quot;</span>,</span><br><span class=\"line\">               <span class=\"attr\">data</span>: frm,</span><br><span class=\"line\">               <span class=\"attr\">processData</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">               <span class=\"attr\">contentType</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">               <span class=\"attr\">success</span>: <span class=\"keyword\">function</span> (<span class=\"params\">data</span>) &#123;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">xx</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">HomeController</span> : <span class=\"title\">Controller</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        [<span class=\"meta\">HttpPost</span>]</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> ActionResult <span class=\"title\">Import</span>(<span class=\"params\"><span class=\"built_in\">string</span> age, <span class=\"built_in\">string</span> address, HttpPostedFileBase photo</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\">//TODO.</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"20-获取第一代子元素的语法是-parent-gt-child-选择器\"><a href=\"#20-获取第一代子元素的语法是-parent-gt-child-选择器\" class=\"headerlink\" title=\"20.获取第一代子元素的语法是 parent&gt;child 选择器\"></a>20.获取第一代子元素的语法是 parent&gt;child 选择器</h4><p>例：获取所有 div 元素下第一代子元素 span 元素的语法是</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">&quot;div&gt;span&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"19-id-选择器用-号\"><a href=\"#19-id-选择器用-号\" class=\"headerlink\" title=\"19.id 选择器用#号\"></a>19.id 选择器用#号</h4><h4 id=\"18-class-选择器用\"><a href=\"#18-class-选择器用\" class=\"headerlink\" title=\"18.class 选择器用.\"></a>18.class 选择器用.</h4><h4 id=\"17-星号-选择器-获取页面的所有元素。“全部”\"><a href=\"#17-星号-选择器-获取页面的所有元素。“全部”\" class=\"headerlink\" title=\"17.星号(*)选择器,获取页面的所有元素。“全部”\"></a>17.星号(*)选择器,获取页面的所有元素。“全部”</h4><h4 id=\"16-如果要选取多个指定的元素，则用’-’分开。\"><a href=\"#16-如果要选取多个指定的元素，则用’-’分开。\" class=\"headerlink\" title=\"16.如果要选取多个指定的元素，则用’,’分开。\"></a>16.如果要选取多个指定的元素，则用’,’分开。</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">&quot;sele1,sele2,...&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"15-first-选择器选取第一个元素\"><a href=\"#15-first-选择器选取第一个元素\" class=\"headerlink\" title=\"15.:first 选择器选取第一个元素\"></a>15.:first 选择器选取第一个元素</h4><p>例：获取 li 标签中第一个元素</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">&quot;li:first&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"14-eq-index-选择器，获取指定的-index-元素，下标从-0-开始。\"><a href=\"#14-eq-index-选择器，获取指定的-index-元素，下标从-0-开始。\" class=\"headerlink\" title=\"14.:eq(index)选择器，获取指定的 index 元素，下标从 0 开始。\"></a>14.:eq(index)选择器，获取指定的 index 元素，下标从 0 开始。</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">&quot;li:eq(3)&quot;</span>).<span class=\"title function_\">css</span>(<span class=\"string\">&quot;background-color&quot;</span>, <span class=\"string\">&quot;red&quot;</span>); <span class=\"comment\">//把第4个li元素的背景换成红色</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"13-contains-string-选择器，选取含有-string-字符串的所有元素\"><a href=\"#13-contains-string-选择器，选取含有-string-字符串的所有元素\" class=\"headerlink\" title=\"13.:contains(string)选择器，选取含有 string 字符串的所有元素\"></a>13.:contains(string)选择器，选取含有 string 字符串的所有元素</h4><h4 id=\"12-has-selector-选择器，选择器中包含指定元素名称的全部元素\"><a href=\"#12-has-selector-选择器，选择器中包含指定元素名称的全部元素\" class=\"headerlink\" title=\"12.:has(selector)选择器，选择器中包含指定元素名称的全部元素\"></a>12.:has(selector)选择器，选择器中包含指定元素名称的全部元素</h4><p>例：改变 li 标签下 p 标签的背景</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">&quot;li:has(p)&quot;</span>).<span class=\"title function_\">css</span>(<span class=\"string\">&quot;background-color&quot;</span>, <span class=\"string\">&quot;blue&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"11-hidden-显示隐藏的元素\"><a href=\"#11-hidden-显示隐藏的元素\" class=\"headerlink\" title=\"11.:hidden 显示隐藏的元素\"></a>11.:hidden 显示隐藏的元素</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> $strHtml = $(<span class=\"string\">&quot;input:hidden&quot;</span>).<span class=\"title function_\">val</span>(); <span class=\"comment\">//显示隐藏的input标签</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;div&quot;</span>).<span class=\"title function_\">html</span>($strHtml);</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"10-visible-获取所有-display-不为-none-的元素\"><a href=\"#10-visible-获取所有-display-不为-none-的元素\" class=\"headerlink\" title=\"10..:visible 获取所有 display 不为 none 的元素\"></a>10..:visible 获取所有 display 不为 none 的元素</h4><h4 id=\"09-input-功能是返回全部的表单元素\"><a href=\"#09-input-功能是返回全部的表单元素\" class=\"headerlink\" title=\"09.:input 功能是返回全部的表单元素\"></a>09.:input 功能是返回全部的表单元素</h4><h4 id=\"08-bind-方法与-unbind\"><a href=\"#08-bind-方法与-unbind\" class=\"headerlink\" title=\"08.bind()方法与 unbind()\"></a>08.bind()方法与 unbind()</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(selector).<span class=\"title function_\">bind</span>(event,[data] <span class=\"keyword\">function</span>)</span><br><span class=\"line\">$(selector).<span class=\"title function_\">unbind</span>(event,fun)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"07-one-方法-不同于-13-中的-bind-与-unbind-方法，此方法只能触发一次\"><a href=\"#07-one-方法-不同于-13-中的-bind-与-unbind-方法，此方法只能触发一次\" class=\"headerlink\" title=\"07.one()方法 不同于 13 中的 bind()与 unbind()方法，此方法只能触发一次\"></a>07.one()方法 不同于 13 中的 bind()与 unbind()方法，此方法只能触发一次</h4><h4 id=\"06-Ajax\"><a href=\"#06-Ajax\" class=\"headerlink\" title=\"06.Ajax\"></a>06.Ajax</h4><blockquote>\n<ul>\n<li>get:一般用于信息获取。使用 url 传递参数。对所发送的信息数量限制在 2000 字符内。</li>\n<li>post:一般用于向服务器修改数据。对所发送的信息数量无限制。</li>\n</ul>\n</blockquote>\n<h4 id=\"05-Http-请求状态码：\"><a href=\"#05-Http-请求状态码：\" class=\"headerlink\" title=\"05.Http 请求状态码：\"></a>05.Http 请求状态码：</h4><blockquote>\n<ul>\n<li>1xx:信息类，表示收到 Web 浏览器请求，正在进一步处理中</li>\n<li>2xx:成功，表示用户请求被正确就收，理解和处理</li>\n<li>3xx:重定向，表示请求没有成功，客户必须采取进一步处理</li>\n<li>4xx:客户端错误，表示客户端提交的请求有错误</li>\n<li>5xx:服务器错误，表示服务器不能完成对请求的处</li>\n<li>found:意味着请求中所引用的文档不存在</li>\n</ul>\n</blockquote>\n<h4 id=\"04-UI\"><a href=\"#04-UI\" class=\"headerlink\" title=\"04.UI\"></a>04.UI</h4><blockquote>\n<ul>\n<li>拖曳插件—draggable</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(selector). <span class=\"title function_\">draggable</span>(&#123;options&#125;);</span><br><span class=\"line\">    options属性。如<span class=\"string\">&quot;containment&quot;</span>属性指定拖曳区域，<span class=\"string\">&quot;axis&quot;</span>属性设置拖曳时的坐标方向。</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>放置插件—droppable(购物车?)</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(selector).<span class=\"title function_\">droppable</span>(&#123;options&#125;)</span><br><span class=\"line\">    drop函数表示当被接收的拖曳元素完全进入接收元素的容器时，触发该函数的调用。</span><br><span class=\"line\">    如：$(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                $(<span class=\"string\">&quot;.drag&quot;</span>).<span class=\"title function_\">draggable</span>();</span><br><span class=\"line\">                $(<span class=\"string\">&quot;.cart&quot;</span>).<span class=\"title function_\">droppable</span>(&#123;</span><br><span class=\"line\">                    <span class=\"attr\">drop</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                            ?</span><br><span class=\"line\">                            ?</span><br><span class=\"line\">                            ?</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125;);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>拖曳排序插件—sortable</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(selector).<span class=\"title function_\">sortable</span>(&#123; options &#125;);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>面板折叠插件—accordion</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(selector).<span class=\"title function_\">accordion</span>(&#123; options &#125;);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>选项卡插件-tabs</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(selector).<span class=\"title function_\">tabs</span>(&#123; options &#125;);</span><br><span class=\"line\">$(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  $(<span class=\"string\">&quot;#tabs&quot;</span>).<span class=\"title function_\">tabs</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">//设置各选项卡在切换时的动画效果</span></span><br><span class=\"line\">    <span class=\"attr\">fx</span>: &#123; <span class=\"attr\">opacity</span>: <span class=\"string\">&quot;toggle&quot;</span>, <span class=\"attr\">height</span>: <span class=\"string\">&quot;toggle&quot;</span> &#125;,</span><br><span class=\"line\">    <span class=\"attr\">event</span>: <span class=\"string\">&quot;mousemove&quot;</span>, <span class=\"comment\">//通过移动鼠标事件切换选项卡</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>对话框插件—dialog</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(selector).<span class=\"title function_\">dialog</span>(&#123; options &#125;);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>菜单工具插件-menu</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(selector).<span class=\"title function_\">menu</span>(&#123; options &#125;);</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"03-jQuery-Select–2015-年-7-月-3-日-18-10-06\"><a href=\"#03-jQuery-Select–2015-年-7-月-3-日-18-10-06\" class=\"headerlink\" title=\"03.jQuery Select–2015 年 7 月 3 日 18:10:06\"></a>03.jQuery Select–2015 年 7 月 3 日 18:10:06</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">&quot;#select_id&quot;</span>).<span class=\"title function_\">change</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;<span class=\"comment\">//code...&#125;);   //为Select添加事件，当选择其中一项时触发</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> checkText=$(<span class=\"string\">&quot;#select_id&quot;</span>).<span class=\"title function_\">find</span>(<span class=\"string\">&quot;option:selected&quot;</span>).<span class=\"title function_\">text</span>();  <span class=\"comment\">//获取Select选择的Text</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> checkValue=$(<span class=\"string\">&quot;#select_id&quot;</span>).<span class=\"title function_\">val</span>();  <span class=\"comment\">//获取Select选择的Value</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> checkIndex=$(<span class=\"string\">&quot;#select_id &quot;</span>).<span class=\"title function_\">get</span>(<span class=\"number\">0</span>).<span class=\"property\">selectedIndex</span>;  <span class=\"comment\">//获取Select选择的索引值</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> maxIndex=$(<span class=\"string\">&quot;#select_id option:last&quot;</span>).<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;index&quot;</span>);  <span class=\"comment\">//获取Select最大的索引值</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;#select_id &quot;</span>).<span class=\"title function_\">get</span>(<span class=\"number\">0</span>).<span class=\"property\">selectedIndex</span>=<span class=\"number\">1</span>;  <span class=\"comment\">//设置Select索引值为1的项选中</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;#select_id &quot;</span>).<span class=\"title function_\">val</span>(<span class=\"number\">4</span>);   <span class=\"comment\">//设置Select的Value值为4的项选中</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;#select_id option[text=&#x27;jQuery&#x27;]&quot;</span>).<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;selected&quot;</span>, <span class=\"literal\">true</span>);   <span class=\"comment\">//设置Select的Text值为</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;#select_id&quot;</span>).<span class=\"title function_\">append</span>(<span class=\"string\">&quot;&lt;option value=&#x27;Value&#x27;&gt;Text&lt;/option&gt;&quot;</span>);  <span class=\"comment\">//为Select追加一个Option(下拉项)</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;#select_id&quot;</span>).<span class=\"title function_\">prepend</span>(<span class=\"string\">&quot;&lt;option value=&#x27;0&#x27;&gt;请选择&lt;/option&gt;&quot;</span>);  <span class=\"comment\">//为Select插入一个Option(第一个位置)</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;#select_id option:last&quot;</span>).<span class=\"title function_\">remove</span>();  <span class=\"comment\">//删除Select中索引值最大Option(最后一个)</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;#select_id option[index=&#x27;0&#x27;]&quot;</span>).<span class=\"title function_\">remove</span>();  <span class=\"comment\">//删除Select中索引值为0的Option(第一个)</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;#select_id option[value=&#x27;3&#x27;]&quot;</span>).<span class=\"title function_\">remove</span>();  <span class=\"comment\">//删除Select中Value=&#x27;3&#x27;的Option</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;#select_id option[text=&#x27;4&#x27;]&quot;</span>).<span class=\"title function_\">remove</span>();  <span class=\"comment\">//删除Select中Text=&#x27;4&#x27;的Option</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"02-属性选择器\"><a href=\"#02-属性选择器\" class=\"headerlink\" title=\"02.属性选择器\"></a>02.属性选择器</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">&quot;[href]&quot;</span>) 选取所有带有 href 属性的元素。</span><br><span class=\"line\">$(<span class=\"string\">&quot;[href=&#x27;#&#x27;]&quot;</span>) 选取所有带有 href 值等于 <span class=\"string\">&quot;#&quot;</span> 的元素。</span><br><span class=\"line\">$(<span class=\"string\">&quot;[href!=&#x27;#&#x27;]&quot;</span>) 选取所有带有 href 值不等于 <span class=\"string\">&quot;#&quot;</span> 的元素。</span><br><span class=\"line\">$(<span class=\"string\">&quot;[href$=&#x27;.jpg&#x27;]&quot;</span>) 选取所有 href 值以 <span class=\"string\">&quot;.jpg&quot;</span> 结尾的元素。</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"01-EasyUI-datagrid\"><a href=\"#01-EasyUI-datagrid\" class=\"headerlink\" title=\"01.EasyUI datagrid\"></a>01.EasyUI datagrid</h4><blockquote>\n<ul>\n<li>第一步：添加样式和 js 脚本在前台添加展示数据表格的 table 元素<br>注：表格的属性可以在 table 中设置（Unobtrusive），也可以直接使用 js 脚本进行控制。建议使用 js 脚本控制<br>属性的定义：<br>请参见 Jquery easyui API</li>\n</ul>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">table</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">id</span>=<span class=\"string\">&quot;tt&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">style</span>=<span class=\"string\">&quot;width: 700px;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">title</span>=<span class=\"string\">&quot;标题，可以使用代码进行初始化，也可以使用这种属性的方式&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">iconcls</span>=<span class=\"string\">&quot;icon-edit&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  &gt;</span><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>第二步：在 doucment.ready 中初始化表格的属性以及数据获取的方式。</li>\n</ul>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">&#x27;#tt&#x27;</span>).<span class=\"title function_\">datagrid</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">url</span>: <span class=\"string\">&#x27;/UserInfo/GetAllUserInfos&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">title</span>: <span class=\"string\">&#x27;演示表格使用&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">width</span>: <span class=\"number\">700</span>,</span><br><span class=\"line\">        <span class=\"attr\">height</span>: <span class=\"number\">400</span>,</span><br><span class=\"line\">        <span class=\"attr\">fitColumns</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">idField</span>: <span class=\"string\">&#x27;ID&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">loadMsg</span>: <span class=\"string\">&#x27;正在加载用户的信息...&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">pagination</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">singleSelect</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">pageSize</span>:<span class=\"number\">10</span>,</span><br><span class=\"line\">        <span class=\"attr\">pageNumber</span>:<span class=\"number\">1</span>,</span><br><span class=\"line\">        <span class=\"attr\">pageList</span>: [<span class=\"number\">10</span>, <span class=\"number\">20</span>, <span class=\"number\">30</span>],</span><br><span class=\"line\">        <span class=\"attr\">queryParams</span>: &#123;&#125;,</span><br><span class=\"line\">        <span class=\"attr\">columns</span>: [[</span><br><span class=\"line\">                &#123; <span class=\"attr\">field</span>: <span class=\"string\">&#x27;ck&#x27;</span>, <span class=\"attr\">checkbox</span>: <span class=\"literal\">true</span>, <span class=\"attr\">align</span>: <span class=\"string\">&#x27;left&#x27;</span>, <span class=\"attr\">width</span>: <span class=\"number\">50</span> &#125;,</span><br><span class=\"line\">                &#123; <span class=\"attr\">field</span>: <span class=\"string\">&#x27;ID&#x27;</span>, <span class=\"attr\">title</span>: <span class=\"string\">&#x27;主键&#x27;</span>, <span class=\"attr\">width</span>: <span class=\"number\">80</span> &#125;,</span><br><span class=\"line\">                &#123; <span class=\"attr\">field</span>: <span class=\"string\">&#x27;UserName&#x27;</span>, <span class=\"attr\">title</span>: <span class=\"string\">&#x27;用户名&#x27;</span>, <span class=\"attr\">width</span>: <span class=\"number\">120</span> &#125;,</span><br><span class=\"line\">                &#123; <span class=\"attr\">field</span>: <span class=\"string\">&#x27;SubTime&#x27;</span>, <span class=\"attr\">title</span>: <span class=\"string\">&#x27;提交时间&#x27;</span>, <span class=\"attr\">width</span>: <span class=\"number\">80</span>, <span class=\"attr\">align</span>: <span class=\"string\">&#x27;right&#x27;</span>,</span><br><span class=\"line\">                    <span class=\"attr\">formatter</span>:<span class=\"keyword\">function</span>(<span class=\"params\">value,row,index</span>)&#123;</span><br><span class=\"line\">                        <span class=\"keyword\">return</span> (<span class=\"built_in\">eval</span>(value.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\/Date\\((\\d+)\\)\\//gi</span>, <span class=\"string\">&quot;new Date($1)&quot;</span>))).<span class=\"title function_\">pattern</span>(<span class=\"string\">&quot;yyyy-M-d h:m:s.S&quot;</span>);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    &#125;，</span><br><span class=\"line\">                    &#123;<span class=\"attr\">field</span>:<span class=\"string\">&#x27;showprice&#x27;</span>,<span class=\"attr\">title</span>:<span class=\"string\">&#x27;商品价格&#x27;</span>,<span class=\"attr\">width</span>:<span class=\"number\">80</span>,<span class=\"attr\">align</span>:<span class=\"string\">&#x27;right&#x27;</span>,</span><br><span class=\"line\">                            <span class=\"attr\">styler</span>:<span class=\"keyword\">function</span>(<span class=\"params\">value,row,index</span>)&#123;</span><br><span class=\"line\">                                <span class=\"keyword\">if</span> (value &lt; <span class=\"number\">20</span>)&#123;</span><br><span class=\"line\">                                    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;background-color:#ffee00;color:red;&#x27;</span>;</span><br><span class=\"line\">                                &#125;</span><br><span class=\"line\">                            &#125;,</span><br><span class=\"line\">                            <span class=\"attr\">formatter</span>:<span class=\"keyword\">function</span>(<span class=\"params\">value,row,index</span>)&#123;</span><br><span class=\"line\">                                <span class=\"keyword\">return</span> <span class=\"string\">&quot;&lt;a href=&#x27;#&#x27; onclick=&#x27;editGoodsPrice(&quot;</span>+row.<span class=\"property\">goodsid</span>+<span class=\"string\">&quot;);return false;&#x27;&gt;&quot;</span>+value+<span class=\"string\">&quot;&lt;/a&gt;&quot;</span>;</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            ]],</span><br><span class=\"line\">            <span class=\"attr\">toolbar</span>: [&#123;</span><br><span class=\"line\">                    <span class=\"attr\">id</span>: <span class=\"string\">&#x27;btnDownShelf&#x27;</span>,</span><br><span class=\"line\">                    <span class=\"attr\">text</span>: <span class=\"string\">&#x27;上架&#x27;</span>,</span><br><span class=\"line\">                    <span class=\"attr\">iconCls</span>: <span class=\"string\">&#x27;icon-add&#x27;</span>,</span><br><span class=\"line\">                    <span class=\"attr\">handler</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">var</span> rows = $(<span class=\"string\">&#x27;#goodGrid&#x27;</span>).<span class=\"title function_\">datagrid</span>(<span class=\"string\">&#x27;getSelections&#x27;</span>);</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (!rows || rows.<span class=\"property\">length</span> == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                            <span class=\"comment\">//alert(&quot;请选择要修改的商品！&quot;);</span></span><br><span class=\"line\">                            $.messager.<span class=\"title function_\">alert</span>(<span class=\"string\">&quot;选择商品提醒&quot;</span>, <span class=\"string\">&quot;请选择要修改的商品!&quot;</span>, <span class=\"string\">&quot;error&quot;</span>);</span><br><span class=\"line\">                            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                        $.messager.<span class=\"title function_\">confirm</span>(<span class=\"string\">&quot;上架提醒&quot;</span>, <span class=\"string\">&quot;您是否要真的要将此商品上架？&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">r</span>) &#123;</span><br><span class=\"line\">                            <span class=\"keyword\">if</span> (r) &#123;</span><br><span class=\"line\">                                <span class=\"title function_\">updateGoodsNewHot</span>(rows, <span class=\"string\">&quot;onshelf&quot;</span>);</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                        &#125;);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">        &#125;],</span><br><span class=\"line\">        <span class=\"attr\">onHeaderContextMenu</span>: <span class=\"keyword\">function</span> (<span class=\"params\">e, field</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<ul>\n<li>第三步：后台设置加载的数据：<br>注意：表格 Post 或者 get 回来的请求中<br>page：3 代表 page 为 key，然后选择的当前页码为 3<br>rows：10 代表一页的大小为 10<br>后台返回的数据的格式为：{total：’’，rows：[{},{}]}<br>只要包含了总数 tatol 字段，rows 是具体的行数<br>例如：<br>ASP.NET MVC 例子</li>\n</ul>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> JsonResult <span class=\"title\">GetAllUserInfos</span>()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> pageSize = <span class=\"number\">5</span>;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> pageIndex = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"built_in\">int</span>.TryParse(<span class=\"keyword\">this</span>.Request[<span class=\"string\">&quot;page&quot;</span>], <span class=\"keyword\">out</span> pageIndex);</span><br><span class=\"line\">    <span class=\"built_in\">int</span>.TryParse(<span class=\"keyword\">this</span>.Request[<span class=\"string\">&quot;rows&quot;</span>], <span class=\"keyword\">out</span> pageSize);</span><br><span class=\"line\"></span><br><span class=\"line\">    pageSize = pageSize &lt;= <span class=\"number\">0</span> ? <span class=\"number\">5</span> : pageSize;</span><br><span class=\"line\">    pageIndex = pageIndex &lt; <span class=\"number\">1</span> ? <span class=\"number\">1</span> : pageIndex;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> temp = db.UserInfo</span><br><span class=\"line\">        .OrderBy(u=&gt;u.Sort)</span><br><span class=\"line\">        .Skip&lt;UserInfo&gt;((pageIndex<span class=\"number\">-1</span>)*pageSize)</span><br><span class=\"line\">        .Take&lt;UserInfo&gt;(pageSize)</span><br><span class=\"line\">        .ToList&lt;UserInfo&gt;();</span><br><span class=\"line\">    Hashtable ht = <span class=\"keyword\">new</span> Hashtable();</span><br><span class=\"line\">    ht[<span class=\"string\">&quot;total&quot;</span>] = db.UserInfo.Count();</span><br><span class=\"line\">    ht[<span class=\"string\">&quot;rows&quot;</span>] = temp;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> Json(ht);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>WinForm 例子</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ProcessRequest</span>(<span class=\"params\">HttpContext context</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    context.Response.ContentType = <span class=\"string\">&quot;text/plain&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> strWebName = context.Request[<span class=\"string\">&quot;WebName&quot;</span>] ?? <span class=\"built_in\">string</span>.Empty;</span><br><span class=\"line\">    <span class=\"keyword\">var</span>  GoodsNo = context.Request[<span class=\"string\">&quot;GoodsNo&quot;</span>] ?? <span class=\"built_in\">string</span>.Empty;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> categoryId = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">int</span> pageIndex = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> pageSize = <span class=\"number\">10</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">int</span>.TryParse(context.Request[<span class=\"string\">&quot;rows&quot;</span>], <span class=\"keyword\">out</span> pageSize);</span><br><span class=\"line\">    <span class=\"built_in\">int</span>.TryParse(context.Request[<span class=\"string\">&quot;page&quot;</span>], <span class=\"keyword\">out</span> pageIndex);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">decimal</span> priceLeft = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">decimal</span> priceRight = <span class=\"number\">1000000</span>;</span><br><span class=\"line\">    <span class=\"built_in\">int</span> goodsStatus = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"built_in\">decimal</span>.TryParse(context.Request[<span class=\"string\">&quot;PriceLeft&quot;</span>], <span class=\"keyword\">out</span> priceLeft);</span><br><span class=\"line\">    <span class=\"built_in\">decimal</span>.TryParse(context.Request[<span class=\"string\">&quot;PriceRight&quot;</span>], <span class=\"keyword\">out</span> priceRight);</span><br><span class=\"line\">    <span class=\"built_in\">int</span>.TryParse(context.Request[<span class=\"string\">&quot;CategoryId&quot;</span>], <span class=\"keyword\">out</span> categoryId);</span><br><span class=\"line\">    <span class=\"built_in\">int</span>.TryParse(context.Request[<span class=\"string\">&quot;GoodsStatus&quot;</span>], <span class=\"keyword\">out</span> goodsStatus);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> goodsQueryParamter = <span class=\"keyword\">new</span> GoodsQueryParamter();</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    goodsQueryParamter.GoodsStatus = (Model.GoodsModel.GoodsStatusEnum)goodsStatus;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> ds = goodsService.GetGoodsList(goodsQueryParamter);</span><br><span class=\"line\">    <span class=\"built_in\">string</span> json = <span class=\"built_in\">string</span>.Empty;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (ds != <span class=\"literal\">null</span> &amp;&amp; ds.Tables.Count &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        System.Text.StringBuilder rowJson = <span class=\"keyword\">new</span> System.Text.StringBuilder();</span><br><span class=\"line\">        <span class=\"built_in\">int</span> colLen = ds.Tables[<span class=\"number\">0</span>].Columns.Count;</span><br><span class=\"line\">        DataColumnCollection col = ds.Tables[<span class=\"number\">0</span>].Columns;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (DataRow row <span class=\"keyword\">in</span> ds.Tables[<span class=\"number\">0</span>].Rows)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            System.Text.StringBuilder colJson = <span class=\"keyword\">new</span> System.Text.StringBuilder();</span><br><span class=\"line\">            rowJson.Append(<span class=\"string\">&quot;&#123;&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; colLen; i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                colJson.Append(<span class=\"string\">&quot;\\&quot;&quot;</span> + col[i].ColumnName + <span class=\"string\">&quot;\\&quot;:\\&quot;&quot;</span> + row[i].ToString() + <span class=\"string\">&quot;\\&quot;,&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            rowJson.Append(colJson.ToString().TrimEnd(<span class=\"string\">&#x27;,&#x27;</span>));</span><br><span class=\"line\">            rowJson.Append(<span class=\"string\">&quot;&#125;,&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        json = <span class=\"string\">&quot;&#123;\\&quot;total\\&quot;:&quot;</span> + ds.Tables[<span class=\"number\">0</span>].Rows[<span class=\"number\">0</span>][<span class=\"string\">&quot;sumGoods&quot;</span>] + <span class=\"string\">&quot;,\\&quot;rows\\&quot;:[&quot;</span> + rowJson.ToString().TrimEnd(<span class=\"string\">&#x27;,&#x27;</span>) + <span class=\"string\">&quot;]&#125;&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    context.Response.Write(json);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"00-easyUI-的-datagrid-前台分页代码\"><a href=\"#00-easyUI-的-datagrid-前台分页代码\" class=\"headerlink\" title=\"00.easyUI 的 datagrid 前台分页代码\"></a>00.easyUI 的 datagrid 前台分页代码</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//初始化dategrid</span></span><br><span class=\"line\">$(<span class=\"string\">&#x27;#tt&#x27;</span>).<span class=\"title function_\">datagrid</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">url</span>:<span class=\"literal\">null</span>,</span><br><span class=\"line\">    <span class=\"attr\">pagination</span>:<span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">pageSize</span>:<span class=\"number\">20</span>,</span><br><span class=\"line\">    <span class=\"attr\">pageNumber</span>:<span class=\"number\">1</span>,</span><br><span class=\"line\">    <span class=\"attr\">rownumbers</span>:<span class=\"literal\">true</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">$(<span class=\"string\">&#x27;#tt&#x27;</span>).<span class=\"title function_\">datagrid</span>(<span class=\"string\">&#x27;getPager&#x27;</span>).<span class=\"title function_\">pagination</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">displayMsg</span>:<span class=\"string\">&#x27;当前显示从 [&#123;from&#125;] 到 [&#123;to&#125;] 共[&#123;total&#125;]条记录&#x27;</span>,</span><br><span class=\"line\">    onSelectPage : <span class=\"keyword\">function</span>(<span class=\"params\">pPageIndex, pPageSize</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//改变opts.pageNumber和opts.pageSize的参数值，用于下次查询传给数据层查询指定页码的数据</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> gridOpts = $(<span class=\"string\">&#x27;#tt&#x27;</span>).<span class=\"title function_\">datagrid</span>(<span class=\"string\">&#x27;options&#x27;</span>);</span><br><span class=\"line\">        gridOpts.<span class=\"property\">pageNumber</span> = pPageIndex;</span><br><span class=\"line\">        gridOpts.<span class=\"property\">pageSize</span> = pPageSize;</span><br><span class=\"line\">        <span class=\"comment\">//定义查询条件</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> queryCondition = &#123;<span class=\"attr\">name</span>:<span class=\"string\">&quot;剑豪&quot;</span>&#125;;</span><br><span class=\"line\">        <span class=\"comment\">//异步获取数据到javascript对象，入参为查询条件和页码信息</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> oData = <span class=\"title function_\">getAjaxDate</span>(<span class=\"string\">&quot;orderManageBuz&quot;</span>,<span class=\"string\">&quot;qryWorkOrderPaged&quot;</span>,queryCondition,gridOpts);</span><br><span class=\"line\">        <span class=\"comment\">//使用loadDate方法加载返回的数据</span></span><br><span class=\"line\">        $(<span class=\"string\">&#x27;#tt&#x27;</span>).<span class=\"title function_\">datagrid</span>(<span class=\"string\">&#x27;loadData&#x27;</span>,&#123;<span class=\"string\">&quot;total&quot;</span> : oData.<span class=\"property\">page</span>.<span class=\"property\">recordCount</span>,<span class=\"string\">&quot;rows&quot;</span> : oData.<span class=\"property\">data</span>&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":["jQuery"]},{"title":"","url":"https://fanhua.tech/404.html","content":"\n<!DOCTYPE HTML>\n<html>\n<head>\n\t<title>404 - arao'blog</title>\n\t<meta name=\"description\" content=\"404错误，页面不存在！\">\n\t<meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n\t<meta name=\"robots\" content=\"all\" />\n\t<meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\t<script type=\"text/javascript\" src=\"http://qzonestyle.gtimg.cn/qzone_v6/lostchild/search_children.js\" charset=\"utf-8\"></script>\n</body>\n</html>","categories":[],"tags":[]},{"title":"about","url":"https://fanhua.tech/about/index.html","content":"","categories":[],"tags":[]},{"title":"artitalk_pages","url":"https://fanhua.tech/artitalk-pages/index.html","content":"","categories":[],"tags":[]},{"title":"分类","url":"https://fanhua.tech/categories/index.html","content":"","categories":[],"tags":[]},{"title":"","url":"https://fanhua.tech/css/personal-style.css","content":"","categories":[],"tags":[]},{"title":"link","url":"https://fanhua.tech/link/index.html","content":"<h3>Microsoft</h3>\n\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://msdn.microsoft.com/library/\" alt=\"Microsoft API\"> <img src= \"/img/loading.gif\" data-lazy-src=\"https://docs.microsoft.com/en-us/aspnet/core/getting-started\" alt=\"Asp.Net Core\"> <img src= \"/img/loading.gif\" data-lazy-src=\"https://www.microsoft.com/net/download\" alt=\".NET Downloads\"> <img src= \"/img/loading.gif\" data-lazy-src=\"https://msdn.microsoft.com/library/\" alt=\"Microsoft API\"> <img src= \"/img/loading.gif\" data-lazy-src=\"https://docs.microsoft.com/en-us/aspnet/core/getting-started\" alt=\"Asp.Net Core\"> <img src= \"/img/loading.gif\" data-lazy-src=\"https://www.microsoft.com/net/download\" alt=\".NET Downloads\"></p>\n<h3>Python</h3>\n\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"https://www.python.org/\" alt=\"Python\"><br><img src= \"/img/loading.gif\" data-lazy-src=\"https://www.codecademy.com/learn/learn-python\" alt=\"learn-python\"></p>\n<h3>Weixin</h3>\n\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"http://mp.weixin.qq.com/wiki/home/index.html\" alt=\"微信平台开发者文档\"></p>\n<h3>Q/A</h3>\n\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"http://stackoverflow.com/\" alt=\"stackoverflow\"> <img src= \"/img/loading.gif\" data-lazy-src=\"https://segmentfault.com/\" alt=\"segmentfault\"></p>\n<h3>safety</h3>\n\n<p><img src= \"/img/loading.gif\" data-lazy-src=\"http://www.zolsky.com/\" alt=\"天诺时空\"></p>\n","categories":[],"tags":[]},{"title":"project","url":"https://fanhua.tech/project/index.html","content":"","categories":[],"tags":[]},{"title":"search","url":"https://fanhua.tech/search/index.html","content":"","categories":[],"tags":[]},{"title":"tags","url":"https://fanhua.tech/tags/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"https://fanhua.tech/tag/index.html","content":"","categories":[],"tags":[]}]